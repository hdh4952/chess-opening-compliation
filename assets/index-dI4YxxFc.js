(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=a(o);fetch(o.href,c)}})();function jv(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}function qm(l){if(Object.prototype.hasOwnProperty.call(l,"__esModule"))return l;var i=l.default;if(typeof i=="function"){var a=function s(){var o=!1;try{o=this instanceof s}catch{}return o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};a.prototype=i.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(l).forEach(function(s){var o=Object.getOwnPropertyDescriptor(l,s);Object.defineProperty(a,s,o.get?o:{enumerable:!0,get:function(){return l[s]}})}),a}var Bc={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wg;function Bm(){if(wg)return Tl;wg=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:l,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Tl.Fragment=i,Tl.jsx=a,Tl.jsxs=a,Tl}var Eg;function $m(){return Eg||(Eg=1,Bc.exports=Bm()),Bc.exports}var ue=$m(),$c={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ag;function Hm(){if(Ag)return Se;Ag=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=b&&E[b]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function U(E,Y,I){this.props=E,this.context=Y,this.refs=L,this.updater=I||S}U.prototype.isReactComponent={},U.prototype.setState=function(E,Y){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,Y,"setState")},U.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Z(){}Z.prototype=U.prototype;function W(E,Y,I){this.props=E,this.context=Y,this.refs=L,this.updater=I||S}var H=W.prototype=new Z;H.constructor=W,R(H,U.prototype),H.isPureReactComponent=!0;var J=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function ee(E,Y,I,V,ie,ye){return I=ye.ref,{$$typeof:l,type:E,key:Y,ref:I!==void 0?I:null,props:ye}}function re(E,Y){return ee(E.type,Y,void 0,void 0,void 0,E.props)}function Ee(E){return typeof E=="object"&&E!==null&&E.$$typeof===l}function ke(E){var Y={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(I){return Y[I]})}var Ae=/\/+/g;function pe(E,Y){return typeof E=="object"&&E!==null&&E.key!=null?ke(""+E.key):Y.toString(36)}function Ie(){}function tt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Ie,Ie):(E.status="pending",E.then(function(Y){E.status==="pending"&&(E.status="fulfilled",E.value=Y)},function(Y){E.status==="pending"&&(E.status="rejected",E.reason=Y)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function Ke(E,Y,I,V,ie){var ye=typeof E;(ye==="undefined"||ye==="boolean")&&(E=null);var te=!1;if(E===null)te=!0;else switch(ye){case"bigint":case"string":case"number":te=!0;break;case"object":switch(E.$$typeof){case l:case i:te=!0;break;case p:return te=E._init,Ke(te(E._payload),Y,I,V,ie)}}if(te)return ie=ie(E),te=V===""?"."+pe(E,0):V,J(ie)?(I="",te!=null&&(I=te.replace(Ae,"$&/")+"/"),Ke(ie,Y,I,"",function(ot){return ot})):ie!=null&&(Ee(ie)&&(ie=re(ie,I+(ie.key==null||E&&E.key===ie.key?"":(""+ie.key).replace(Ae,"$&/")+"/")+te)),Y.push(ie)),1;te=0;var nt=V===""?".":V+":";if(J(E))for(var Me=0;Me<E.length;Me++)V=E[Me],ye=nt+pe(V,Me),te+=Ke(V,Y,I,ye,ie);else if(Me=_(E),typeof Me=="function")for(E=Me.call(E),Me=0;!(V=E.next()).done;)V=V.value,ye=nt+pe(V,Me++),te+=Ke(V,Y,I,ye,ie);else if(ye==="object"){if(typeof E.then=="function")return Ke(tt(E),Y,I,V,ie);throw Y=String(E),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return te}function q(E,Y,I){if(E==null)return E;var V=[],ie=0;return Ke(E,V,"","",function(ye){return Y.call(I,ye,ie++)}),V}function Q(E){if(E._status===-1){var Y=E._result;Y=Y(),Y.then(function(I){(E._status===0||E._status===-1)&&(E._status=1,E._result=I)},function(I){(E._status===0||E._status===-1)&&(E._status=2,E._result=I)}),E._status===-1&&(E._status=0,E._result=Y)}if(E._status===1)return E._result.default;throw E._result}var se=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function we(){}return Se.Children={map:q,forEach:function(E,Y,I){q(E,function(){Y.apply(this,arguments)},I)},count:function(E){var Y=0;return q(E,function(){Y++}),Y},toArray:function(E){return q(E,function(Y){return Y})||[]},only:function(E){if(!Ee(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},Se.Component=U,Se.Fragment=a,Se.Profiler=o,Se.PureComponent=W,Se.StrictMode=s,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,Se.__COMPILER_RUNTIME={__proto__:null,c:function(E){return X.H.useMemoCache(E)}},Se.cache=function(E){return function(){return E.apply(null,arguments)}},Se.cloneElement=function(E,Y,I){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var V=R({},E.props),ie=E.key,ye=void 0;if(Y!=null)for(te in Y.ref!==void 0&&(ye=void 0),Y.key!==void 0&&(ie=""+Y.key),Y)!F.call(Y,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&Y.ref===void 0||(V[te]=Y[te]);var te=arguments.length-2;if(te===1)V.children=I;else if(1<te){for(var nt=Array(te),Me=0;Me<te;Me++)nt[Me]=arguments[Me+2];V.children=nt}return ee(E.type,ie,void 0,void 0,ye,V)},Se.createContext=function(E){return E={$$typeof:h,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Se.createElement=function(E,Y,I){var V,ie={},ye=null;if(Y!=null)for(V in Y.key!==void 0&&(ye=""+Y.key),Y)F.call(Y,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(ie[V]=Y[V]);var te=arguments.length-2;if(te===1)ie.children=I;else if(1<te){for(var nt=Array(te),Me=0;Me<te;Me++)nt[Me]=arguments[Me+2];ie.children=nt}if(E&&E.defaultProps)for(V in te=E.defaultProps,te)ie[V]===void 0&&(ie[V]=te[V]);return ee(E,ye,void 0,void 0,null,ie)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(E){return{$$typeof:d,render:E}},Se.isValidElement=Ee,Se.lazy=function(E){return{$$typeof:p,_payload:{_status:-1,_result:E},_init:Q}},Se.memo=function(E,Y){return{$$typeof:v,type:E,compare:Y===void 0?null:Y}},Se.startTransition=function(E){var Y=X.T,I={};X.T=I;try{var V=E(),ie=X.S;ie!==null&&ie(I,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(we,se)}catch(ye){se(ye)}finally{X.T=Y}},Se.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},Se.use=function(E){return X.H.use(E)},Se.useActionState=function(E,Y,I){return X.H.useActionState(E,Y,I)},Se.useCallback=function(E,Y){return X.H.useCallback(E,Y)},Se.useContext=function(E){return X.H.useContext(E)},Se.useDebugValue=function(){},Se.useDeferredValue=function(E,Y){return X.H.useDeferredValue(E,Y)},Se.useEffect=function(E,Y,I){var V=X.H;if(typeof I=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return V.useEffect(E,Y)},Se.useId=function(){return X.H.useId()},Se.useImperativeHandle=function(E,Y,I){return X.H.useImperativeHandle(E,Y,I)},Se.useInsertionEffect=function(E,Y){return X.H.useInsertionEffect(E,Y)},Se.useLayoutEffect=function(E,Y){return X.H.useLayoutEffect(E,Y)},Se.useMemo=function(E,Y){return X.H.useMemo(E,Y)},Se.useOptimistic=function(E,Y){return X.H.useOptimistic(E,Y)},Se.useReducer=function(E,Y,I){return X.H.useReducer(E,Y,I)},Se.useRef=function(E){return X.H.useRef(E)},Se.useState=function(E){return X.H.useState(E)},Se.useSyncExternalStore=function(E,Y,I){return X.H.useSyncExternalStore(E,Y,I)},Se.useTransition=function(){return X.H.useTransition()},Se.version="19.1.0",Se}var Tg;function Cf(){return Tg||(Tg=1,$c.exports=Hm()),$c.exports}var x=Cf();const ht=jv(x);var Hc={exports:{}},xl={},Kc={exports:{}},Gc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xg;function Km(){return xg||(xg=1,function(l){function i(q,Q){var se=q.length;q.push(Q);e:for(;0<se;){var we=se-1>>>1,E=q[we];if(0<o(E,Q))q[we]=Q,q[se]=E,se=we;else break e}}function a(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var Q=q[0],se=q.pop();if(se!==Q){q[0]=se;e:for(var we=0,E=q.length,Y=E>>>1;we<Y;){var I=2*(we+1)-1,V=q[I],ie=I+1,ye=q[ie];if(0>o(V,se))ie<E&&0>o(ye,V)?(q[we]=ye,q[ie]=se,we=ie):(q[we]=V,q[I]=se,we=I);else if(ie<E&&0>o(ye,se))q[we]=ye,q[ie]=se,we=ie;else break e}}return Q}function o(q,Q){var se=q.sortIndex-Q.sortIndex;return se!==0?se:q.id-Q.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;l.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var g=[],v=[],p=1,b=null,_=3,S=!1,R=!1,L=!1,U=!1,Z=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function J(q){for(var Q=a(v);Q!==null;){if(Q.callback===null)s(v);else if(Q.startTime<=q)s(v),Q.sortIndex=Q.expirationTime,i(g,Q);else break;Q=a(v)}}function X(q){if(L=!1,J(q),!R)if(a(g)!==null)R=!0,F||(F=!0,pe());else{var Q=a(v);Q!==null&&Ke(X,Q.startTime-q)}}var F=!1,ee=-1,re=5,Ee=-1;function ke(){return U?!0:!(l.unstable_now()-Ee<re)}function Ae(){if(U=!1,F){var q=l.unstable_now();Ee=q;var Q=!0;try{e:{R=!1,L&&(L=!1,W(ee),ee=-1),S=!0;var se=_;try{t:{for(J(q),b=a(g);b!==null&&!(b.expirationTime>q&&ke());){var we=b.callback;if(typeof we=="function"){b.callback=null,_=b.priorityLevel;var E=we(b.expirationTime<=q);if(q=l.unstable_now(),typeof E=="function"){b.callback=E,J(q),Q=!0;break t}b===a(g)&&s(g),J(q)}else s(g);b=a(g)}if(b!==null)Q=!0;else{var Y=a(v);Y!==null&&Ke(X,Y.startTime-q),Q=!1}}break e}finally{b=null,_=se,S=!1}Q=void 0}}finally{Q?pe():F=!1}}}var pe;if(typeof H=="function")pe=function(){H(Ae)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,tt=Ie.port2;Ie.port1.onmessage=Ae,pe=function(){tt.postMessage(null)}}else pe=function(){Z(Ae,0)};function Ke(q,Q){ee=Z(function(){q(l.unstable_now())},Q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(q){q.callback=null},l.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<q?Math.floor(1e3/q):5},l.unstable_getCurrentPriorityLevel=function(){return _},l.unstable_next=function(q){switch(_){case 1:case 2:case 3:var Q=3;break;default:Q=_}var se=_;_=Q;try{return q()}finally{_=se}},l.unstable_requestPaint=function(){U=!0},l.unstable_runWithPriority=function(q,Q){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var se=_;_=q;try{return Q()}finally{_=se}},l.unstable_scheduleCallback=function(q,Q,se){var we=l.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?we+se:we):se=we,q){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=se+E,q={id:p++,callback:Q,priorityLevel:q,startTime:se,expirationTime:E,sortIndex:-1},se>we?(q.sortIndex=se,i(v,q),a(g)===null&&q===a(v)&&(L?(W(ee),ee=-1):L=!0,Ke(X,se-we))):(q.sortIndex=E,i(g,q),R||S||(R=!0,F||(F=!0,pe()))),q},l.unstable_shouldYield=ke,l.unstable_wrapCallback=function(q){var Q=_;return function(){var se=_;_=Q;try{return q.apply(this,arguments)}finally{_=se}}}}(Gc)),Gc}var Og;function Gm(){return Og||(Og=1,Kc.exports=Km()),Kc.exports}var Yc={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cg;function Ym(){if(Cg)return Kt;Cg=1;var l=Cf();function i(g){var v="https://react.dev/errors/"+g;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)v+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+g+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,v,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:v,implementation:p}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,v){if(g==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(g,v){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(i(299));return c(g,v,null,p)},Kt.flushSync=function(g){var v=h.T,p=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=v,s.p=p,s.d.f()}},Kt.preconnect=function(g,v){typeof g=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(g,v))},Kt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Kt.preinit=function(g,v){if(typeof g=="string"&&v&&typeof v.as=="string"){var p=v.as,b=d(p,v.crossOrigin),_=typeof v.integrity=="string"?v.integrity:void 0,S=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;p==="style"?s.d.S(g,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:S}):p==="script"&&s.d.X(g,{crossOrigin:b,integrity:_,fetchPriority:S,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},Kt.preinitModule=function(g,v){if(typeof g=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var p=d(v.as,v.crossOrigin);s.d.M(g,{crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(g)},Kt.preload=function(g,v){if(typeof g=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var p=v.as,b=d(p,v.crossOrigin);s.d.L(g,p,{crossOrigin:b,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},Kt.preloadModule=function(g,v){if(typeof g=="string")if(v){var p=d(v.as,v.crossOrigin);s.d.m(g,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:p,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(g)},Kt.requestFormReset=function(g){s.d.r(g)},Kt.unstable_batchedUpdates=function(g,v){return g(v)},Kt.useFormState=function(g,v,p){return h.H.useFormState(g,v,p)},Kt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var Rg;function kv(){if(Rg)return Yc.exports;Rg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Yc.exports=Ym(),Yc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dg;function Qm(){if(Dg)return xl;Dg=1;var l=Gm(),i=Cf(),a=kv();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var u=n.return;if(u===null)break;var f=u.alternate;if(f===null){if(r=u.return,r!==null){n=r;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===n)return d(u),e;if(f===r)return d(u),t;f=f.sibling}throw Error(s(188))}if(n.return!==r.return)n=u,r=f;else{for(var y=!1,m=u.child;m;){if(m===n){y=!0,n=u,r=f;break}if(m===r){y=!0,r=u,n=f;break}m=m.sibling}if(!y){for(m=f.child;m;){if(m===n){y=!0,n=f,r=u;break}if(m===r){y=!0,r=f,n=u;break}m=m.sibling}if(!y)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),H=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),Ee=Symbol.for("react.activity"),ke=Symbol.for("react.memo_cache_sentinel"),Ae=Symbol.iterator;function pe(e){return e===null||typeof e!="object"?null:(e=Ae&&e[Ae]||e["@@iterator"],typeof e=="function"?e:null)}var Ie=Symbol.for("react.client.reference");function tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ie?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case U:return"Profiler";case L:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList";case Ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case S:return"Portal";case H:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case J:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:tt(e.type)||"Memo";case re:t=e._payload,e=e._init;try{return tt(e(t))}catch{}}return null}var Ke=Array.isArray,q=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},we=[],E=-1;function Y(e){return{current:e}}function I(e){0>E||(e.current=we[E],we[E]=null,E--)}function V(e,t){E++,we[E]=e.current,e.current=t}var ie=Y(null),ye=Y(null),te=Y(null),nt=Y(null);function Me(e,t){switch(V(te,t),V(ye,e),V(ie,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?J0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=J0(t),e=I0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}I(ie),V(ie,e)}function ot(){I(ie),I(ye),I(te)}function at(e){e.memoizedState!==null&&V(nt,e);var t=ie.current,n=I0(t,e.type);t!==n&&(V(ye,e),V(ie,n))}function At(e){ye.current===e&&(I(ie),I(ye)),nt.current===e&&(I(nt),_l._currentValue=se)}var Tt=Object.prototype.hasOwnProperty,Cn=l.unstable_scheduleCallback,xt=l.unstable_cancelCallback,tn=l.unstable_shouldYield,nn=l.unstable_requestPaint,dt=l.unstable_now,Jn=l.unstable_getCurrentPriorityLevel,zn=l.unstable_ImmediatePriority,Qt=l.unstable_UserBlockingPriority,an=l.unstable_NormalPriority,qn=l.unstable_LowPriority,Bn=l.unstable_IdlePriority,_i=l.log,Fi=l.unstable_setDisableYieldValue,Rn=null,be=null;function _e(e){if(typeof _i=="function"&&Fi(e),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(Rn,e)}catch{}}var xe=Math.clz32?Math.clz32:pn,$n=Math.log,We=Math.LN2;function pn(e){return e>>>=0,e===0?32:31-($n(e)/We|0)|0}var Dn=256,Hn=4194304;function rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function In(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var m=r&134217727;return m!==0?(r=m&~f,r!==0?u=rn(r):(y&=m,y!==0?u=rn(y):n||(n=m&~e,n!==0&&(u=rn(n))))):(m=r&~f,m!==0?u=rn(m):y!==0?u=rn(y):n||(n=r&~e,n!==0&&(u=rn(n)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,n=t&-t,f>=n||f===32&&(n&4194048)!==0)?t:u}function Kn(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function xa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Oa(){var e=Dn;return Dn<<=1,(Dn&4194048)===0&&(Dn=256),e}function Ca(){var e=Hn;return Hn<<=1,(Hn&62914560)===0&&(Hn=4194304),e}function ea(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Fe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ut(e,t,n,r,u,f){var y=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var m=e.entanglements,w=e.expirationTimes,D=e.hiddenUpdates;for(n=y&~n;0<n;){var $=31-xe(n),G=1<<$;m[$]=0,w[$]=-1;var j=D[$];if(j!==null)for(D[$]=null,$=0;$<j.length;$++){var k=j[$];k!==null&&(k.lane&=-536870913)}n&=~G}r!==0&&Ot(e,r,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function Ot(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&4194090}function ln(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),u=1<<r;u&t|e[r]&t&&(e[r]|=t),n&=~u}}function Ct(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Xt(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:yg(e.type))}function M(e,t){var n=Q.p;try{return Q.p=e,t()}finally{Q.p=n}}var Ue=Math.random().toString(36).slice(2),Ce="__reactFiber$"+Ue,Be="__reactProps$"+Ue,P="__reactContainer$"+Ue,Vt="__reactEvents$"+Ue,Pe="__reactListeners$"+Ue,ut="__reactHandles$"+Ue,Gn="__reactResources$"+Ue,rt="__reactMarker$"+Ue;function Ra(e){delete e[Ce],delete e[Be],delete e[Vt],delete e[Pe],delete e[ut]}function Wn(e){var t=e[Ce];if(t)return t;for(var n=e.parentNode;n;){if(t=n[P]||n[Ce]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=tg(e);e!==null;){if(n=e[Ce])return n;e=tg(e)}return t}e=n,n=e.parentNode}return null}function ae(e){if(e=e[Ce]||e[P]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ta(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Fn(e){var t=e[Gn];return t||(t=e[Gn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function gt(e){e[rt]=!0}var Rr=new Set,Wl={};function ei(e,t){Si(e,t),Si(e+"Capture",t)}function Si(e,t){for(Wl[e]=t,e=0;e<t.length;e++)Rr.add(t[e])}var Fl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dr={},es={};function Lo(e){return Tt.call(es,e)?!0:Tt.call(Dr,e)?!1:Fl.test(e)?es[e]=!0:(Dr[e]=!0,!1)}function Da(e,t,n){if(Lo(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function na(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function sn(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+r)}}var jr,ts;function ti(e){if(jr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);jr=t&&t[1]||"",ts=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+jr+e+ts}var kr=!1;function bt(e,t){if(!e||kr)return"";kr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(k){var j=k}Reflect.construct(e,[],G)}else{try{G.call()}catch(k){j=k}e.call(G.prototype)}}else{try{throw Error()}catch(k){j=k}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(k){if(k&&j&&typeof k.stack=="string")return[k.stack,j.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),y=f[0],m=f[1];if(y&&m){var w=y.split(`
`),D=m.split(`
`);for(u=r=0;r<w.length&&!w[r].includes("DetermineComponentFrameRoot");)r++;for(;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;if(r===w.length||u===D.length)for(r=w.length-1,u=D.length-1;1<=r&&0<=u&&w[r]!==D[u];)u--;for(;1<=r&&0<=u;r--,u--)if(w[r]!==D[u]){if(r!==1||u!==1)do if(r--,u--,0>u||w[r]!==D[u]){var $=`
`+w[r].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=r&&0<=u);break}}}finally{kr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ti(n):""}function O(e){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return bt(e.type,!1);case 11:return bt(e.type.render,!1);case 1:return bt(e.type,!0);case 31:return ti("Activity");default:return""}}function z(e){try{var t="";do t+=O(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function N(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oe(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ce(e){var t=oe(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var u=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){r=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ne(e){e._valueTracker||(e._valueTracker=ce(e))}function Yn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=oe(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ny=/[\n"\\]/g;function mn(e){return e.replace(Ny,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Uo(e,t,n,r,u,f,y,m){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+N(t)):e.value!==""+N(t)&&(e.value=""+N(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?zo(e,y,N(t)):n!=null?zo(e,y,N(n)):r!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.name=""+N(m):e.removeAttribute("name")}function Vf(e,t,n,r,u,f,y,m){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||n!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;n=n!=null?""+N(n):"",t=t!=null?""+N(t):n,m||t===e.value||(e.value=t),e.defaultValue=t}r=r??u,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=m?e.checked:!!r,e.defaultChecked=!!r,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function zo(e,t,n){t==="number"&&ni(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function ja(e,t,n,r){if(e=e.options,t){t={};for(var u=0;u<n.length;u++)t["$"+n[u]]=!0;for(n=0;n<e.length;n++)u=t.hasOwnProperty("$"+e[n].value),e[n].selected!==u&&(e[n].selected=u),u&&r&&(e[n].defaultSelected=!0)}else{for(n=""+N(n),t=null,u=0;u<e.length;u++){if(e[u].value===n){e[u].selected=!0,r&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Pf(e,t,n){if(t!=null&&(t=""+N(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+N(n):""}function Zf(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(s(92));if(Ke(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=N(t),e.defaultValue=n,r=e.textContent,r===n&&r!==""&&r!==null&&(e.value=r)}function ka(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ly=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jf(e,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,n):typeof n!="number"||n===0||Ly.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function If(e,t,n){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var u in t)r=t[u],t.hasOwnProperty(u)&&n[u]!==r&&Jf(e,u,r)}else for(var f in t)t.hasOwnProperty(f)&&Jf(e,f,t[f])}function qo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ns(e){return zy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Bo=null;function $o(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ma=null,Na=null;function Wf(e){var t=ae(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(Uo(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mn(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var u=r[Be]||null;if(!u)throw Error(s(90));Uo(r,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&Yn(r)}break e;case"textarea":Pf(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&ja(e,!!n.multiple,t,!1)}}}var Ho=!1;function Ff(e,t,n){if(Ho)return e(t,n);Ho=!0;try{var r=e(t);return r}finally{if(Ho=!1,(Ma!==null||Na!==null)&&(Hs(),Ma&&(t=Ma,e=Na,Na=Ma=null,Wf(t),e)))for(t=0;t<e.length;t++)Wf(e[t])}}function Mr(e,t){var n=e.stateNode;if(n===null)return null;var r=n[Be]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ko=!1;if(ii)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){Ko=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{Ko=!1}var wi=null,Go=null,is=null;function eh(){if(is)return is;var e,t=Go,n=t.length,r,u="value"in wi?wi.value:wi.textContent,f=u.length;for(e=0;e<n&&t[e]===u[e];e++);var y=n-e;for(r=1;r<=y&&t[n-r]===u[f-r];r++);return is=u.slice(e,1<r?1-r:void 0)}function as(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function th(){return!1}function Jt(e){function t(n,r,u,f,y){this._reactName=n,this._targetInst=u,this.type=r,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var m in e)e.hasOwnProperty(m)&&(n=e[m],this[m]=n?n(f):f[m]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rs:th,this.isPropagationStopped=th,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Jt(ia),Lr=p({},ia,{view:0,detail:0}),qy=Jt(Lr),Yo,Qo,Ur,ss=p({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ur&&(Ur&&e.type==="mousemove"?(Yo=e.screenX-Ur.screenX,Qo=e.screenY-Ur.screenY):Qo=Yo=0,Ur=e),Yo)},movementY:function(e){return"movementY"in e?e.movementY:Qo}}),nh=Jt(ss),By=p({},ss,{dataTransfer:0}),$y=Jt(By),Hy=p({},Lr,{relatedTarget:0}),Xo=Jt(Hy),Ky=p({},ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Gy=Jt(Ky),Yy=p({},ia,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Qy=Jt(Yy),Xy=p({},ia,{data:0}),ih=Jt(Xy),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zy[e])?!!t[e]:!1}function Vo(){return Jy}var Iy=p({},Lr,{key:function(e){if(e.key){var t=Vy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=as(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Py[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vo,charCode:function(e){return e.type==="keypress"?as(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?as(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wy=Jt(Iy),Fy=p({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ah=Jt(Fy),ep=p({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vo}),tp=Jt(ep),np=p({},ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),ip=Jt(np),ap=p({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rp=Jt(ap),lp=p({},ia,{newState:0,oldState:0}),sp=Jt(lp),op=[9,13,27,32],Po=ii&&"CompositionEvent"in window,zr=null;ii&&"documentMode"in document&&(zr=document.documentMode);var up=ii&&"TextEvent"in window&&!zr,rh=ii&&(!Po||zr&&8<zr&&11>=zr),lh=" ",sh=!1;function oh(e,t){switch(e){case"keyup":return op.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var La=!1;function cp(e,t){switch(e){case"compositionend":return uh(t);case"keypress":return t.which!==32?null:(sh=!0,lh);case"textInput":return e=t.data,e===lh&&sh?null:e;default:return null}}function fp(e,t){if(La)return e==="compositionend"||!Po&&oh(e,t)?(e=eh(),is=Go=wi=null,La=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rh&&t.locale!=="ko"?null:t.data;default:return null}}var hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ch(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hp[e.type]:t==="textarea"}function fh(e,t,n,r){Ma?Na?Na.push(r):Na=[r]:Ma=r,t=Vs(t,"onChange"),0<t.length&&(n=new ls("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var qr=null,Br=null;function dp(e){Q0(e,0)}function os(e){var t=ta(e);if(Yn(t))return e}function hh(e,t){if(e==="change")return t}var dh=!1;if(ii){var Zo;if(ii){var Jo="oninput"in document;if(!Jo){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),Jo=typeof gh.oninput=="function"}Zo=Jo}else Zo=!1;dh=Zo&&(!document.documentMode||9<document.documentMode)}function vh(){qr&&(qr.detachEvent("onpropertychange",yh),Br=qr=null)}function yh(e){if(e.propertyName==="value"&&os(Br)){var t=[];fh(t,Br,e,$o(e)),Ff(dp,t)}}function gp(e,t,n){e==="focusin"?(vh(),qr=t,Br=n,qr.attachEvent("onpropertychange",yh)):e==="focusout"&&vh()}function vp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return os(Br)}function yp(e,t){if(e==="click")return os(t)}function pp(e,t){if(e==="input"||e==="change")return os(t)}function mp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var on=typeof Object.is=="function"?Object.is:mp;function $r(e,t){if(on(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var u=n[r];if(!Tt.call(t,u)||!on(e[u],t[u]))return!1}return!0}function ph(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mh(e,t){var n=ph(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ph(n)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _h(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ni(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ni(e.document)}return t}function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var bp=ii&&"documentMode"in document&&11>=document.documentMode,Ua=null,Wo=null,Hr=null,Fo=!1;function Sh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fo||Ua==null||Ua!==ni(r)||(r=Ua,"selectionStart"in r&&Io(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hr&&$r(Hr,r)||(Hr=r,r=Vs(Wo,"onSelect"),0<r.length&&(t=new ls("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ua)))}function aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var za={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},eu={},wh={};ii&&(wh=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function ra(e){if(eu[e])return eu[e];if(!za[e])return e;var t=za[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wh)return eu[e]=t[n];return e}var Eh=ra("animationend"),Ah=ra("animationiteration"),Th=ra("animationstart"),_p=ra("transitionrun"),Sp=ra("transitionstart"),wp=ra("transitioncancel"),xh=ra("transitionend"),Oh=new Map,tu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tu.push("scrollEnd");function jn(e,t){Oh.set(e,t),ei(t,[e])}var Ch=new WeakMap;function bn(e,t){if(typeof e=="object"&&e!==null){var n=Ch.get(e);return n!==void 0?n:(t={value:e,source:t,stack:z(t)},Ch.set(e,t),t)}return{value:e,source:t,stack:z(t)}}var _n=[],qa=0,nu=0;function us(){for(var e=qa,t=nu=qa=0;t<e;){var n=_n[t];_n[t++]=null;var r=_n[t];_n[t++]=null;var u=_n[t];_n[t++]=null;var f=_n[t];if(_n[t++]=null,r!==null&&u!==null){var y=r.pending;y===null?u.next=u:(u.next=y.next,y.next=u),r.pending=u}f!==0&&Rh(n,u,f)}}function cs(e,t,n,r){_n[qa++]=e,_n[qa++]=t,_n[qa++]=n,_n[qa++]=r,nu|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function iu(e,t,n,r){return cs(e,t,n,r),fs(e)}function Ba(e,t){return cs(e,null,null,t),fs(e)}function Rh(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var u=!1,f=e.return;f!==null;)f.childLanes|=n,r=f.alternate,r!==null&&(r.childLanes|=n),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-xe(n),e=f.hiddenUpdates,r=e[u],r===null?e[u]=[t]:r.push(t),t.lane=n|536870912),f):null}function fs(e){if(50<hl)throw hl=0,uc=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var $a={};function Ep(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function un(e,t,n,r){return new Ep(e,t,n,r)}function au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ai(e,t){var n=e.alternate;return n===null?(n=un(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Dh(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function hs(e,t,n,r,u,f){var y=0;if(r=e,typeof e=="function")au(e)&&(y=1);else if(typeof e=="string")y=Tm(e,n,ie.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ee:return e=un(31,n,t,u),e.elementType=Ee,e.lanes=f,e;case R:return la(n.children,u,f,t);case L:y=8,u|=24;break;case U:return e=un(12,n,t,u|2),e.elementType=U,e.lanes=f,e;case X:return e=un(13,n,t,u),e.elementType=X,e.lanes=f,e;case F:return e=un(19,n,t,u),e.elementType=F,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Z:case H:y=10;break e;case W:y=9;break e;case J:y=11;break e;case ee:y=14;break e;case re:y=16,r=null;break e}y=29,n=Error(s(130,e===null?"null":typeof e,"")),r=null}return t=un(y,n,t,u),t.elementType=e,t.type=r,t.lanes=f,t}function la(e,t,n,r){return e=un(7,e,r,t),e.lanes=n,e}function ru(e,t,n){return e=un(6,e,null,t),e.lanes=n,e}function lu(e,t,n){return t=un(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ha=[],Ka=0,ds=null,gs=0,Sn=[],wn=0,sa=null,ri=1,li="";function oa(e,t){Ha[Ka++]=gs,Ha[Ka++]=ds,ds=e,gs=t}function jh(e,t,n){Sn[wn++]=ri,Sn[wn++]=li,Sn[wn++]=sa,sa=e;var r=ri;e=li;var u=32-xe(r)-1;r&=~(1<<u),n+=1;var f=32-xe(t)+u;if(30<f){var y=u-u%5;f=(r&(1<<y)-1).toString(32),r>>=y,u-=y,ri=1<<32-xe(t)+u|n<<u|r,li=f+e}else ri=1<<f|n<<u|r,li=e}function su(e){e.return!==null&&(oa(e,1),jh(e,1,0))}function ou(e){for(;e===ds;)ds=Ha[--Ka],Ha[Ka]=null,gs=Ha[--Ka],Ha[Ka]=null;for(;e===sa;)sa=Sn[--wn],Sn[wn]=null,li=Sn[--wn],Sn[wn]=null,ri=Sn[--wn],Sn[wn]=null}var Pt=null,lt=null,qe=!1,ua=null,Qn=!1,uu=Error(s(519));function ca(e){var t=Error(s(418,""));throw Yr(bn(t,e)),uu}function kh(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ce]=e,t[Be]=r,n){case"dialog":De("cancel",t),De("close",t);break;case"iframe":case"object":case"embed":De("load",t);break;case"video":case"audio":for(n=0;n<gl.length;n++)De(gl[n],t);break;case"source":De("error",t);break;case"img":case"image":case"link":De("error",t),De("load",t);break;case"details":De("toggle",t);break;case"input":De("invalid",t),Vf(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ne(t);break;case"select":De("invalid",t);break;case"textarea":De("invalid",t),Zf(t,r.value,r.defaultValue,r.children),Ne(t)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Z0(t.textContent,n)?(r.popover!=null&&(De("beforetoggle",t),De("toggle",t)),r.onScroll!=null&&De("scroll",t),r.onScrollEnd!=null&&De("scrollend",t),r.onClick!=null&&(t.onclick=Ps),t=!0):t=!1,t||ca(e)}function Mh(e){for(Pt=e.return;Pt;)switch(Pt.tag){case 5:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Pt=Pt.return}}function Kr(e){if(e!==Pt)return!1;if(!qe)return Mh(e),qe=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Tc(e.type,e.memoizedProps)),n=!n),n&&lt&&ca(e),Mh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){lt=Mn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}lt=null}}else t===27?(t=lt,qi(e.type)?(e=Rc,Rc=null,lt=e):lt=t):lt=Pt?Mn(e.stateNode.nextSibling):null;return!0}function Gr(){lt=Pt=null,qe=!1}function Nh(){var e=ua;return e!==null&&(Ft===null?Ft=e:Ft.push.apply(Ft,e),ua=null),e}function Yr(e){ua===null?ua=[e]:ua.push(e)}var cu=Y(null),fa=null,si=null;function Ei(e,t,n){V(cu,t._currentValue),t._currentValue=n}function oi(e){e._currentValue=cu.current,I(cu)}function fu(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hu(e,t,n,r){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var m=f;f=u;for(var w=0;w<t.length;w++)if(m.context===t[w]){f.lanes|=n,m=f.alternate,m!==null&&(m.lanes|=n),fu(f.return,n,e),r||(y=null);break e}f=m.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(s(341));y.lanes|=n,f=y.alternate,f!==null&&(f.lanes|=n),fu(y,n,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Qr(e,t,n,r){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var m=u.type;on(u.pendingProps.value,y.value)||(e!==null?e.push(m):e=[m])}}else if(u===nt.current){if(y=u.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}u=u.return}e!==null&&hu(t,e,n,r),t.flags|=262144}function vs(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ha(e){fa=e,si=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ht(e){return Lh(fa,e)}function ys(e,t){return fa===null&&ha(e),Lh(e,t)}function Lh(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},si===null){if(e===null)throw Error(s(308));si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else si=si.next=t;return n}var Ap=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Tp=l.unstable_scheduleCallback,xp=l.unstable_NormalPriority,_t={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function du(){return{controller:new Ap,data:new Map,refCount:0}}function Xr(e){e.refCount--,e.refCount===0&&Tp(xp,function(){e.controller.abort()})}var Vr=null,gu=0,Ga=0,Ya=null;function Op(e,t){if(Vr===null){var n=Vr=[];gu=0,Ga=yc(),Ya={status:"pending",value:void 0,then:function(r){n.push(r)}}}return gu++,t.then(Uh,Uh),t}function Uh(){if(--gu===0&&Vr!==null){Ya!==null&&(Ya.status="fulfilled");var e=Vr;Vr=null,Ga=0,Ya=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Cp(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(u){n.push(u)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var u=0;u<n.length;u++)(0,n[u])(t)},function(u){for(r.status="rejected",r.reason=u,u=0;u<n.length;u++)(0,n[u])(void 0)}),r}var zh=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Op(e,t),zh!==null&&zh(e,t)};var da=Y(null);function vu(){var e=da.current;return e!==null?e:Ze.pooledCache}function ps(e,t){t===null?V(da,da.current):V(da,t.pool)}function qh(){var e=vu();return e===null?null:{parent:_t._currentValue,pool:e}}var Pr=Error(s(460)),Bh=Error(s(474)),ms=Error(s(542)),yu={then:function(){}};function $h(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bs(){}function Hh(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(bs,bs),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e;default:if(typeof t.status=="string")t.then(bs,bs);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=r}},function(r){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gh(e),e}throw Zr=t,Pr}}var Zr=null;function Kh(){if(Zr===null)throw Error(s(459));var e=Zr;return Zr=null,e}function Gh(e){if(e===Pr||e===ms)throw Error(s(483))}var Ai=!1;function pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,($e&2)!==0){var u=r.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),r.pending=t,t=fs(e),Rh(e,null,n),t}return cs(e,r,t,n),fs(e)}function Jr(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ln(e,n)}}function bu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var u=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var y={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,n=n.next}while(n!==null);f===null?u=f=t:f=f.next=t}else u=f=t;n={baseState:r.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var _u=!1;function Ir(){if(_u){var e=Ya;if(e!==null)throw e}}function Wr(e,t,n,r){_u=!1;var u=e.updateQueue;Ai=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,m=u.shared.pending;if(m!==null){u.shared.pending=null;var w=m,D=w.next;w.next=null,y===null?f=D:y.next=D,y=w;var $=e.alternate;$!==null&&($=$.updateQueue,m=$.lastBaseUpdate,m!==y&&(m===null?$.firstBaseUpdate=D:m.next=D,$.lastBaseUpdate=w))}if(f!==null){var G=u.baseState;y=0,$=D=w=null,m=f;do{var j=m.lane&-536870913,k=j!==m.lane;if(k?(Le&j)===j:(r&j)===j){j!==0&&j===Ga&&(_u=!0),$!==null&&($=$.next={lane:0,tag:m.tag,payload:m.payload,callback:null,next:null});e:{var de=e,fe=m;j=t;var Qe=n;switch(fe.tag){case 1:if(de=fe.payload,typeof de=="function"){G=de.call(Qe,G,j);break e}G=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,j=typeof de=="function"?de.call(Qe,G,j):de,j==null)break e;G=p({},G,j);break e;case 2:Ai=!0}}j=m.callback,j!==null&&(e.flags|=64,k&&(e.flags|=8192),k=u.callbacks,k===null?u.callbacks=[j]:k.push(j))}else k={lane:j,tag:m.tag,payload:m.payload,callback:m.callback,next:null},$===null?(D=$=k,w=G):$=$.next=k,y|=j;if(m=m.next,m===null){if(m=u.shared.pending,m===null)break;k=m,m=k.next,k.next=null,u.lastBaseUpdate=k,u.shared.pending=null}}while(!0);$===null&&(w=G),u.baseState=w,u.firstBaseUpdate=D,u.lastBaseUpdate=$,f===null&&(u.shared.lanes=0),Ni|=y,e.lanes=y,e.memoizedState=G}}function Yh(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Qh(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Yh(n[e],t)}var Qa=Y(null),_s=Y(0);function Xh(e,t){e=vi,V(_s,e),V(Qa,t),vi=e|t.baseLanes}function Su(){V(_s,vi),V(Qa,Qa.current)}function wu(){vi=_s.current,I(Qa),I(_s)}var Oi=0,Te=null,Ge=null,vt=null,Ss=!1,Xa=!1,ga=!1,ws=0,Fr=0,Va=null,Rp=0;function ct(){throw Error(s(321))}function Eu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!on(e[n],t[n]))return!1;return!0}function Au(e,t,n,r,u,f){return Oi=f,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?Rd:Dd,ga=!1,f=n(r,u),ga=!1,Xa&&(f=Ph(t,n,r,u)),Vh(e),f}function Vh(e){q.H=Cs;var t=Ge!==null&&Ge.next!==null;if(Oi=0,vt=Ge=Te=null,Ss=!1,Fr=0,Va=null,t)throw Error(s(300));e===null||Rt||(e=e.dependencies,e!==null&&vs(e)&&(Rt=!0))}function Ph(e,t,n,r){Te=e;var u=0;do{if(Xa&&(Va=null),Fr=0,Xa=!1,25<=u)throw Error(s(301));if(u+=1,vt=Ge=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Up,f=t(n,r)}while(Xa);return f}function Dp(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?el(t):t,e=e.useState()[0],(Ge!==null?Ge.memoizedState:null)!==e&&(Te.flags|=1024),t}function Tu(){var e=ws!==0;return ws=0,e}function xu(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Ou(e){if(Ss){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ss=!1}Oi=0,vt=Ge=Te=null,Xa=!1,Fr=ws=0,Va=null}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Te.memoizedState=vt=e:vt=vt.next=e,vt}function yt(){if(Ge===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ge.next;var t=vt===null?Te.memoizedState:vt.next;if(t!==null)vt=t,Ge=e;else{if(e===null)throw Te.alternate===null?Error(s(467)):Error(s(310));Ge=e,e={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},vt===null?Te.memoizedState=vt=e:vt=vt.next=e}return vt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var t=Fr;return Fr+=1,Va===null&&(Va=[]),e=Hh(Va,e,t),t=Te,(vt===null?t.memoizedState:vt.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?Rd:Dd),e}function Es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===H)return Ht(e)}throw Error(s(438,String(e)))}function Ru(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Te.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Cu(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ke;return t.index++,n}function ui(e,t){return typeof t=="function"?t(e):t}function As(e){var t=yt();return Du(t,Ge,e)}function Du(e,t,n){var r=e.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=n;var u=e.baseQueue,f=r.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}t.baseQueue=u=f,r.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var m=y=null,w=null,D=t,$=!1;do{var G=D.lane&-536870913;if(G!==D.lane?(Le&G)===G:(Oi&G)===G){var j=D.revertLane;if(j===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),G===Ga&&($=!0);else if((Oi&j)===j){D=D.next,j===Ga&&($=!0);continue}else G={lane:0,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(m=w=G,y=f):w=w.next=G,Te.lanes|=j,Ni|=j;G=D.action,ga&&n(f,G),f=D.hasEagerState?D.eagerState:n(f,G)}else j={lane:G,revertLane:D.revertLane,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},w===null?(m=w=j,y=f):w=w.next=j,Te.lanes|=G,Ni|=G;D=D.next}while(D!==null&&D!==t);if(w===null?y=f:w.next=m,!on(f,e.memoizedState)&&(Rt=!0,$&&(n=Ya,n!==null)))throw n;e.memoizedState=f,e.baseState=y,e.baseQueue=w,r.lastRenderedState=f}return u===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ju(e){var t=yt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,u=n.pending,f=t.memoizedState;if(u!==null){n.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);on(f,t.memoizedState)||(Rt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,r]}function Zh(e,t,n){var r=Te,u=yt(),f=qe;if(f){if(n===void 0)throw Error(s(407));n=n()}else n=t();var y=!on((Ge||u).memoizedState,n);y&&(u.memoizedState=n,Rt=!0),u=u.queue;var m=Wh.bind(null,r,u,e);if(tl(2048,8,m,[e]),u.getSnapshot!==t||y||vt!==null&&vt.memoizedState.tag&1){if(r.flags|=2048,Pa(9,Ts(),Ih.bind(null,r,u,n,t),null),Ze===null)throw Error(s(349));f||(Oi&124)!==0||Jh(r,t,n)}return n}function Jh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Cu(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ih(e,t,n,r){t.value=n,t.getSnapshot=r,Fh(t)&&ed(e)}function Wh(e,t,n){return n(function(){Fh(t)&&ed(e)})}function Fh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!on(e,n)}catch{return!0}}function ed(e){var t=Ba(e,2);t!==null&&gn(t,e,2)}function ku(e){var t=It();if(typeof e=="function"){var n=e;if(e=n(),ga){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:e},t}function td(e,t,n,r){return e.baseState=n,Du(e,Ge,typeof r=="function"?r:ui)}function jp(e,t,n,r,u){if(Os(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};q.T!==null?n(!0):f.isTransition=!1,r(f),n=t.pending,n===null?(f.next=t.pending=f,nd(t,f)):(f.next=n.next,t.pending=n.next=f)}}function nd(e,t){var n=t.action,r=t.payload,u=e.state;if(t.isTransition){var f=q.T,y={};q.T=y;try{var m=n(u,r),w=q.S;w!==null&&w(y,m),id(e,t,m)}catch(D){Mu(e,t,D)}finally{q.T=f}}else try{f=n(u,r),id(e,t,f)}catch(D){Mu(e,t,D)}}function id(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){ad(e,t,r)},function(r){return Mu(e,t,r)}):ad(e,t,n)}function ad(e,t,n){t.status="fulfilled",t.value=n,rd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,nd(e,n)))}function Mu(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,rd(t),t=t.next;while(t!==r)}e.action=null}function rd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ld(e,t){return t}function sd(e,t){if(qe){var n=Ze.formState;if(n!==null){e:{var r=Te;if(qe){if(lt){t:{for(var u=lt,f=Qn;u.nodeType!==8;){if(!f){u=null;break t}if(u=Mn(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){lt=Mn(u.nextSibling),r=u.data==="F!";break e}}ca(r)}r=!1}r&&(t=n[0])}}return n=It(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ld,lastRenderedState:t},n.queue=r,n=xd.bind(null,Te,r),r.dispatch=n,r=ku(!1),f=qu.bind(null,Te,!1,r.queue),r=It(),u={state:t,dispatch:null,action:e,pending:null},r.queue=u,n=jp.bind(null,Te,u,f,n),u.dispatch=n,r.memoizedState=e,[t,n,!1]}function od(e){var t=yt();return ud(t,Ge,e)}function ud(e,t,n){if(t=Du(e,t,ld)[0],e=As(ui)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=el(t)}catch(y){throw y===Pr?ms:y}else r=t;t=yt();var u=t.queue,f=u.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,Pa(9,Ts(),kp.bind(null,u,n),null)),[r,f,e]}function kp(e,t){e.action=t}function cd(e){var t=yt(),n=Ge;if(n!==null)return ud(t,n,e);yt(),t=t.memoizedState,n=yt();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Pa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Cu(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ts(){return{destroy:void 0,resource:void 0}}function fd(){return yt().memoizedState}function xs(e,t,n,r){var u=It();r=r===void 0?null:r,Te.flags|=e,u.memoizedState=Pa(1|t,Ts(),n,r)}function tl(e,t,n,r){var u=yt();r=r===void 0?null:r;var f=u.memoizedState.inst;Ge!==null&&r!==null&&Eu(r,Ge.memoizedState.deps)?u.memoizedState=Pa(t,f,n,r):(Te.flags|=e,u.memoizedState=Pa(1|t,f,n,r))}function hd(e,t){xs(8390656,8,e,t)}function dd(e,t){tl(2048,8,e,t)}function gd(e,t){return tl(4,2,e,t)}function vd(e,t){return tl(4,4,e,t)}function yd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pd(e,t,n){n=n!=null?n.concat([e]):null,tl(4,4,yd.bind(null,t,e),n)}function Nu(){}function md(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&Eu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function bd(e,t){var n=yt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&Eu(t,r[1]))return r[0];if(r=e(),ga){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function Lu(e,t,n){return n===void 0||(Oi&1073741824)!==0?e.memoizedState=t:(e.memoizedState=n,e=w0(),Te.lanes|=e,Ni|=e,n)}function _d(e,t,n,r){return on(n,t)?n:Qa.current!==null?(e=Lu(e,n,r),on(e,t)||(Rt=!0),e):(Oi&42)===0?(Rt=!0,e.memoizedState=n):(e=w0(),Te.lanes|=e,Ni|=e,t)}function Sd(e,t,n,r,u){var f=Q.p;Q.p=f!==0&&8>f?f:8;var y=q.T,m={};q.T=m,qu(e,!1,t,n);try{var w=u(),D=q.S;if(D!==null&&D(m,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var $=Cp(w,r);nl(e,t,$,dn(e))}else nl(e,t,r,dn(e))}catch(G){nl(e,t,{then:function(){},status:"rejected",reason:G},dn())}finally{Q.p=f,q.T=y}}function Mp(){}function Uu(e,t,n,r){if(e.tag!==5)throw Error(s(476));var u=wd(e).queue;Sd(e,u,t,se,n===null?Mp:function(){return Ed(e),n(r)})}function wd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:se},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ui,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Ed(e){var t=wd(e).next.queue;nl(e,t,{},dn())}function zu(){return Ht(_l)}function Ad(){return yt().memoizedState}function Td(){return yt().memoizedState}function Np(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=dn();e=Ti(n);var r=xi(t,e,n);r!==null&&(gn(r,t,n),Jr(r,t,n)),t={cache:du()},e.payload=t;return}t=t.return}}function Lp(e,t,n){var r=dn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Os(e)?Od(t,n):(n=iu(e,t,n,r),n!==null&&(gn(n,e,r),Cd(n,t,r)))}function xd(e,t,n){var r=dn();nl(e,t,n,r)}function nl(e,t,n,r){var u={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Os(e))Od(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,m=f(y,n);if(u.hasEagerState=!0,u.eagerState=m,on(m,y))return cs(e,t,u,0),Ze===null&&us(),!1}catch{}finally{}if(n=iu(e,t,u,r),n!==null)return gn(n,e,r),Cd(n,t,r),!0}return!1}function qu(e,t,n,r){if(r={lane:2,revertLane:yc(),action:r,hasEagerState:!1,eagerState:null,next:null},Os(e)){if(t)throw Error(s(479))}else t=iu(e,n,r,2),t!==null&&gn(t,e,2)}function Os(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Od(e,t){Xa=Ss=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Cd(e,t,n){if((n&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ln(e,n)}}var Cs={readContext:Ht,use:Es,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct},Rd={readContext:Ht,use:Es,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:Ht,useEffect:hd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,xs(4194308,4,yd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){xs(4,2,e,t)},useMemo:function(e,t){var n=It();t=t===void 0?null:t;var r=e();if(ga){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=It();if(n!==void 0){var u=n(t);if(ga){_e(!0);try{n(t)}finally{_e(!1)}}}else u=t;return r.memoizedState=r.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},r.queue=e,e=e.dispatch=Lp.bind(null,Te,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:function(e){e=ku(e);var t=e.queue,n=xd.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Nu,useDeferredValue:function(e,t){var n=It();return Lu(n,e,t)},useTransition:function(){var e=ku(!1);return e=Sd.bind(null,Te,e.queue,!0,!1),It().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Te,u=It();if(qe){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Ze===null)throw Error(s(349));(Le&124)!==0||Jh(r,t,n)}u.memoizedState=n;var f={value:n,getSnapshot:t};return u.queue=f,hd(Wh.bind(null,r,f,e),[e]),r.flags|=2048,Pa(9,Ts(),Ih.bind(null,r,f,n,t),null),n},useId:function(){var e=It(),t=Ze.identifierPrefix;if(qe){var n=li,r=ri;n=(r&~(1<<32-xe(r)-1)).toString(32)+n,t=""+t+"R"+n,n=ws++,0<n&&(t+="H"+n.toString(32)),t+=""}else n=Rp++,t=""+t+"r"+n.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:zu,useFormState:sd,useActionState:sd,useOptimistic:function(e){var t=It();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=qu.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Ru,useCacheRefresh:function(){return It().memoizedState=Np.bind(null,Te)}},Dd={readContext:Ht,use:Es,useCallback:md,useContext:Ht,useEffect:dd,useImperativeHandle:pd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:bd,useReducer:As,useRef:fd,useState:function(){return As(ui)},useDebugValue:Nu,useDeferredValue:function(e,t){var n=yt();return _d(n,Ge.memoizedState,e,t)},useTransition:function(){var e=As(ui)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:Zh,useId:Ad,useHostTransitionStatus:zu,useFormState:od,useActionState:od,useOptimistic:function(e,t){var n=yt();return td(n,Ge,e,t)},useMemoCache:Ru,useCacheRefresh:Td},Up={readContext:Ht,use:Es,useCallback:md,useContext:Ht,useEffect:dd,useImperativeHandle:pd,useInsertionEffect:gd,useLayoutEffect:vd,useMemo:bd,useReducer:ju,useRef:fd,useState:function(){return ju(ui)},useDebugValue:Nu,useDeferredValue:function(e,t){var n=yt();return Ge===null?Lu(n,e,t):_d(n,Ge.memoizedState,e,t)},useTransition:function(){var e=ju(ui)[0],t=yt().memoizedState;return[typeof e=="boolean"?e:el(e),t]},useSyncExternalStore:Zh,useId:Ad,useHostTransitionStatus:zu,useFormState:cd,useActionState:cd,useOptimistic:function(e,t){var n=yt();return Ge!==null?td(n,Ge,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Ru,useCacheRefresh:Td},Za=null,il=0;function Rs(e){var t=il;return il+=1,Za===null&&(Za=[]),Hh(Za,e,t)}function al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ds(e,t){throw t.$$typeof===b?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jd(e){var t=e._init;return t(e._payload)}function kd(e){function t(T,A){if(e){var C=T.deletions;C===null?(T.deletions=[A],T.flags|=16):C.push(A)}}function n(T,A){if(!e)return null;for(;A!==null;)t(T,A),A=A.sibling;return null}function r(T){for(var A=new Map;T!==null;)T.key!==null?A.set(T.key,T):A.set(T.index,T),T=T.sibling;return A}function u(T,A){return T=ai(T,A),T.index=0,T.sibling=null,T}function f(T,A,C){return T.index=C,e?(C=T.alternate,C!==null?(C=C.index,C<A?(T.flags|=67108866,A):C):(T.flags|=67108866,A)):(T.flags|=1048576,A)}function y(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function m(T,A,C,K){return A===null||A.tag!==6?(A=ru(C,T.mode,K),A.return=T,A):(A=u(A,C),A.return=T,A)}function w(T,A,C,K){var ne=C.type;return ne===R?$(T,A,C.props.children,K,C.key):A!==null&&(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===re&&jd(ne)===A.type)?(A=u(A,C.props),al(A,C),A.return=T,A):(A=hs(C.type,C.key,C.props,null,T.mode,K),al(A,C),A.return=T,A)}function D(T,A,C,K){return A===null||A.tag!==4||A.stateNode.containerInfo!==C.containerInfo||A.stateNode.implementation!==C.implementation?(A=lu(C,T.mode,K),A.return=T,A):(A=u(A,C.children||[]),A.return=T,A)}function $(T,A,C,K,ne){return A===null||A.tag!==7?(A=la(C,T.mode,K,ne),A.return=T,A):(A=u(A,C),A.return=T,A)}function G(T,A,C){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=ru(""+A,T.mode,C),A.return=T,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case _:return C=hs(A.type,A.key,A.props,null,T.mode,C),al(C,A),C.return=T,C;case S:return A=lu(A,T.mode,C),A.return=T,A;case re:var K=A._init;return A=K(A._payload),G(T,A,C)}if(Ke(A)||pe(A))return A=la(A,T.mode,C,null),A.return=T,A;if(typeof A.then=="function")return G(T,Rs(A),C);if(A.$$typeof===H)return G(T,ys(T,A),C);Ds(T,A)}return null}function j(T,A,C,K){var ne=A!==null?A.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return ne!==null?null:m(T,A,""+C,K);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case _:return C.key===ne?w(T,A,C,K):null;case S:return C.key===ne?D(T,A,C,K):null;case re:return ne=C._init,C=ne(C._payload),j(T,A,C,K)}if(Ke(C)||pe(C))return ne!==null?null:$(T,A,C,K,null);if(typeof C.then=="function")return j(T,A,Rs(C),K);if(C.$$typeof===H)return j(T,A,ys(T,C),K);Ds(T,C)}return null}function k(T,A,C,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return T=T.get(C)||null,m(A,T,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return T=T.get(K.key===null?C:K.key)||null,w(A,T,K,ne);case S:return T=T.get(K.key===null?C:K.key)||null,D(A,T,K,ne);case re:var Oe=K._init;return K=Oe(K._payload),k(T,A,C,K,ne)}if(Ke(K)||pe(K))return T=T.get(C)||null,$(A,T,K,ne,null);if(typeof K.then=="function")return k(T,A,C,Rs(K),ne);if(K.$$typeof===H)return k(T,A,C,ys(A,K),ne);Ds(A,K)}return null}function de(T,A,C,K){for(var ne=null,Oe=null,le=A,he=A=0,jt=null;le!==null&&he<C.length;he++){le.index>he?(jt=le,le=null):jt=le.sibling;var ze=j(T,le,C[he],K);if(ze===null){le===null&&(le=jt);break}e&&le&&ze.alternate===null&&t(T,le),A=f(ze,A,he),Oe===null?ne=ze:Oe.sibling=ze,Oe=ze,le=jt}if(he===C.length)return n(T,le),qe&&oa(T,he),ne;if(le===null){for(;he<C.length;he++)le=G(T,C[he],K),le!==null&&(A=f(le,A,he),Oe===null?ne=le:Oe.sibling=le,Oe=le);return qe&&oa(T,he),ne}for(le=r(le);he<C.length;he++)jt=k(le,T,he,C[he],K),jt!==null&&(e&&jt.alternate!==null&&le.delete(jt.key===null?he:jt.key),A=f(jt,A,he),Oe===null?ne=jt:Oe.sibling=jt,Oe=jt);return e&&le.forEach(function(Gi){return t(T,Gi)}),qe&&oa(T,he),ne}function fe(T,A,C,K){if(C==null)throw Error(s(151));for(var ne=null,Oe=null,le=A,he=A=0,jt=null,ze=C.next();le!==null&&!ze.done;he++,ze=C.next()){le.index>he?(jt=le,le=null):jt=le.sibling;var Gi=j(T,le,ze.value,K);if(Gi===null){le===null&&(le=jt);break}e&&le&&Gi.alternate===null&&t(T,le),A=f(Gi,A,he),Oe===null?ne=Gi:Oe.sibling=Gi,Oe=Gi,le=jt}if(ze.done)return n(T,le),qe&&oa(T,he),ne;if(le===null){for(;!ze.done;he++,ze=C.next())ze=G(T,ze.value,K),ze!==null&&(A=f(ze,A,he),Oe===null?ne=ze:Oe.sibling=ze,Oe=ze);return qe&&oa(T,he),ne}for(le=r(le);!ze.done;he++,ze=C.next())ze=k(le,T,he,ze.value,K),ze!==null&&(e&&ze.alternate!==null&&le.delete(ze.key===null?he:ze.key),A=f(ze,A,he),Oe===null?ne=ze:Oe.sibling=ze,Oe=ze);return e&&le.forEach(function(zm){return t(T,zm)}),qe&&oa(T,he),ne}function Qe(T,A,C,K){if(typeof C=="object"&&C!==null&&C.type===R&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case _:e:{for(var ne=C.key;A!==null;){if(A.key===ne){if(ne=C.type,ne===R){if(A.tag===7){n(T,A.sibling),K=u(A,C.props.children),K.return=T,T=K;break e}}else if(A.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===re&&jd(ne)===A.type){n(T,A.sibling),K=u(A,C.props),al(K,C),K.return=T,T=K;break e}n(T,A);break}else t(T,A);A=A.sibling}C.type===R?(K=la(C.props.children,T.mode,K,C.key),K.return=T,T=K):(K=hs(C.type,C.key,C.props,null,T.mode,K),al(K,C),K.return=T,T=K)}return y(T);case S:e:{for(ne=C.key;A!==null;){if(A.key===ne)if(A.tag===4&&A.stateNode.containerInfo===C.containerInfo&&A.stateNode.implementation===C.implementation){n(T,A.sibling),K=u(A,C.children||[]),K.return=T,T=K;break e}else{n(T,A);break}else t(T,A);A=A.sibling}K=lu(C,T.mode,K),K.return=T,T=K}return y(T);case re:return ne=C._init,C=ne(C._payload),Qe(T,A,C,K)}if(Ke(C))return de(T,A,C,K);if(pe(C)){if(ne=pe(C),typeof ne!="function")throw Error(s(150));return C=ne.call(C),fe(T,A,C,K)}if(typeof C.then=="function")return Qe(T,A,Rs(C),K);if(C.$$typeof===H)return Qe(T,A,ys(T,C),K);Ds(T,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,A!==null&&A.tag===6?(n(T,A.sibling),K=u(A,C),K.return=T,T=K):(n(T,A),K=ru(C,T.mode,K),K.return=T,T=K),y(T)):n(T,A)}return function(T,A,C,K){try{il=0;var ne=Qe(T,A,C,K);return Za=null,ne}catch(le){if(le===Pr||le===ms)throw le;var Oe=un(29,le,null,T.mode);return Oe.lanes=K,Oe.return=T,Oe}finally{}}}var Ja=kd(!0),Md=kd(!1),En=Y(null),Xn=null;function Ci(e){var t=e.alternate;V(St,St.current&1),V(En,e),Xn===null&&(t===null||Qa.current!==null||t.memoizedState!==null)&&(Xn=e)}function Nd(e){if(e.tag===22){if(V(St,St.current),V(En,e),Xn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Xn=e)}}else Ri()}function Ri(){V(St,St.current),V(En,En.current)}function ci(e){I(En),Xn===e&&(Xn=null),I(St)}var St=Y(0);function js(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||Cc(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bu(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:p({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $u={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=dn(),u=Ti(r);u.payload=t,n!=null&&(u.callback=n),t=xi(e,u,r),t!==null&&(gn(t,e,r),Jr(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=dn(),u=Ti(r);u.tag=1,u.payload=t,n!=null&&(u.callback=n),t=xi(e,u,r),t!==null&&(gn(t,e,r),Jr(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=dn(),r=Ti(n);r.tag=2,t!=null&&(r.callback=t),t=xi(e,r,n),t!==null&&(gn(t,e,n),Jr(t,e,n))}};function Ld(e,t,n,r,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,y):t.prototype&&t.prototype.isPureReactComponent?!$r(n,r)||!$r(u,f):!0}function Ud(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function va(e,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(e=e.defaultProps){n===t&&(n=p({},n));for(var u in e)n[u]===void 0&&(n[u]=e[u])}return n}var ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function zd(e){ks(e)}function qd(e){console.error(e)}function Bd(e){ks(e)}function Ms(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function $d(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Hu(e,t,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Ms(e,t)},n}function Hd(e){return e=Ti(e),e.tag=3,e}function Kd(e,t,n,r){var u=n.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;e.payload=function(){return u(f)},e.callback=function(){$d(t,n,r)}}var y=n.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){$d(t,n,r),typeof u!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})})}function zp(e,t,n,r,u){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Qr(t,n,u,!0),n=En.current,n!==null){switch(n.tag){case 13:return Xn===null?fc():n.alternate===null&&st===0&&(st=3),n.flags&=-257,n.flags|=65536,n.lanes=u,r===yu?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),dc(e,r,u)),!1;case 22:return n.flags|=65536,r===yu?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),dc(e,r,u)),!1}throw Error(s(435,n.tag))}return dc(e,r,u),fc(),!1}if(qe)return t=En.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,r!==uu&&(e=Error(s(422),{cause:r}),Yr(bn(e,n)))):(r!==uu&&(t=Error(s(423),{cause:r}),Yr(bn(t,n))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,r=bn(r,n),u=Hu(e.stateNode,r,u),bu(e,u),st!==4&&(st=2)),!1;var f=Error(s(520),{cause:r});if(f=bn(f,n),fl===null?fl=[f]:fl.push(f),st!==4&&(st=2),t===null)return!0;r=bn(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=u&-u,n.lanes|=e,e=Hu(n.stateNode,r,e),bu(n,e),!1;case 1:if(t=n.type,f=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Li===null||!Li.has(f))))return n.flags|=65536,u&=-u,n.lanes|=u,u=Hd(u),Kd(u,e,n,r),bu(n,u),!1}n=n.return}while(n!==null);return!1}var Gd=Error(s(461)),Rt=!1;function zt(e,t,n,r){t.child=e===null?Md(t,null,n,r):Ja(t,e.child,n,r)}function Yd(e,t,n,r,u){n=n.render;var f=t.ref;if("ref"in r){var y={};for(var m in r)m!=="ref"&&(y[m]=r[m])}else y=r;return ha(t),r=Au(e,t,n,y,f,u),m=Tu(),e!==null&&!Rt?(xu(e,t,u),fi(e,t,u)):(qe&&m&&su(t),t.flags|=1,zt(e,t,r,u),t.child)}function Qd(e,t,n,r,u){if(e===null){var f=n.type;return typeof f=="function"&&!au(f)&&f.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=f,Xd(e,t,f,r,u)):(e=hs(n.type,null,r,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Zu(e,u)){var y=f.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(y,r)&&e.ref===t.ref)return fi(e,t,u)}return t.flags|=1,e=ai(f,r),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,n,r,u){if(e!==null){var f=e.memoizedProps;if($r(f,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=f,Zu(e,u))(e.flags&131072)!==0&&(Rt=!0);else return t.lanes=e.lanes,fi(e,t,u)}return Ku(e,t,n,r,u)}function Vd(e,t,n){var r=t.pendingProps,u=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=f!==null?f.baseLanes|n:n,e!==null){for(u=t.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;t.childLanes=f&~r}else t.childLanes=0,t.child=null;return Pd(e,t,r,n)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ps(t,f!==null?f.cachePool:null),f!==null?Xh(t,f):Su(),Nd(t);else return t.lanes=t.childLanes=536870912,Pd(e,t,f!==null?f.baseLanes|n:n,n)}else f!==null?(ps(t,f.cachePool),Xh(t,f),Ri(),t.memoizedState=null):(e!==null&&ps(t,null),Su(),Ri());return zt(e,t,u,n),t.child}function Pd(e,t,n,r){var u=vu();return u=u===null?null:{parent:_t._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&ps(t,null),Su(),Nd(t),e!==null&&Qr(e,t,r,!0),null}function Ns(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(s(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ku(e,t,n,r,u){return ha(t),n=Au(e,t,n,r,void 0,u),r=Tu(),e!==null&&!Rt?(xu(e,t,u),fi(e,t,u)):(qe&&r&&su(t),t.flags|=1,zt(e,t,n,u),t.child)}function Zd(e,t,n,r,u,f){return ha(t),t.updateQueue=null,n=Ph(t,r,n,u),Vh(e),r=Tu(),e!==null&&!Rt?(xu(e,t,f),fi(e,t,f)):(qe&&r&&su(t),t.flags|=1,zt(e,t,n,f),t.child)}function Jd(e,t,n,r,u){if(ha(t),t.stateNode===null){var f=$a,y=n.contextType;typeof y=="object"&&y!==null&&(f=Ht(y)),f=new n(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=$u,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},pu(t),y=n.contextType,f.context=typeof y=="object"&&y!==null?Ht(y):$a,f.state=t.memoizedState,y=n.getDerivedStateFromProps,typeof y=="function"&&(Bu(t,n,y,r),f.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&$u.enqueueReplaceState(f,f.state,null),Wr(t,r,f,u),Ir(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var m=t.memoizedProps,w=va(n,m);f.props=w;var D=f.context,$=n.contextType;y=$a,typeof $=="object"&&$!==null&&(y=Ht($));var G=n.getDerivedStateFromProps;$=typeof G=="function"||typeof f.getSnapshotBeforeUpdate=="function",m=t.pendingProps!==m,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(m||D!==y)&&Ud(t,f,r,y),Ai=!1;var j=t.memoizedState;f.state=j,Wr(t,r,f,u),Ir(),D=t.memoizedState,m||j!==D||Ai?(typeof G=="function"&&(Bu(t,n,G,r),D=t.memoizedState),(w=Ai||Ld(t,n,w,r,j,D,y))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=D),f.props=r,f.state=D,f.context=y,r=w):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,mu(e,t),y=t.memoizedProps,$=va(n,y),f.props=$,G=t.pendingProps,j=f.context,D=n.contextType,w=$a,typeof D=="object"&&D!==null&&(w=Ht(D)),m=n.getDerivedStateFromProps,(D=typeof m=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==G||j!==w)&&Ud(t,f,r,w),Ai=!1,j=t.memoizedState,f.state=j,Wr(t,r,f,u),Ir();var k=t.memoizedState;y!==G||j!==k||Ai||e!==null&&e.dependencies!==null&&vs(e.dependencies)?(typeof m=="function"&&(Bu(t,n,m,r),k=t.memoizedState),($=Ai||Ld(t,n,$,r,j,k,w)||e!==null&&e.dependencies!==null&&vs(e.dependencies))?(D||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,k,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,k,w)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),f.props=r,f.state=k,f.context=w,r=$):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,Ns(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=Ja(t,e.child,null,u),t.child=Ja(t,null,n,u)):zt(e,t,n,u),t.memoizedState=f.state,e=t.child):e=fi(e,t,u),e}function Id(e,t,n,r){return Gr(),t.flags|=256,zt(e,t,n,r),t.child}var Gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yu(e){return{baseLanes:e,cachePool:qh()}}function Qu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=An),e}function Wd(e,t,n){var r=t.pendingProps,u=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(St.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(qe){if(u?Ci(t):Ri(),qe){var m=lt,w;if(w=m){e:{for(w=m,m=Qn;w.nodeType!==8;){if(!m){m=null;break e}if(w=Mn(w.nextSibling),w===null){m=null;break e}}m=w}m!==null?(t.memoizedState={dehydrated:m,treeContext:sa!==null?{id:ri,overflow:li}:null,retryLane:536870912,hydrationErrors:null},w=un(18,null,null,0),w.stateNode=m,w.return=t,t.child=w,Pt=t,lt=null,w=!0):w=!1}w||ca(t)}if(m=t.memoizedState,m!==null&&(m=m.dehydrated,m!==null))return Cc(m)?t.lanes=32:t.lanes=536870912,null;ci(t)}return m=r.children,r=r.fallback,u?(Ri(),u=t.mode,m=Ls({mode:"hidden",children:m},u),r=la(r,u,n,null),m.return=t,r.return=t,m.sibling=r,t.child=m,u=t.child,u.memoizedState=Yu(n),u.childLanes=Qu(e,y,n),t.memoizedState=Gu,r):(Ci(t),Xu(t,m))}if(w=e.memoizedState,w!==null&&(m=w.dehydrated,m!==null)){if(f)t.flags&256?(Ci(t),t.flags&=-257,t=Vu(e,t,n)):t.memoizedState!==null?(Ri(),t.child=e.child,t.flags|=128,t=null):(Ri(),u=r.fallback,m=t.mode,r=Ls({mode:"visible",children:r.children},m),u=la(u,m,n,null),u.flags|=2,r.return=t,u.return=t,r.sibling=u,t.child=r,Ja(t,e.child,null,n),r=t.child,r.memoizedState=Yu(n),r.childLanes=Qu(e,y,n),t.memoizedState=Gu,t=u);else if(Ci(t),Cc(m)){if(y=m.nextSibling&&m.nextSibling.dataset,y)var D=y.dgst;y=D,r=Error(s(419)),r.stack="",r.digest=y,Yr({value:r,source:null,stack:null}),t=Vu(e,t,n)}else if(Rt||Qr(e,t,n,!1),y=(n&e.childLanes)!==0,Rt||y){if(y=Ze,y!==null&&(r=n&-n,r=(r&42)!==0?1:Ct(r),r=(r&(y.suspendedLanes|n))!==0?0:r,r!==0&&r!==w.retryLane))throw w.retryLane=r,Ba(e,r),gn(y,e,r),Gd;m.data==="$?"||fc(),t=Vu(e,t,n)}else m.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=w.treeContext,lt=Mn(m.nextSibling),Pt=t,qe=!0,ua=null,Qn=!1,e!==null&&(Sn[wn++]=ri,Sn[wn++]=li,Sn[wn++]=sa,ri=e.id,li=e.overflow,sa=t),t=Xu(t,r.children),t.flags|=4096);return t}return u?(Ri(),u=r.fallback,m=t.mode,w=e.child,D=w.sibling,r=ai(w,{mode:"hidden",children:r.children}),r.subtreeFlags=w.subtreeFlags&65011712,D!==null?u=ai(D,u):(u=la(u,m,n,null),u.flags|=2),u.return=t,r.return=t,r.sibling=u,t.child=r,r=u,u=t.child,m=e.child.memoizedState,m===null?m=Yu(n):(w=m.cachePool,w!==null?(D=_t._currentValue,w=w.parent!==D?{parent:D,pool:D}:w):w=qh(),m={baseLanes:m.baseLanes|n,cachePool:w}),u.memoizedState=m,u.childLanes=Qu(e,y,n),t.memoizedState=Gu,r):(Ci(t),n=e.child,e=n.sibling,n=ai(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=n,t.memoizedState=null,n)}function Xu(e,t){return t=Ls({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ls(e,t){return e=un(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Vu(e,t,n){return Ja(t,e.child,null,n),e=Xu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fu(e.return,t,n)}function Pu(e,t,n,r,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=n,f.tailMode=u)}function e0(e,t,n){var r=t.pendingProps,u=r.revealOrder,f=r.tail;if(zt(e,t,r.children,n),r=St.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fd(e,n,t);else if(e.tag===19)Fd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(St,r),u){case"forwards":for(n=t.child,u=null;n!==null;)e=n.alternate,e!==null&&js(e)===null&&(u=n),n=n.sibling;n=u,n===null?(u=t.child,t.child=null):(u=n.sibling,n.sibling=null),Pu(t,!1,u,n,f);break;case"backwards":for(n=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&js(e)===null){t.child=u;break}e=u.sibling,u.sibling=n,n=u,u=e}Pu(t,!0,n,null,f);break;case"together":Pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Qr(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=ai(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ai(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Zu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&vs(e)))}function qp(e,t,n){switch(t.tag){case 3:Me(t,t.stateNode.containerInfo),Ei(t,_t,e.memoizedState.cache),Gr();break;case 27:case 5:at(t);break;case 4:Me(t,t.stateNode.containerInfo);break;case 10:Ei(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Ci(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Wd(e,t,n):(Ci(t),e=fi(e,t,n),e!==null?e.sibling:null);Ci(t);break;case 19:var u=(e.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Qr(e,t,n,!1),r=(n&t.childLanes)!==0),u){if(r)return e0(e,t,n);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),V(St,St.current),r)break;return null;case 22:case 23:return t.lanes=0,Vd(e,t,n);case 24:Ei(t,_t,e.memoizedState.cache)}return fi(e,t,n)}function t0(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Rt=!0;else{if(!Zu(e,n)&&(t.flags&128)===0)return Rt=!1,qp(e,t,n);Rt=(e.flags&131072)!==0}else Rt=!1,qe&&(t.flags&1048576)!==0&&jh(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,u=r._init;if(r=u(r._payload),t.type=r,typeof r=="function")au(r)?(e=va(r,e),t.tag=1,t=Jd(null,t,r,e,n)):(t.tag=0,t=Ku(null,t,r,e,n));else{if(r!=null){if(u=r.$$typeof,u===J){t.tag=11,t=Yd(null,t,r,e,n);break e}else if(u===ee){t.tag=14,t=Qd(null,t,r,e,n);break e}}throw t=tt(r)||r,Error(s(306,t,""))}}return t;case 0:return Ku(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,u=va(r,t.pendingProps),Jd(e,t,r,u,n);case 3:e:{if(Me(t,t.stateNode.containerInfo),e===null)throw Error(s(387));r=t.pendingProps;var f=t.memoizedState;u=f.element,mu(e,t),Wr(t,r,null,n);var y=t.memoizedState;if(r=y.cache,Ei(t,_t,r),r!==f.cache&&hu(t,[_t],n,!0),Ir(),r=y.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Id(e,t,r,n);break e}else if(r!==u){u=bn(Error(s(424)),t),Yr(u),t=Id(e,t,r,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(lt=Mn(e.firstChild),Pt=t,qe=!0,ua=null,Qn=!0,n=Md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Gr(),r===u){t=fi(e,t,n);break e}zt(e,t,r,n)}t=t.child}return t;case 26:return Ns(e,t),e===null?(n=rg(t.type,null,t.pendingProps,null))?t.memoizedState=n:qe||(n=t.type,e=t.pendingProps,r=Zs(te.current).createElement(n),r[Ce]=t,r[Be]=e,Bt(r,n,e),gt(r),t.stateNode=r):t.memoizedState=rg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return at(t),e===null&&qe&&(r=t.stateNode=ng(t.type,t.pendingProps,te.current),Pt=t,Qn=!0,u=lt,qi(t.type)?(Rc=u,lt=Mn(r.firstChild)):lt=u),zt(e,t,t.pendingProps.children,n),Ns(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&qe&&((u=r=lt)&&(r=hm(r,t.type,t.pendingProps,Qn),r!==null?(t.stateNode=r,Pt=t,lt=Mn(r.firstChild),Qn=!1,u=!0):u=!1),u||ca(t)),at(t),u=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,r=f.children,Tc(u,f)?r=null:y!==null&&Tc(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Au(e,t,Dp,null,null,n),_l._currentValue=u),Ns(e,t),zt(e,t,r,n),t.child;case 6:return e===null&&qe&&((e=n=lt)&&(n=dm(n,t.pendingProps,Qn),n!==null?(t.stateNode=n,Pt=t,lt=null,e=!0):e=!1),e||ca(t)),null;case 13:return Wd(e,t,n);case 4:return Me(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ja(t,null,r,n):zt(e,t,r,n),t.child;case 11:return Yd(e,t,t.type,t.pendingProps,n);case 7:return zt(e,t,t.pendingProps,n),t.child;case 8:return zt(e,t,t.pendingProps.children,n),t.child;case 12:return zt(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ei(t,t.type,r.value),zt(e,t,r.children,n),t.child;case 9:return u=t.type._context,r=t.pendingProps.children,ha(t),u=Ht(u),r=r(u),t.flags|=1,zt(e,t,r,n),t.child;case 14:return Qd(e,t,t.type,t.pendingProps,n);case 15:return Xd(e,t,t.type,t.pendingProps,n);case 19:return e0(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},e===null?(n=Ls(r,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=ai(e.child,r),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Vd(e,t,n);case 24:return ha(t),r=Ht(_t),e===null?(u=vu(),u===null&&(u=Ze,f=du(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=n),u=f),t.memoizedState={parent:r,cache:u},pu(t),Ei(t,_t,u)):((e.lanes&n)!==0&&(mu(e,t),Wr(t,null,null,n),Ir()),u=e.memoizedState,f=t.memoizedState,u.parent!==r?(u={parent:r,cache:r},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Ei(t,_t,r)):(r=f.cache,Ei(t,_t,r),r!==u.cache&&hu(t,[_t],n,!0))),zt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function hi(e){e.flags|=4}function n0(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cg(t)){if(t=En.current,t!==null&&((Le&4194048)===Le?Xn!==null:(Le&62914560)!==Le&&(Le&536870912)===0||t!==Xn))throw Zr=yu,Bh;e.flags|=8192}}function Us(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ca():536870912,e.lanes|=t,er|=t)}function rl(e,t){if(!qe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function it(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags&65011712,r|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)n|=u.lanes|u.childLanes,r|=u.subtreeFlags,r|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Bp(e,t,n){var r=t.pendingProps;switch(ou(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(t),null;case 1:return it(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),oi(_t),ot(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kr(t)?hi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Nh())),it(t),null;case 26:return n=t.memoizedState,e===null?(hi(t),n!==null?(it(t),n0(t,n)):(it(t),t.flags&=-16777217)):n?n!==e.memoizedState?(hi(t),it(t),n0(t,n)):(it(t),t.flags&=-16777217):(e.memoizedProps!==r&&hi(t),it(t),t.flags&=-16777217),null;case 27:At(t),n=te.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return it(t),null}e=ie.current,Kr(t)?kh(t):(e=ng(u,r,n),t.stateNode=e,hi(t))}return it(t),null;case 5:if(At(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(!r){if(t.stateNode===null)throw Error(s(166));return it(t),null}if(e=ie.current,Kr(t))kh(t);else{switch(u=Zs(te.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?u.createElement("select",{is:r.is}):u.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?u.createElement(n,{is:r.is}):u.createElement(n)}}e[Ce]=t,e[Be]=r;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Bt(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&hi(t)}}return it(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&hi(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(s(166));if(e=te.current,Kr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,u=Pt,u!==null)switch(u.tag){case 27:case 5:r=u.memoizedProps}e[Ce]=t,e=!!(e.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Z0(e.nodeValue,n)),e||ca(t)}else e=Zs(e).createTextNode(r),e[Ce]=t,t.stateNode=e}return it(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Kr(t),r!==null&&r.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[Ce]=t}else Gr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;it(t),u=!1}else u=Nh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ci(t),t):(ci(t),null)}if(ci(t),(t.flags&128)!==0)return t.lanes=n,t;if(n=r!==null,e=e!==null&&e.memoizedState!==null,n){r=t.child,u=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(u=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==u&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Us(t,t.updateQueue),it(t),null;case 4:return ot(),e===null&&_c(t.stateNode.containerInfo),it(t),null;case 10:return oi(t.type),it(t),null;case 19:if(I(St),u=t.memoizedState,u===null)return it(t),null;if(r=(t.flags&128)!==0,f=u.rendering,f===null)if(r)rl(u,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=js(e),f!==null){for(t.flags|=128,rl(u,!1),e=f.updateQueue,t.updateQueue=e,Us(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)Dh(n,e),n=n.sibling;return V(St,St.current&1|2),t.child}e=e.sibling}u.tail!==null&&dt()>Bs&&(t.flags|=128,r=!0,rl(u,!1),t.lanes=4194304)}else{if(!r)if(e=js(f),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Us(t,e),rl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!qe)return it(t),null}else 2*dt()-u.renderingStartTime>Bs&&n!==536870912&&(t.flags|=128,r=!0,rl(u,!1),t.lanes=4194304);u.isBackwards?(f.sibling=t.child,t.child=f):(e=u.last,e!==null?e.sibling=f:t.child=f,u.last=f)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=dt(),t.sibling=null,e=St.current,V(St,r?e&1|2:e&1),t):(it(t),null);case 22:case 23:return ci(t),wu(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(n&536870912)!==0&&(t.flags&128)===0&&(it(t),t.subtreeFlags&6&&(t.flags|=8192)):it(t),n=t.updateQueue,n!==null&&Us(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&I(da),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),oi(_t),it(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function $p(e,t){switch(ou(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oi(_t),ot(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return At(t),null;case 13:if(ci(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return I(St),null;case 4:return ot(),null;case 10:return oi(t.type),null;case 22:case 23:return ci(t),wu(),e!==null&&I(da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return oi(_t),null;case 25:return null;default:return null}}function i0(e,t){switch(ou(t),t.tag){case 3:oi(_t),ot();break;case 26:case 27:case 5:At(t);break;case 4:ot();break;case 13:ci(t);break;case 19:I(St);break;case 10:oi(t.type);break;case 22:case 23:ci(t),wu(),e!==null&&I(da);break;case 24:oi(_t)}}function ll(e,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var u=r.next;n=u;do{if((n.tag&e)===e){r=void 0;var f=n.create,y=n.inst;r=f(),y.destroy=r}n=n.next}while(n!==u)}}catch(m){Xe(t,t.return,m)}}function Di(e,t,n){try{var r=t.updateQueue,u=r!==null?r.lastEffect:null;if(u!==null){var f=u.next;r=f;do{if((r.tag&e)===e){var y=r.inst,m=y.destroy;if(m!==void 0){y.destroy=void 0,u=t;var w=n,D=m;try{D()}catch($){Xe(u,w,$)}}}r=r.next}while(r!==f)}}catch($){Xe(t,t.return,$)}}function a0(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Qh(t,n)}catch(r){Xe(e,e.return,r)}}}function r0(e,t,n){n.props=va(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Xe(e,t,r)}}function sl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n=="function"?e.refCleanup=n(r):n.current=r}}catch(u){Xe(e,t,u)}}function Vn(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(u){Xe(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(u){Xe(e,t,u)}else n.current=null}function l0(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(u){Xe(e,e.return,u)}}function Ju(e,t,n){try{var r=e.stateNode;sm(r,e.type,n,t),r[Be]=t}catch(u){Xe(e,e.return,u)}}function s0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&qi(e.type)||e.tag===4}function Iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&qi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ps));else if(r!==4&&(r===27&&qi(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Wu(e,t,n),e=e.sibling;e!==null;)Wu(e,t,n),e=e.sibling}function zs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&qi(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(zs(e,t,n),e=e.sibling;e!==null;)zs(e,t,n),e=e.sibling}function o0(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Bt(t,r,n),t[Ce]=e,t[Be]=n}catch(f){Xe(e,e.return,f)}}var di=!1,ft=!1,Fu=!1,u0=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function Hp(e,t){if(e=e.containerInfo,Ec=to,e=_h(e),Io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var u=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var y=0,m=-1,w=-1,D=0,$=0,G=e,j=null;t:for(;;){for(var k;G!==n||u!==0&&G.nodeType!==3||(m=y+u),G!==f||r!==0&&G.nodeType!==3||(w=y+r),G.nodeType===3&&(y+=G.nodeValue.length),(k=G.firstChild)!==null;)j=G,G=k;for(;;){if(G===e)break t;if(j===n&&++D===u&&(m=y),j===f&&++$===r&&(w=y),(k=G.nextSibling)!==null)break;G=j,j=G.parentNode}G=k}n=m===-1||w===-1?null:{start:m,end:w}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ac={focusedElem:e,selectionRange:n},to=!1,Dt=t;Dt!==null;)if(t=Dt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Dt=e;else for(;Dt!==null;){switch(t=Dt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,n=t,u=f.memoizedProps,f=f.memoizedState,r=n.stateNode;try{var de=va(n.type,u,n.elementType===n.type);e=r.getSnapshotBeforeUpdate(de,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Xe(n,n.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Oc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Oc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Dt=e;break}Dt=t.return}}function c0(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ji(e,n),r&4&&ll(5,n);break;case 1:if(ji(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(y){Xe(n,n.return,y)}else{var u=va(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Xe(n,n.return,y)}}r&64&&a0(n),r&512&&sl(n,n.return);break;case 3:if(ji(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Qh(e,t)}catch(y){Xe(n,n.return,y)}}break;case 27:t===null&&r&4&&o0(n);case 26:case 5:ji(e,n),t===null&&r&4&&l0(n),r&512&&sl(n,n.return);break;case 12:ji(e,n);break;case 13:ji(e,n),r&4&&d0(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Jp.bind(null,n),gm(e,n))));break;case 22:if(r=n.memoizedState!==null||di,!r){t=t!==null&&t.memoizedState!==null||ft,u=di;var f=ft;di=r,(ft=t)&&!f?ki(e,n,(n.subtreeFlags&8772)!==0):ji(e,n),di=u,ft=f}break;case 30:break;default:ji(e,n)}}function f0(e){var t=e.alternate;t!==null&&(e.alternate=null,f0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ra(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Wt=!1;function gi(e,t,n){for(n=n.child;n!==null;)h0(e,t,n),n=n.sibling}function h0(e,t,n){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(Rn,n)}catch{}switch(n.tag){case 26:ft||Vn(n,t),gi(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ft||Vn(n,t);var r=et,u=Wt;qi(n.type)&&(et=n.stateNode,Wt=!1),gi(e,t,n),yl(n.stateNode),et=r,Wt=u;break;case 5:ft||Vn(n,t);case 6:if(r=et,u=Wt,et=null,gi(e,t,n),et=r,Wt=u,et!==null)if(Wt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(n.stateNode)}catch(f){Xe(n,t,f)}else try{et.removeChild(n.stateNode)}catch(f){Xe(n,t,f)}break;case 18:et!==null&&(Wt?(e=et,eg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Al(e)):eg(et,n.stateNode));break;case 4:r=et,u=Wt,et=n.stateNode.containerInfo,Wt=!0,gi(e,t,n),et=r,Wt=u;break;case 0:case 11:case 14:case 15:ft||Di(2,n,t),ft||Di(4,n,t),gi(e,t,n);break;case 1:ft||(Vn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&r0(n,t,r)),gi(e,t,n);break;case 21:gi(e,t,n);break;case 22:ft=(r=ft)||n.memoizedState!==null,gi(e,t,n),ft=r;break;default:gi(e,t,n)}}function d0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Al(e)}catch(n){Xe(t,t.return,n)}}function Kp(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new u0),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new u0),t;default:throw Error(s(435,e.tag))}}function ec(e,t){var n=Kp(e);t.forEach(function(r){var u=Ip.bind(null,e,r);n.has(r)||(n.add(r),r.then(u,u))})}function cn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var u=n[r],f=e,y=t,m=y;e:for(;m!==null;){switch(m.tag){case 27:if(qi(m.type)){et=m.stateNode,Wt=!1;break e}break;case 5:et=m.stateNode,Wt=!1;break e;case 3:case 4:et=m.stateNode.containerInfo,Wt=!0;break e}m=m.return}if(et===null)throw Error(s(160));h0(f,y,u),et=null,Wt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)g0(t,e),t=t.sibling}var kn=null;function g0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:cn(t,e),fn(e),r&4&&(Di(3,e,e.return),ll(3,e),Di(5,e,e.return));break;case 1:cn(t,e),fn(e),r&512&&(ft||n===null||Vn(n,n.return)),r&64&&di&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var u=kn;if(cn(t,e),fn(e),r&512&&(ft||n===null||Vn(n,n.return)),r&4){var f=n!==null?n.memoizedState:null;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){e:{r=e.type,n=e.memoizedProps,u=u.ownerDocument||u;t:switch(r){case"title":f=u.getElementsByTagName("title")[0],(!f||f[rt]||f[Ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(r),u.head.insertBefore(f,u.querySelector("head > title"))),Bt(f,r,n),f[Ce]=e,gt(f),r=f;break e;case"link":var y=og("link","href",u).get(r+(n.href||""));if(y){for(var m=0;m<y.length;m++)if(f=y[m],f.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&f.getAttribute("rel")===(n.rel==null?null:n.rel)&&f.getAttribute("title")===(n.title==null?null:n.title)&&f.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){y.splice(m,1);break t}}f=u.createElement(r),Bt(f,r,n),u.head.appendChild(f);break;case"meta":if(y=og("meta","content",u).get(r+(n.content||""))){for(m=0;m<y.length;m++)if(f=y[m],f.getAttribute("content")===(n.content==null?null:""+n.content)&&f.getAttribute("name")===(n.name==null?null:n.name)&&f.getAttribute("property")===(n.property==null?null:n.property)&&f.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&f.getAttribute("charset")===(n.charSet==null?null:n.charSet)){y.splice(m,1);break t}}f=u.createElement(r),Bt(f,r,n),u.head.appendChild(f);break;default:throw Error(s(468,r))}f[Ce]=e,gt(f),r=f}e.stateNode=r}else ug(u,e.type,e.stateNode);else e.stateNode=sg(u,r,e.memoizedProps);else f!==r?(f===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):f.count--,r===null?ug(u,e.type,e.stateNode):sg(u,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ju(e,e.memoizedProps,n.memoizedProps)}break;case 27:cn(t,e),fn(e),r&512&&(ft||n===null||Vn(n,n.return)),n!==null&&r&4&&Ju(e,e.memoizedProps,n.memoizedProps);break;case 5:if(cn(t,e),fn(e),r&512&&(ft||n===null||Vn(n,n.return)),e.flags&32){u=e.stateNode;try{ka(u,"")}catch(k){Xe(e,e.return,k)}}r&4&&e.stateNode!=null&&(u=e.memoizedProps,Ju(e,u,n!==null?n.memoizedProps:u)),r&1024&&(Fu=!0);break;case 6:if(cn(t,e),fn(e),r&4){if(e.stateNode===null)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(k){Xe(e,e.return,k)}}break;case 3:if(Ws=null,u=kn,kn=Js(t.containerInfo),cn(t,e),kn=u,fn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(k){Xe(e,e.return,k)}Fu&&(Fu=!1,v0(e));break;case 4:r=kn,kn=Js(e.stateNode.containerInfo),cn(t,e),fn(e),kn=r;break;case 12:cn(t,e),fn(e);break;case 13:cn(t,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(lc=dt()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ec(e,r)));break;case 22:u=e.memoizedState!==null;var w=n!==null&&n.memoizedState!==null,D=di,$=ft;if(di=D||u,ft=$||w,cn(t,e),ft=$,di=D,fn(e),r&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(n===null||w||di||ft||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){w=n=t;try{if(f=w.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{m=w.stateNode;var G=w.memoizedProps.style,j=G!=null&&G.hasOwnProperty("display")?G.display:null;m.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(k){Xe(w,w.return,k)}}}else if(t.tag===6){if(n===null){w=t;try{w.stateNode.nodeValue=u?"":w.memoizedProps}catch(k){Xe(w,w.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,ec(e,n))));break;case 19:cn(t,e),fn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,ec(e,r)));break;case 30:break;case 21:break;default:cn(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(s0(r)){n=r;break}r=r.return}if(n==null)throw Error(s(160));switch(n.tag){case 27:var u=n.stateNode,f=Iu(e);zs(e,f,u);break;case 5:var y=n.stateNode;n.flags&32&&(ka(y,""),n.flags&=-33);var m=Iu(e);zs(e,m,y);break;case 3:case 4:var w=n.stateNode.containerInfo,D=Iu(e);Wu(e,D,w);break;default:throw Error(s(161))}}catch($){Xe(e,e.return,$)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function v0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;v0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ji(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)c0(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Di(4,t,t.return),ya(t);break;case 1:Vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&r0(t,t.return,n),ya(t);break;case 27:yl(t.stateNode);case 26:case 5:Vn(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function ki(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,u=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:ki(u,f,n),ll(4,f);break;case 1:if(ki(u,f,n),r=f,u=r.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(D){Xe(r,r.return,D)}if(r=f,u=r.updateQueue,u!==null){var m=r.stateNode;try{var w=u.shared.hiddenCallbacks;if(w!==null)for(u.shared.hiddenCallbacks=null,u=0;u<w.length;u++)Yh(w[u],m)}catch(D){Xe(r,r.return,D)}}n&&y&64&&a0(f),sl(f,f.return);break;case 27:o0(f);case 26:case 5:ki(u,f,n),n&&r===null&&y&4&&l0(f),sl(f,f.return);break;case 12:ki(u,f,n);break;case 13:ki(u,f,n),n&&y&4&&d0(u,f);break;case 22:f.memoizedState===null&&ki(u,f,n),sl(f,f.return);break;case 30:break;default:ki(u,f,n)}t=t.sibling}}function tc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&Xr(n))}function nc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e))}function Pn(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)y0(e,t,n,r),t=t.sibling}function y0(e,t,n,r){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Pn(e,t,n,r),u&2048&&ll(9,t);break;case 1:Pn(e,t,n,r);break;case 3:Pn(e,t,n,r),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Xr(e)));break;case 12:if(u&2048){Pn(e,t,n,r),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,m=f.onPostCommit;typeof m=="function"&&m(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){Xe(t,t.return,w)}}else Pn(e,t,n,r);break;case 13:Pn(e,t,n,r);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Pn(e,t,n,r):ol(e,t):f._visibility&2?Pn(e,t,n,r):(f._visibility|=2,Ia(e,t,n,r,(t.subtreeFlags&10256)!==0)),u&2048&&tc(y,t);break;case 24:Pn(e,t,n,r),u&2048&&nc(t.alternate,t);break;default:Pn(e,t,n,r)}}function Ia(e,t,n,r,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,y=t,m=n,w=r,D=y.flags;switch(y.tag){case 0:case 11:case 15:Ia(f,y,m,w,u),ll(8,y);break;case 23:break;case 22:var $=y.stateNode;y.memoizedState!==null?$._visibility&2?Ia(f,y,m,w,u):ol(f,y):($._visibility|=2,Ia(f,y,m,w,u)),u&&D&2048&&tc(y.alternate,y);break;case 24:Ia(f,y,m,w,u),u&&D&2048&&nc(y.alternate,y);break;default:Ia(f,y,m,w,u)}t=t.sibling}}function ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,u=r.flags;switch(r.tag){case 22:ol(n,r),u&2048&&tc(r.alternate,r);break;case 24:ol(n,r),u&2048&&nc(r.alternate,r);break;default:ol(n,r)}t=t.sibling}}var ul=8192;function Wa(e){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)p0(e),e=e.sibling}function p0(e){switch(e.tag){case 26:Wa(e),e.flags&ul&&e.memoizedState!==null&&Om(kn,e.memoizedState,e.memoizedProps);break;case 5:Wa(e);break;case 3:case 4:var t=kn;kn=Js(e.stateNode.containerInfo),Wa(e),kn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ul,ul=16777216,Wa(e),ul=t):Wa(e));break;default:Wa(e)}}function m0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Dt=r,_0(r,e)}m0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)b0(e),e=e.sibling}function b0(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&Di(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qs(e)):cl(e);break;default:cl(e)}}function qs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Dt=r,_0(r,e)}m0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Di(8,t,t.return),qs(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,qs(t));break;default:qs(t)}e=e.sibling}}function _0(e,t){for(;Dt!==null;){var n=Dt;switch(n.tag){case 0:case 11:case 15:Di(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Xr(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Dt=r;else e:for(n=e;Dt!==null;){r=Dt;var u=r.sibling,f=r.return;if(f0(r),r===n){Dt=null;break e}if(u!==null){u.return=f,Dt=u;break e}Dt=f}}}var Gp={getCacheForType:function(e){var t=Ht(_t),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},Yp=typeof WeakMap=="function"?WeakMap:Map,$e=0,Ze=null,Re=null,Le=0,He=0,hn=null,Mi=!1,Fa=!1,ic=!1,vi=0,st=0,Ni=0,pa=0,ac=0,An=0,er=0,fl=null,Ft=null,rc=!1,lc=0,Bs=1/0,$s=null,Li=null,qt=0,Ui=null,tr=null,nr=0,sc=0,oc=null,S0=null,hl=0,uc=null;function dn(){if(($e&2)!==0&&Le!==0)return Le&-Le;if(q.T!==null){var e=Ga;return e!==0?e:yc()}return Xt()}function w0(){An===0&&(An=(Le&536870912)===0||qe?Oa():536870912);var e=En.current;return e!==null&&(e.flags|=32),An}function gn(e,t,n){(e===Ze&&(He===2||He===9)||e.cancelPendingCommit!==null)&&(ir(e,0),zi(e,Le,An,!1)),Fe(e,n),(($e&2)===0||e!==Ze)&&(e===Ze&&(($e&2)===0&&(pa|=n),st===4&&zi(e,Le,An,!1)),Zn(e))}function E0(e,t,n){if(($e&6)!==0)throw Error(s(327));var r=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Kn(e,t),u=r?Vp(e,t):hc(e,t,!0),f=r;do{if(u===0){Fa&&!r&&zi(e,t,0,!1);break}else{if(n=e.current.alternate,f&&!Qp(n)){u=hc(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var m=e;u=fl;var w=m.current.memoizedState.isDehydrated;if(w&&(ir(m,y).flags|=256),y=hc(m,y,!1),y!==2){if(ic&&!w){m.errorRecoveryDisabledLanes|=f,pa|=f,u=4;break e}f=Ft,Ft=u,f!==null&&(Ft===null?Ft=f:Ft.push.apply(Ft,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){ir(e,0),zi(e,t,0,!0);break}e:{switch(r=e,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:zi(r,t,An,!Mi);break e;case 2:Ft=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=lc+300-dt(),10<u)){if(zi(r,t,An,!Mi),In(r,0,!0)!==0)break e;r.timeoutHandle=W0(A0.bind(null,r,n,Ft,$s,rc,t,An,pa,er,Mi,f,2,-0,0),u);break e}A0(r,n,Ft,$s,rc,t,An,pa,er,Mi,f,0,-0,0)}}break}while(!0);Zn(e)}function A0(e,t,n,r,u,f,y,m,w,D,$,G,j,k){if(e.timeoutHandle=-1,G=t.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:xm},p0(t),G=Cm(),G!==null)){e.cancelPendingCommit=G(j0.bind(null,e,t,f,n,r,u,y,m,w,$,1,j,k)),zi(e,f,y,!D);return}j0(e,t,f,n,r,u,y,m,w)}function Qp(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var u=n[r],f=u.getSnapshot;u=u.value;try{if(!on(f(),u))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zi(e,t,n,r){t&=~ac,t&=~pa,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var u=t;0<u;){var f=31-xe(u),y=1<<f;r[f]=-1,u&=~y}n!==0&&Ot(e,n,t)}function Hs(){return($e&6)===0?(dl(0),!1):!0}function cc(){if(Re!==null){if(He===0)var e=Re.return;else e=Re,si=fa=null,Ou(e),Za=null,il=0,e=Re;for(;e!==null;)i0(e.alternate,e),e=e.return;Re=null}}function ir(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,um(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),cc(),Ze=e,Re=n=ai(e.current,null),Le=t,He=0,hn=null,Mi=!1,Fa=Kn(e,t),ic=!1,er=An=ac=pa=Ni=st=0,Ft=fl=null,rc=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var u=31-xe(r),f=1<<u;t|=e[u],r&=~f}return vi=t,us(),n}function T0(e,t){Te=null,q.H=Cs,t===Pr||t===ms?(t=Kh(),He=3):t===Bh?(t=Kh(),He=4):He=t===Gd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,hn=t,Re===null&&(st=1,Ms(e,bn(t,e.current)))}function x0(){var e=q.H;return q.H=Cs,e===null?Cs:e}function O0(){var e=q.A;return q.A=Gp,e}function fc(){st=4,Mi||(Le&4194048)!==Le&&En.current!==null||(Fa=!0),(Ni&134217727)===0&&(pa&134217727)===0||Ze===null||zi(Ze,Le,An,!1)}function hc(e,t,n){var r=$e;$e|=2;var u=x0(),f=O0();(Ze!==e||Le!==t)&&($s=null,ir(e,t)),t=!1;var y=st;e:do try{if(He!==0&&Re!==null){var m=Re,w=hn;switch(He){case 8:cc(),y=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(t=!0);var D=He;if(He=0,hn=null,ar(e,m,w,D),n&&Fa){y=0;break e}break;default:D=He,He=0,hn=null,ar(e,m,w,D)}}Xp(),y=st;break}catch($){T0(e,$)}while(!0);return t&&e.shellSuspendCounter++,si=fa=null,$e=r,q.H=u,q.A=f,Re===null&&(Ze=null,Le=0,us()),y}function Xp(){for(;Re!==null;)C0(Re)}function Vp(e,t){var n=$e;$e|=2;var r=x0(),u=O0();Ze!==e||Le!==t?($s=null,Bs=dt()+500,ir(e,t)):Fa=Kn(e,t);e:do try{if(He!==0&&Re!==null){t=Re;var f=hn;t:switch(He){case 1:He=0,hn=null,ar(e,t,f,1);break;case 2:case 9:if($h(f)){He=0,hn=null,R0(t);break}t=function(){He!==2&&He!==9||Ze!==e||(He=7),Zn(e)},f.then(t,t);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:$h(f)?(He=0,hn=null,R0(t)):(He=0,hn=null,ar(e,t,f,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var m=Re;if(!y||cg(y)){He=0,hn=null;var w=m.sibling;if(w!==null)Re=w;else{var D=m.return;D!==null?(Re=D,Ks(D)):Re=null}break t}}He=0,hn=null,ar(e,t,f,5);break;case 6:He=0,hn=null,ar(e,t,f,6);break;case 8:cc(),st=6;break e;default:throw Error(s(462))}}Pp();break}catch($){T0(e,$)}while(!0);return si=fa=null,q.H=r,q.A=u,$e=n,Re!==null?0:(Ze=null,Le=0,us(),st)}function Pp(){for(;Re!==null&&!tn();)C0(Re)}function C0(e){var t=t0(e.alternate,e,vi);e.memoizedProps=e.pendingProps,t===null?Ks(e):Re=t}function R0(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Zd(n,t,t.pendingProps,t.type,void 0,Le);break;case 11:t=Zd(n,t,t.pendingProps,t.type.render,t.ref,Le);break;case 5:Ou(t);default:i0(n,t),t=Re=Dh(t,vi),t=t0(n,t,vi)}e.memoizedProps=e.pendingProps,t===null?Ks(e):Re=t}function ar(e,t,n,r){si=fa=null,Ou(t),Za=null,il=0;var u=t.return;try{if(zp(e,u,t,n,Le)){st=1,Ms(e,bn(n,e.current)),Re=null;return}}catch(f){if(u!==null)throw Re=u,f;st=1,Ms(e,bn(n,e.current)),Re=null;return}t.flags&32768?(qe||r===1?e=!0:Fa||(Le&536870912)!==0?e=!1:(Mi=e=!0,(r===2||r===9||r===3||r===6)&&(r=En.current,r!==null&&r.tag===13&&(r.flags|=16384))),D0(t,e)):Ks(t)}function Ks(e){var t=e;do{if((t.flags&32768)!==0){D0(t,Mi);return}e=t.return;var n=Bp(t.alternate,t,vi);if(n!==null){Re=n;return}if(t=t.sibling,t!==null){Re=t;return}Re=t=e}while(t!==null);st===0&&(st=5)}function D0(e,t){do{var n=$p(e.alternate,e);if(n!==null){n.flags&=32767,Re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Re=e;return}Re=e=n}while(e!==null);st=6,Re=null}function j0(e,t,n,r,u,f,y,m,w){e.cancelPendingCommit=null;do Gs();while(qt!==0);if(($e&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=nu,Ut(e,n,f,y,m,w),e===Ze&&(Re=Ze=null,Le=0),tr=t,Ui=e,nr=n,sc=f,oc=u,S0=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Wp(an,function(){return U0(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=q.T,q.T=null,u=Q.p,Q.p=2,y=$e,$e|=4;try{Hp(e,t,n)}finally{$e=y,Q.p=u,q.T=r}}qt=1,k0(),M0(),N0()}}function k0(){if(qt===1){qt=0;var e=Ui,t=tr,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=q.T,q.T=null;var r=Q.p;Q.p=2;var u=$e;$e|=4;try{g0(t,e);var f=Ac,y=_h(e.containerInfo),m=f.focusedElem,w=f.selectionRange;if(y!==m&&m&&m.ownerDocument&&bh(m.ownerDocument.documentElement,m)){if(w!==null&&Io(m)){var D=w.start,$=w.end;if($===void 0&&($=D),"selectionStart"in m)m.selectionStart=D,m.selectionEnd=Math.min($,m.value.length);else{var G=m.ownerDocument||document,j=G&&G.defaultView||window;if(j.getSelection){var k=j.getSelection(),de=m.textContent.length,fe=Math.min(w.start,de),Qe=w.end===void 0?fe:Math.min(w.end,de);!k.extend&&fe>Qe&&(y=Qe,Qe=fe,fe=y);var T=mh(m,fe),A=mh(m,Qe);if(T&&A&&(k.rangeCount!==1||k.anchorNode!==T.node||k.anchorOffset!==T.offset||k.focusNode!==A.node||k.focusOffset!==A.offset)){var C=G.createRange();C.setStart(T.node,T.offset),k.removeAllRanges(),fe>Qe?(k.addRange(C),k.extend(A.node,A.offset)):(C.setEnd(A.node,A.offset),k.addRange(C))}}}}for(G=[],k=m;k=k.parentNode;)k.nodeType===1&&G.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<G.length;m++){var K=G[m];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}to=!!Ec,Ac=Ec=null}finally{$e=u,Q.p=r,q.T=n}}e.current=t,qt=2}}function M0(){if(qt===2){qt=0;var e=Ui,t=tr,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=q.T,q.T=null;var r=Q.p;Q.p=2;var u=$e;$e|=4;try{c0(e,t.alternate,t)}finally{$e=u,Q.p=r,q.T=n}}qt=3}}function N0(){if(qt===4||qt===3){qt=0,nn();var e=Ui,t=tr,n=nr,r=S0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?qt=5:(qt=0,tr=Ui=null,L0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Li=null),mt(n),t=t.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(Rn,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=q.T,u=Q.p,Q.p=2,q.T=null;try{for(var f=e.onRecoverableError,y=0;y<r.length;y++){var m=r[y];f(m.value,{componentStack:m.stack})}}finally{q.T=t,Q.p=u}}(nr&3)!==0&&Gs(),Zn(e),u=e.pendingLanes,(n&4194090)!==0&&(u&42)!==0?e===uc?hl++:(hl=0,uc=e):hl=0,dl(0)}}function L0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Xr(t)))}function Gs(e){return k0(),M0(),N0(),U0()}function U0(){if(qt!==5)return!1;var e=Ui,t=sc;sc=0;var n=mt(nr),r=q.T,u=Q.p;try{Q.p=32>n?32:n,q.T=null,n=oc,oc=null;var f=Ui,y=nr;if(qt=0,tr=Ui=null,nr=0,($e&6)!==0)throw Error(s(331));var m=$e;if($e|=4,b0(f.current),y0(f,f.current,y,n),$e=m,dl(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(Rn,f)}catch{}return!0}finally{Q.p=u,q.T=r,L0(e,t)}}function z0(e,t,n){t=bn(n,t),t=Hu(e.stateNode,t,2),e=xi(e,t,2),e!==null&&(Fe(e,2),Zn(e))}function Xe(e,t,n){if(e.tag===3)z0(e,e,n);else for(;t!==null;){if(t.tag===3){z0(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Li===null||!Li.has(r))){e=bn(n,e),n=Hd(2),r=xi(t,n,2),r!==null&&(Kd(n,r,t,e),Fe(r,2),Zn(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Yp;var u=new Set;r.set(t,u)}else u=r.get(t),u===void 0&&(u=new Set,r.set(t,u));u.has(n)||(ic=!0,u.add(n),e=Zp.bind(null,e,t,n),t.then(e,e))}function Zp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ze===e&&(Le&n)===n&&(st===4||st===3&&(Le&62914560)===Le&&300>dt()-lc?($e&2)===0&&ir(e,0):ac|=n,er===Le&&(er=0)),Zn(e)}function q0(e,t){t===0&&(t=Ca()),e=Ba(e,t),e!==null&&(Fe(e,t),Zn(e))}function Jp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),q0(e,n)}function Ip(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,u=e.memoizedState;u!==null&&(n=u.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(t),q0(e,n)}function Wp(e,t){return Cn(e,t)}var Ys=null,rr=null,gc=!1,Qs=!1,vc=!1,ma=0;function Zn(e){e!==rr&&e.next===null&&(rr===null?Ys=rr=e:rr=rr.next=e),Qs=!0,gc||(gc=!0,em())}function dl(e,t){if(!vc&&Qs){vc=!0;do for(var n=!1,r=Ys;r!==null;){if(e!==0){var u=r.pendingLanes;if(u===0)var f=0;else{var y=r.suspendedLanes,m=r.pingedLanes;f=(1<<31-xe(42|e)+1)-1,f&=u&~(y&~m),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(n=!0,K0(r,f))}else f=Le,f=In(r,r===Ze?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Kn(r,f)||(n=!0,K0(r,f));r=r.next}while(n);vc=!1}}function Fp(){B0()}function B0(){Qs=gc=!1;var e=0;ma!==0&&(om()&&(e=ma),ma=0);for(var t=dt(),n=null,r=Ys;r!==null;){var u=r.next,f=$0(r,t);f===0?(r.next=null,n===null?Ys=u:n.next=u,u===null&&(rr=n)):(n=r,(e!==0||(f&3)!==0)&&(Qs=!0)),r=u}dl(e)}function $0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-xe(f),m=1<<y,w=u[y];w===-1?((m&n)===0||(m&r)!==0)&&(u[y]=xa(m,t)):w<=t&&(e.expiredLanes|=m),f&=~m}if(t=Ze,n=Le,n=In(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(He===2||He===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&xt(r),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Kn(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&xt(r),mt(n)){case 2:case 8:n=Qt;break;case 32:n=an;break;case 268435456:n=Bn;break;default:n=an}return r=H0.bind(null,e),n=Cn(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&xt(r),e.callbackPriority=2,e.callbackNode=null,2}function H0(e,t){if(qt!==0&&qt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Gs()&&e.callbackNode!==n)return null;var r=Le;return r=In(e,e===Ze?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(E0(e,r,t),$0(e,dt()),e.callbackNode!=null&&e.callbackNode===n?H0.bind(null,e):null)}function K0(e,t){if(Gs())return null;E0(e,t,!0)}function em(){cm(function(){($e&6)!==0?Cn(zn,Fp):B0()})}function yc(){return ma===0&&(ma=Oa()),ma}function G0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ns(""+e)}function Y0(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function tm(e,t,n,r,u){if(t==="submit"&&n&&n.stateNode===u){var f=G0((u[Be]||null).action),y=r.submitter;y&&(t=(t=y[Be]||null)?G0(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var m=new ls("action","action",null,r,u);e.push({event:m,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ma!==0){var w=y?Y0(u,y):new FormData(u);Uu(n,{pending:!0,data:w,method:u.method,action:f},null,w)}}else typeof f=="function"&&(m.preventDefault(),w=y?Y0(u,y):new FormData(u),Uu(n,{pending:!0,data:w,method:u.method,action:f},f,w))},currentTarget:u}]})}}for(var pc=0;pc<tu.length;pc++){var mc=tu[pc],nm=mc.toLowerCase(),im=mc[0].toUpperCase()+mc.slice(1);jn(nm,"on"+im)}jn(Eh,"onAnimationEnd"),jn(Ah,"onAnimationIteration"),jn(Th,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(_p,"onTransitionRun"),jn(Sp,"onTransitionStart"),jn(wp,"onTransitionCancel"),jn(xh,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),am=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function Q0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],u=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var y=r.length-1;0<=y;y--){var m=r[y],w=m.instance,D=m.currentTarget;if(m=m.listener,w!==f&&u.isPropagationStopped())break e;f=m,u.currentTarget=D;try{f(u)}catch($){ks($)}u.currentTarget=null,f=w}else for(y=0;y<r.length;y++){if(m=r[y],w=m.instance,D=m.currentTarget,m=m.listener,w!==f&&u.isPropagationStopped())break e;f=m,u.currentTarget=D;try{f(u)}catch($){ks($)}u.currentTarget=null,f=w}}}}function De(e,t){var n=t[Vt];n===void 0&&(n=t[Vt]=new Set);var r=e+"__bubble";n.has(r)||(X0(t,e,2,!1),n.add(r))}function bc(e,t,n){var r=0;t&&(r|=4),X0(n,e,r,t)}var Xs="_reactListening"+Math.random().toString(36).slice(2);function _c(e){if(!e[Xs]){e[Xs]=!0,Rr.forEach(function(n){n!=="selectionchange"&&(am.has(n)||bc(n,!1,e),bc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Xs]||(t[Xs]=!0,bc("selectionchange",!1,t))}}function X0(e,t,n,r){switch(yg(t)){case 2:var u=jm;break;case 8:u=km;break;default:u=Nc}n=u.bind(null,t,n,e),u=void 0,!Ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),r?u!==void 0?e.addEventListener(t,n,{capture:!0,passive:u}):e.addEventListener(t,n,!0):u!==void 0?e.addEventListener(t,n,{passive:u}):e.addEventListener(t,n,!1)}function Sc(e,t,n,r,u){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var y=r.tag;if(y===3||y===4){var m=r.stateNode.containerInfo;if(m===u)break;if(y===4)for(y=r.return;y!==null;){var w=y.tag;if((w===3||w===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;m!==null;){if(y=Wn(m),y===null)return;if(w=y.tag,w===5||w===6||w===26||w===27){r=f=y;continue e}m=m.parentNode}}r=r.return}Ff(function(){var D=f,$=$o(n),G=[];e:{var j=Oh.get(e);if(j!==void 0){var k=ls,de=e;switch(e){case"keypress":if(as(n)===0)break e;case"keydown":case"keyup":k=Wy;break;case"focusin":de="focus",k=Xo;break;case"focusout":de="blur",k=Xo;break;case"beforeblur":case"afterblur":k=Xo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=nh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=$y;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=tp;break;case Eh:case Ah:case Th:k=Gy;break;case xh:k=ip;break;case"scroll":case"scrollend":k=qy;break;case"wheel":k=rp;break;case"copy":case"cut":case"paste":k=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=ah;break;case"toggle":case"beforetoggle":k=sp}var fe=(t&4)!==0,Qe=!fe&&(e==="scroll"||e==="scrollend"),T=fe?j!==null?j+"Capture":null:j;fe=[];for(var A=D,C;A!==null;){var K=A;if(C=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||C===null||T===null||(K=Mr(A,T),K!=null&&fe.push(vl(A,K,C))),Qe)break;A=A.return}0<fe.length&&(j=new k(j,de,null,n,$),G.push({event:j,listeners:fe}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",j&&n!==Bo&&(de=n.relatedTarget||n.fromElement)&&(Wn(de)||de[P]))break e;if((k||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,k?(de=n.relatedTarget||n.toElement,k=D,de=de?Wn(de):null,de!==null&&(Qe=c(de),fe=de.tag,de!==Qe||fe!==5&&fe!==27&&fe!==6)&&(de=null)):(k=null,de=D),k!==de)){if(fe=nh,K="onMouseLeave",T="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(fe=ah,K="onPointerLeave",T="onPointerEnter",A="pointer"),Qe=k==null?j:ta(k),C=de==null?j:ta(de),j=new fe(K,A+"leave",k,n,$),j.target=Qe,j.relatedTarget=C,K=null,Wn($)===D&&(fe=new fe(T,A+"enter",de,n,$),fe.target=C,fe.relatedTarget=Qe,K=fe),Qe=K,k&&de)t:{for(fe=k,T=de,A=0,C=fe;C;C=lr(C))A++;for(C=0,K=T;K;K=lr(K))C++;for(;0<A-C;)fe=lr(fe),A--;for(;0<C-A;)T=lr(T),C--;for(;A--;){if(fe===T||T!==null&&fe===T.alternate)break t;fe=lr(fe),T=lr(T)}fe=null}else fe=null;k!==null&&V0(G,j,k,fe,!1),de!==null&&Qe!==null&&V0(G,Qe,de,fe,!0)}}e:{if(j=D?ta(D):window,k=j.nodeName&&j.nodeName.toLowerCase(),k==="select"||k==="input"&&j.type==="file")var ne=hh;else if(ch(j))if(dh)ne=pp;else{ne=vp;var Oe=gp}else k=j.nodeName,!k||k.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?D&&qo(D.elementType)&&(ne=hh):ne=yp;if(ne&&(ne=ne(e,D))){fh(G,ne,n,$);break e}Oe&&Oe(e,j,D),e==="focusout"&&D&&j.type==="number"&&D.memoizedProps.value!=null&&zo(j,"number",j.value)}switch(Oe=D?ta(D):window,e){case"focusin":(ch(Oe)||Oe.contentEditable==="true")&&(Ua=Oe,Wo=D,Hr=null);break;case"focusout":Hr=Wo=Ua=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Sh(G,n,$);break;case"selectionchange":if(bp)break;case"keydown":case"keyup":Sh(G,n,$)}var le;if(Po)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else La?oh(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(rh&&n.locale!=="ko"&&(La||he!=="onCompositionStart"?he==="onCompositionEnd"&&La&&(le=eh()):(wi=$,Go="value"in wi?wi.value:wi.textContent,La=!0)),Oe=Vs(D,he),0<Oe.length&&(he=new ih(he,e,null,n,$),G.push({event:he,listeners:Oe}),le?he.data=le:(le=uh(n),le!==null&&(he.data=le)))),(le=up?cp(e,n):fp(e,n))&&(he=Vs(D,"onBeforeInput"),0<he.length&&(Oe=new ih("onBeforeInput","beforeinput",null,n,$),G.push({event:Oe,listeners:he}),Oe.data=le)),tm(G,e,D,n,$)}Q0(G,t)})}function vl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vs(e,t){for(var n=t+"Capture",r=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Mr(e,n),u!=null&&r.unshift(vl(e,u,f)),u=Mr(e,t),u!=null&&r.push(vl(e,u,f))),e.tag===3)return r;e=e.return}return[]}function lr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function V0(e,t,n,r,u){for(var f=t._reactName,y=[];n!==null&&n!==r;){var m=n,w=m.alternate,D=m.stateNode;if(m=m.tag,w!==null&&w===r)break;m!==5&&m!==26&&m!==27||D===null||(w=D,u?(D=Mr(n,f),D!=null&&y.unshift(vl(n,D,w))):u||(D=Mr(n,f),D!=null&&y.push(vl(n,D,w)))),n=n.return}y.length!==0&&e.push({event:t,listeners:y})}var rm=/\r\n?/g,lm=/\u0000|\uFFFD/g;function P0(e){return(typeof e=="string"?e:""+e).replace(rm,`
`).replace(lm,"")}function Z0(e,t){return t=P0(t),P0(e)===t}function Ps(){}function Ye(e,t,n,r,u,f){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||ka(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&ka(e,""+r);break;case"className":na(e,"class",r);break;case"tabIndex":na(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":na(e,n,r);break;case"style":If(e,r,f);break;case"data":if(t!=="object"){na(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ns(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(n==="formAction"?(t!=="input"&&Ye(e,t,"name",u.name,u,null),Ye(e,t,"formEncType",u.formEncType,u,null),Ye(e,t,"formMethod",u.formMethod,u,null),Ye(e,t,"formTarget",u.formTarget,u,null)):(Ye(e,t,"encType",u.encType,u,null),Ye(e,t,"method",u.method,u,null),Ye(e,t,"target",u.target,u,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(n);break}r=ns(""+r),e.setAttribute(n,r);break;case"onClick":r!=null&&(e.onclick=Ps);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}n=ns(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":r===!0?e.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":De("beforetoggle",e),De("toggle",e),Da(e,"popover",r);break;case"xlinkActuate":sn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":sn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":sn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":sn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":sn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":sn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":sn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":sn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":sn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Da(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Uy.get(n)||n,Da(e,n,r))}}function wc(e,t,n,r,u,f){switch(n){case"style":If(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(n=r.__html,n!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=n}}break;case"children":typeof r=="string"?ka(e,r):(typeof r=="number"||typeof r=="bigint")&&ka(e,""+r);break;case"onScroll":r!=null&&De("scroll",e);break;case"onScrollEnd":r!=null&&De("scrollend",e);break;case"onClick":r!=null&&(e.onclick=Ps);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wl.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(u=n.endsWith("Capture"),t=n.slice(2,u?n.length-7:void 0),f=e[Be]||null,f=f!=null?f[n]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof r=="function")){typeof f!="function"&&f!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,u);break e}n in e?e[n]=r:r===!0?e.setAttribute(n,""):Da(e,n,r)}}}function Bt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var r=!1,u=!1,f;for(f in n)if(n.hasOwnProperty(f)){var y=n[f];if(y!=null)switch(f){case"src":r=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ye(e,t,f,y,n,null)}}u&&Ye(e,t,"srcSet",n.srcSet,n,null),r&&Ye(e,t,"src",n.src,n,null);return;case"input":De("invalid",e);var m=f=y=u=null,w=null,D=null;for(r in n)if(n.hasOwnProperty(r)){var $=n[r];if($!=null)switch(r){case"name":u=$;break;case"type":y=$;break;case"checked":w=$;break;case"defaultChecked":D=$;break;case"value":f=$;break;case"defaultValue":m=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:Ye(e,t,r,$,n,null)}}Vf(e,f,m,w,D,y,u,!1),Ne(e);return;case"select":De("invalid",e),r=y=f=null;for(u in n)if(n.hasOwnProperty(u)&&(m=n[u],m!=null))switch(u){case"value":f=m;break;case"defaultValue":y=m;break;case"multiple":r=m;default:Ye(e,t,u,m,n,null)}t=f,n=y,e.multiple=!!r,t!=null?ja(e,!!r,t,!1):n!=null&&ja(e,!!r,n,!0);return;case"textarea":De("invalid",e),f=u=r=null;for(y in n)if(n.hasOwnProperty(y)&&(m=n[y],m!=null))switch(y){case"value":r=m;break;case"defaultValue":u=m;break;case"children":f=m;break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:Ye(e,t,y,m,n,null)}Zf(e,r,u,f),Ne(e);return;case"option":for(w in n)if(n.hasOwnProperty(w)&&(r=n[w],r!=null))switch(w){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ye(e,t,w,r,n,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(r=0;r<gl.length;r++)De(gl[r],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in n)if(n.hasOwnProperty(D)&&(r=n[D],r!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Ye(e,t,D,r,n,null)}return;default:if(qo(t)){for($ in n)n.hasOwnProperty($)&&(r=n[$],r!==void 0&&wc(e,t,$,r,n,void 0));return}}for(m in n)n.hasOwnProperty(m)&&(r=n[m],r!=null&&Ye(e,t,m,r,n,null))}function sm(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,m=null,w=null,D=null,$=null;for(k in n){var G=n[k];if(n.hasOwnProperty(k)&&G!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":w=G;default:r.hasOwnProperty(k)||Ye(e,t,k,null,r,G)}}for(var j in r){var k=r[j];if(G=n[j],r.hasOwnProperty(j)&&(k!=null||G!=null))switch(j){case"type":f=k;break;case"name":u=k;break;case"checked":D=k;break;case"defaultChecked":$=k;break;case"value":y=k;break;case"defaultValue":m=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,t));break;default:k!==G&&Ye(e,t,j,k,r,G)}}Uo(e,y,m,w,D,$,f,u);return;case"select":k=y=m=j=null;for(f in n)if(w=n[f],n.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":k=w;default:r.hasOwnProperty(f)||Ye(e,t,f,null,r,w)}for(u in r)if(f=r[u],w=n[u],r.hasOwnProperty(u)&&(f!=null||w!=null))switch(u){case"value":j=f;break;case"defaultValue":m=f;break;case"multiple":y=f;default:f!==w&&Ye(e,t,u,f,r,w)}t=m,n=y,r=k,j!=null?ja(e,!!n,j,!1):!!r!=!!n&&(t!=null?ja(e,!!n,t,!0):ja(e,!!n,n?[]:"",!1));return;case"textarea":k=j=null;for(m in n)if(u=n[m],n.hasOwnProperty(m)&&u!=null&&!r.hasOwnProperty(m))switch(m){case"value":break;case"children":break;default:Ye(e,t,m,null,r,u)}for(y in r)if(u=r[y],f=n[y],r.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":j=u;break;case"defaultValue":k=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&Ye(e,t,y,u,r,f)}Pf(e,j,k);return;case"option":for(var de in n)if(j=n[de],n.hasOwnProperty(de)&&j!=null&&!r.hasOwnProperty(de))switch(de){case"selected":e.selected=!1;break;default:Ye(e,t,de,null,r,j)}for(w in r)if(j=r[w],k=n[w],r.hasOwnProperty(w)&&j!==k&&(j!=null||k!=null))switch(w){case"selected":e.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Ye(e,t,w,j,r,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in n)j=n[fe],n.hasOwnProperty(fe)&&j!=null&&!r.hasOwnProperty(fe)&&Ye(e,t,fe,null,r,j);for(D in r)if(j=r[D],k=n[D],r.hasOwnProperty(D)&&j!==k&&(j!=null||k!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,t));break;default:Ye(e,t,D,j,r,k)}return;default:if(qo(t)){for(var Qe in n)j=n[Qe],n.hasOwnProperty(Qe)&&j!==void 0&&!r.hasOwnProperty(Qe)&&wc(e,t,Qe,void 0,r,j);for($ in r)j=r[$],k=n[$],!r.hasOwnProperty($)||j===k||j===void 0&&k===void 0||wc(e,t,$,j,r,k);return}}for(var T in n)j=n[T],n.hasOwnProperty(T)&&j!=null&&!r.hasOwnProperty(T)&&Ye(e,t,T,null,r,j);for(G in r)j=r[G],k=n[G],!r.hasOwnProperty(G)||j===k||j==null&&k==null||Ye(e,t,G,j,r,k)}var Ec=null,Ac=null;function Zs(e){return e.nodeType===9?e:e.ownerDocument}function J0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Tc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xc=null;function om(){var e=window.event;return e&&e.type==="popstate"?e===xc?!1:(xc=e,!0):(xc=null,!1)}var W0=typeof setTimeout=="function"?setTimeout:void 0,um=typeof clearTimeout=="function"?clearTimeout:void 0,F0=typeof Promise=="function"?Promise:void 0,cm=typeof queueMicrotask=="function"?queueMicrotask:typeof F0<"u"?function(e){return F0.resolve(null).then(e).catch(fm)}:W0;function fm(e){setTimeout(function(){throw e})}function qi(e){return e==="head"}function eg(e,t){var n=t,r=0,u=0;do{var f=n.nextSibling;if(e.removeChild(n),f&&f.nodeType===8)if(n=f.data,n==="/$"){if(0<r&&8>r){n=r;var y=e.ownerDocument;if(n&1&&yl(y.documentElement),n&2&&yl(y.body),n&4)for(n=y.head,yl(n),y=n.firstChild;y;){var m=y.nextSibling,w=y.nodeName;y[rt]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&y.rel.toLowerCase()==="stylesheet"||n.removeChild(y),y=m}}if(u===0){e.removeChild(f),Al(t);return}u--}else n==="$"||n==="$?"||n==="$!"?u++:r=n.charCodeAt(0)-48;else r=0;n=f}while(n);Al(t)}function Oc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Oc(n),Ra(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function hm(e,t,n,r){for(;e.nodeType===1;){var u=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[rt])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function dm(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function gm(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Mn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Rc=null;function tg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function ng(e,t,n){switch(t=Zs(n),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function yl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ra(e)}var Tn=new Map,ig=new Set;function Js(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yi=Q.d;Q.d={f:vm,r:ym,D:pm,C:mm,L:bm,m:_m,X:wm,S:Sm,M:Em};function vm(){var e=yi.f(),t=Hs();return e||t}function ym(e){var t=ae(e);t!==null&&t.tag===5&&t.type==="form"?Ed(t):yi.r(e)}var sr=typeof document>"u"?null:document;function ag(e,t,n){var r=sr;if(r&&typeof t=="string"&&t){var u=mn(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof n=="string"&&(u+='[crossorigin="'+n+'"]'),ig.has(u)||(ig.add(u),e={rel:e,crossOrigin:n,href:t},r.querySelector(u)===null&&(t=r.createElement("link"),Bt(t,"link",e),gt(t),r.head.appendChild(t)))}}function pm(e){yi.D(e),ag("dns-prefetch",e,null)}function mm(e,t){yi.C(e,t),ag("preconnect",e,t)}function bm(e,t,n){yi.L(e,t,n);var r=sr;if(r&&e&&t){var u='link[rel="preload"][as="'+mn(t)+'"]';t==="image"&&n&&n.imageSrcSet?(u+='[imagesrcset="'+mn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(u+='[imagesizes="'+mn(n.imageSizes)+'"]')):u+='[href="'+mn(e)+'"]';var f=u;switch(t){case"style":f=or(e);break;case"script":f=ur(e)}Tn.has(f)||(e=p({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Tn.set(f,e),r.querySelector(u)!==null||t==="style"&&r.querySelector(pl(f))||t==="script"&&r.querySelector(ml(f))||(t=r.createElement("link"),Bt(t,"link",e),gt(t),r.head.appendChild(t)))}}function _m(e,t){yi.m(e,t);var n=sr;if(n&&e){var r=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+mn(r)+'"][href="'+mn(e)+'"]',f=u;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ur(e)}if(!Tn.has(f)&&(e=p({rel:"modulepreload",href:e},t),Tn.set(f,e),n.querySelector(u)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(ml(f)))return}r=n.createElement("link"),Bt(r,"link",e),gt(r),n.head.appendChild(r)}}}function Sm(e,t,n){yi.S(e,t,n);var r=sr;if(r&&e){var u=Fn(r).hoistableStyles,f=or(e);t=t||"default";var y=u.get(f);if(!y){var m={loading:0,preload:null};if(y=r.querySelector(pl(f)))m.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Tn.get(f))&&Dc(e,n);var w=y=r.createElement("link");gt(w),Bt(w,"link",e),w._p=new Promise(function(D,$){w.onload=D,w.onerror=$}),w.addEventListener("load",function(){m.loading|=1}),w.addEventListener("error",function(){m.loading|=2}),m.loading|=4,Is(y,t,r)}y={type:"stylesheet",instance:y,count:1,state:m},u.set(f,y)}}}function wm(e,t){yi.X(e,t);var n=sr;if(n&&e){var r=Fn(n).hoistableScripts,u=ur(e),f=r.get(u);f||(f=n.querySelector(ml(u)),f||(e=p({src:e,async:!0},t),(t=Tn.get(u))&&jc(e,t),f=n.createElement("script"),gt(f),Bt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function Em(e,t){yi.M(e,t);var n=sr;if(n&&e){var r=Fn(n).hoistableScripts,u=ur(e),f=r.get(u);f||(f=n.querySelector(ml(u)),f||(e=p({src:e,async:!0,type:"module"},t),(t=Tn.get(u))&&jc(e,t),f=n.createElement("script"),gt(f),Bt(f,"link",e),n.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(u,f))}}function rg(e,t,n,r){var u=(u=te.current)?Js(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=or(n.href),n=Fn(u).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=or(n.href);var f=Fn(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(pl(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Tn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Tn.set(e,n),f||Am(u,e,n,y.state))),t&&r===null)throw Error(s(528,""));return y}if(t&&r!==null)throw Error(s(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ur(n),n=Fn(u).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function or(e){return'href="'+mn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function lg(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Am(e,t,n,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),Bt(t,"link",n),gt(t),e.head.appendChild(t))}function ur(e){return'[src="'+mn(e)+'"]'}function ml(e){return"script[async]"+e}function sg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mn(n.href)+'"]');if(r)return t.instance=r,gt(r),r;var u=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),gt(r),Bt(r,"style",u),Is(r,n.precedence,e),t.instance=r;case"stylesheet":u=or(n.href);var f=e.querySelector(pl(u));if(f)return t.state.loading|=4,t.instance=f,gt(f),f;r=lg(n),(u=Tn.get(u))&&Dc(r,u),f=(e.ownerDocument||e).createElement("link"),gt(f);var y=f;return y._p=new Promise(function(m,w){y.onload=m,y.onerror=w}),Bt(f,"link",r),t.state.loading|=4,Is(f,n.precedence,e),t.instance=f;case"script":return f=ur(n.src),(u=e.querySelector(ml(f)))?(t.instance=u,gt(u),u):(r=n,(u=Tn.get(f))&&(r=p({},n),jc(r,u)),e=e.ownerDocument||e,u=e.createElement("script"),gt(u),Bt(u,"link",r),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,Is(r,n.precedence,e));return t.instance}function Is(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=r.length?r[r.length-1]:null,f=u,y=0;y<r.length;y++){var m=r[y];if(m.dataset.precedence===t)f=m;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function jc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ws=null;function og(e,t,n){if(Ws===null){var r=new Map,u=Ws=new Map;u.set(n,r)}else u=Ws,r=u.get(n),r||(r=new Map,u.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),u=0;u<n.length;u++){var f=n[u];if(!(f[rt]||f[Ce]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var m=r.get(y);m?m.push(f):r.set(y,[f])}}return r}function ug(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Tm(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var bl=null;function xm(){}function Om(e,t,n){if(bl===null)throw Error(s(475));var r=bl;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=or(n.href),f=e.querySelector(pl(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=Fs.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=f,gt(f);return}f=e.ownerDocument||e,n=lg(n),(u=Tn.get(u))&&Dc(n,u),f=f.createElement("link"),gt(f);var y=f;y._p=new Promise(function(m,w){y.onload=m,y.onerror=w}),Bt(f,"link",n),t.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=Fs.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Cm(){if(bl===null)throw Error(s(475));var e=bl;return e.stylesheets&&e.count===0&&kc(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Fs(){if(this.count--,this.count===0){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,t.forEach(Rm,e),eo=null,Fs.call(e))}function Rm(e,t){if(!(t.state.loading&4)){var n=eo.get(e);if(n)var r=n.get(null);else{n=new Map,eo.set(e,n);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(n.set(y.dataset.precedence,y),r=y)}r&&n.set(null,r)}u=t.instance,y=u.getAttribute("data-precedence"),f=n.get(y)||r,f===r&&n.set(null,u),n.set(y,u),this.count++,r=Fs.bind(this),u.addEventListener("load",r),u.addEventListener("error",r),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var _l={$$typeof:H,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function Dm(e,t,n,r,u,f,y,m){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ea(0),this.hiddenUpdates=ea(null),this.identifierPrefix=r,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=m,this.incompleteTransitions=new Map}function fg(e,t,n,r,u,f,y,m,w,D,$,G){return e=new Dm(e,t,n,y,m,w,D,G),t=1,f===!0&&(t|=24),f=un(3,null,null,t),e.current=f,f.stateNode=e,t=du(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:n,cache:t},pu(f),e}function hg(e){return e?(e=$a,e):$a}function dg(e,t,n,r,u,f){u=hg(u),r.context===null?r.context=u:r.pendingContext=u,r=Ti(t),r.payload={element:n},f=f===void 0?null:f,f!==null&&(r.callback=f),n=xi(e,r,t),n!==null&&(gn(n,e,t),Jr(n,e,t))}function gg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Mc(e,t){gg(e,t),(e=e.alternate)&&gg(e,t)}function vg(e){if(e.tag===13){var t=Ba(e,67108864);t!==null&&gn(t,e,67108864),Mc(e,67108864)}}var to=!0;function jm(e,t,n,r){var u=q.T;q.T=null;var f=Q.p;try{Q.p=2,Nc(e,t,n,r)}finally{Q.p=f,q.T=u}}function km(e,t,n,r){var u=q.T;q.T=null;var f=Q.p;try{Q.p=8,Nc(e,t,n,r)}finally{Q.p=f,q.T=u}}function Nc(e,t,n,r){if(to){var u=Lc(r);if(u===null)Sc(e,t,r,no,n),pg(e,r);else if(Nm(u,e,t,n,r))r.stopPropagation();else if(pg(e,r),t&4&&-1<Mm.indexOf(e)){for(;u!==null;){var f=ae(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=rn(f.pendingLanes);if(y!==0){var m=f;for(m.pendingLanes|=2,m.entangledLanes|=2;y;){var w=1<<31-xe(y);m.entanglements[1]|=w,y&=~w}Zn(f),($e&6)===0&&(Bs=dt()+500,dl(0))}}break;case 13:m=Ba(f,2),m!==null&&gn(m,f,2),Hs(),Mc(f,2)}if(f=Lc(r),f===null&&Sc(e,t,r,no,n),f===u)break;u=f}u!==null&&r.stopPropagation()}else Sc(e,t,r,null,n)}}function Lc(e){return e=$o(e),Uc(e)}var no=null;function Uc(e){if(no=null,e=Wn(e),e!==null){var t=c(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return no=e,null}function yg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jn()){case zn:return 2;case Qt:return 8;case an:case qn:return 32;case Bn:return 268435456;default:return 32}default:return 32}}var zc=!1,Bi=null,$i=null,Hi=null,Sl=new Map,wl=new Map,Ki=[],Mm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pg(e,t){switch(e){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":Sl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wl.delete(t.pointerId)}}function El(e,t,n,r,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:f,targetContainers:[u]},t!==null&&(t=ae(t),t!==null&&vg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Nm(e,t,n,r,u){switch(t){case"focusin":return Bi=El(Bi,e,t,n,r,u),!0;case"dragenter":return $i=El($i,e,t,n,r,u),!0;case"mouseover":return Hi=El(Hi,e,t,n,r,u),!0;case"pointerover":var f=u.pointerId;return Sl.set(f,El(Sl.get(f)||null,e,t,n,r,u)),!0;case"gotpointercapture":return f=u.pointerId,wl.set(f,El(wl.get(f)||null,e,t,n,r,u)),!0}return!1}function mg(e){var t=Wn(e.target);if(t!==null){var n=c(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,M(e.priority,function(){if(n.tag===13){var r=dn();r=Ct(r);var u=Ba(n,r);u!==null&&gn(u,n,r),Mc(n,r)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Lc(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bo=r,n.target.dispatchEvent(r),Bo=null}else return t=ae(n),t!==null&&vg(t),e.blockedOn=n,!1;t.shift()}return!0}function bg(e,t,n){io(e)&&n.delete(t)}function Lm(){zc=!1,Bi!==null&&io(Bi)&&(Bi=null),$i!==null&&io($i)&&($i=null),Hi!==null&&io(Hi)&&(Hi=null),Sl.forEach(bg),wl.forEach(bg)}function ao(e,t){e.blockedOn===t&&(e.blockedOn=null,zc||(zc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Lm)))}var ro=null;function _g(e){ro!==e&&(ro=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],u=e[t+2];if(typeof r!="function"){if(Uc(r||n)===null)continue;break}var f=ae(n);f!==null&&(e.splice(t,3),t-=3,Uu(f,{pending:!0,data:u,method:n.method,action:r},r,u))}}))}function Al(e){function t(w){return ao(w,e)}Bi!==null&&ao(Bi,e),$i!==null&&ao($i,e),Hi!==null&&ao(Hi,e),Sl.forEach(t),wl.forEach(t);for(var n=0;n<Ki.length;n++){var r=Ki[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Ki.length&&(n=Ki[0],n.blockedOn===null);)mg(n),n.blockedOn===null&&Ki.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var u=n[r],f=n[r+1],y=u[Be]||null;if(typeof f=="function")y||_g(n);else if(y){var m=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[Be]||null)m=y.formAction;else if(Uc(u)!==null)continue}else m=y.action;typeof m=="function"?n[r+1]=m:(n.splice(r,3),r-=3),_g(n)}}}function qc(e){this._internalRoot=e}lo.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var n=t.current,r=dn();dg(n,r,e,t,null,null)},lo.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;dg(e.current,2,null,e,null,null),Hs(),t[P]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ki.length&&t!==0&&t<Ki[n].priority;n++);Ki.splice(n,0,e),n===0&&mg(e)}};var Sg=i.version;if(Sg!=="19.1.0")throw Error(s(527,Sg,"19.1.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Um={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var so=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!so.isDisabled&&so.supportsFiber)try{Rn=so.inject(Um),be=so}catch{}}return xl.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",u=zd,f=qd,y=Bd,m=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(m=t.unstable_transitionCallbacks)),t=fg(e,1,!1,null,null,n,r,u,f,y,m,null),e[P]=t.current,_c(e),new qc(t)},xl.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,u="",f=zd,y=qd,m=Bd,w=null,D=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(y=n.onCaughtError),n.onRecoverableError!==void 0&&(m=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(w=n.unstable_transitionCallbacks),n.formState!==void 0&&(D=n.formState)),t=fg(e,1,!0,t,n??null,r,u,f,y,m,w,D),t.context=hg(null),n=t.current,r=dn(),r=Ct(r),u=Ti(r),u.callback=null,xi(n,u,r),n=r,t.current.lanes=n,Fe(t,n),Zn(t),e[P]=t.current,_c(e),new lo(t)},xl.version="19.1.0",xl}var jg;function Xm(){if(jg)return Hc.exports;jg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(i){console.error(i)}}return l(),Hc.exports=Qm(),Hc.exports}var Vm=Xm(),Pm=Object.defineProperty,Zm=Object.defineProperties,Jm=Object.getOwnPropertyDescriptors,_o=Object.getOwnPropertySymbols,Mv=Object.prototype.hasOwnProperty,Nv=Object.prototype.propertyIsEnumerable,kg=(l,i,a)=>i in l?Pm(l,i,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[i]=a,yn=(l,i)=>{for(var a in i||(i={}))Mv.call(i,a)&&kg(l,a,i[a]);if(_o)for(var a of _o(i))Nv.call(i,a)&&kg(l,a,i[a]);return l},xn=(l,i)=>Zm(l,Jm(i)),Im=(l,i)=>{var a={};for(var s in l)Mv.call(l,s)&&i.indexOf(s)<0&&(a[s]=l[s]);if(l!=null&&_o)for(var s of _o(l))i.indexOf(s)<0&&Nv.call(l,s)&&(a[s]=l[s]);return a},Wm=(l,i,a)=>new Promise((s,o)=>{var c=g=>{try{d(a.next(g))}catch(v){o(v)}},h=g=>{try{d(a.throw(g))}catch(v){o(v)}},d=g=>g.done?s(g.value):Promise.resolve(g.value).then(c,h);d((a=a.apply(l,i)).next())}),Fm=x.memo(({isOpen:l,overlayId:i,overlayDispatch:a,controller:s})=>(x.useEffect(()=>{requestAnimationFrame(()=>{a({type:"OPEN",overlayId:i})})},[a,i]),ue.jsx(s,{overlayId:i,isOpen:l,close:()=>a({type:"CLOSE",overlayId:i}),unmount:()=>a({type:"REMOVE",overlayId:i})})));function df(){return`overlay-kit-${Math.random().toString(36).slice(2,11)}`}function e1(l){let[i,a]=u1(`${l}/overlay-kit`),s=(v,p)=>{var b;let _=(b=p?.overlayId)!=null?b:df(),S=df();return a("open")({controller:v,overlayId:_,componentKey:S}),_},o=(v,p)=>Wm(this,null,function*(){return new Promise(b=>{s((_,...S)=>{let R=U=>{b(U),_.close()},L=xn(yn({},_),{close:R});return v(L,...S)},p)})}),c=a("close"),h=a("unmount"),d=a("closeAll"),g=a("unmountAll");return{open:s,openAsync:o,close:c,unmount:h,closeAll:d,unmountAll:g,useOverlayEvent:i}}var Mg=Symbol("Null");function t1(l){let i=x.createContext(Mg);i.displayName=l;function a(){let s=x.useContext(i);if(s===Mg){let o=new Error(`[${i.displayName}]: Provider not found.`);throw o.name="[Error] Context",o}return s}return[i.Provider,a]}function n1(){let[l,i]=t1("overlay-kit/OverlayContext");function a(){return i().current}function s(){return i().overlayData}return{OverlayContextProvider:l,useCurrentOverlay:a,useOverlayData:s}}var Ng=(l,i,a)=>{var s,o;let c=l.filter(d=>i[d].isOpen===!0),h=c.findIndex(d=>d===a);return h===c.length-1?(s=c[h-1])!=null?s:null:(o=c.at(-1))!=null?o:null};function i1(l,i){switch(i.type){case"ADD":{let a=l.overlayOrderList.includes(i.overlay.id);if(a&&l.overlayData[i.overlay.id].isOpen===!0)throw new Error(`You can't open the multiple overlays with the same overlayId(${i.overlay.id}). Please set a different id.`);return{current:i.overlay.id,overlayOrderList:[...l.overlayOrderList.filter(s=>s!==i.overlay.id),i.overlay.id],overlayData:a?l.overlayData:xn(yn({},l.overlayData),{[i.overlay.id]:i.overlay})}}case"OPEN":{let a=l.overlayData[i.overlayId];return a==null||a.isOpen?l:xn(yn({},l),{overlayData:xn(yn({},l.overlayData),{[i.overlayId]:xn(yn({},a),{isOpen:!0})})})}case"CLOSE":{let a=l.overlayData[i.overlayId];if(a==null||!a.isOpen)return l;let s=Ng(l.overlayOrderList,l.overlayData,i.overlayId);return xn(yn({},l),{current:s,overlayData:xn(yn({},l.overlayData),{[i.overlayId]:xn(yn({},l.overlayData[i.overlayId]),{isOpen:!1})})})}case"REMOVE":{if(l.overlayData[i.overlayId]==null)return l;let a=l.overlayOrderList.filter(o=>o!==i.overlayId);if(l.overlayOrderList.length===a.length)return l;let s=yn({},l.overlayData);return delete s[i.overlayId],{current:Ng(l.overlayOrderList,l.overlayData,i.overlayId),overlayOrderList:a,overlayData:s}}case"CLOSE_ALL":return Object.keys(l.overlayData).length===0?l:xn(yn({},l),{current:null,overlayData:Object.keys(l.overlayData).reduce((a,s)=>xn(yn({},a),{[s]:xn(yn({},l.overlayData[s]),{isOpen:!1})}),{})});case"REMOVE_ALL":return{current:null,overlayOrderList:[],overlayData:{}}}}function a1(){let l=df(),i=e1(l),{useOverlayEvent:a}=i,s=Im(i,["useOverlayEvent"]),{OverlayContextProvider:o,useCurrentOverlay:c,useOverlayData:h}=n1();function d({children:g}){let[v,p]=x.useReducer(i1,{current:null,overlayOrderList:[],overlayData:{}}),b=x.useCallback(({controller:U,overlayId:Z,componentKey:W})=>{p({type:"ADD",overlay:{id:Z,componentKey:W,isOpen:!1,controller:U}})},[]),_=x.useCallback(U=>{p({type:"CLOSE",overlayId:U})},[]),S=x.useCallback(U=>{p({type:"REMOVE",overlayId:U})},[]),R=x.useCallback(()=>{p({type:"CLOSE_ALL"})},[]),L=x.useCallback(()=>{p({type:"REMOVE_ALL"})},[]);return a({open:b,close:_,unmount:S,closeAll:R,unmountAll:L}),x.useEffect(()=>()=>{p({type:"REMOVE_ALL"})},[]),ue.jsxs(o,{value:v,children:[g,v.overlayOrderList.map(U=>{let{id:Z,componentKey:W,isOpen:H,controller:J}=v.overlayData[U];return ue.jsx(Fm,{isOpen:H,overlayId:Z,overlayDispatch:p,controller:J},W)})]})}return{overlay:s,OverlayProvider:d,useCurrentOverlay:c,useOverlayData:h}}var{overlay:Rf,OverlayProvider:r1}=a1();function l1(l){return l=l||new Map,{all:l,on(i,a){let s=l.get(i);s?s.push(a):l.set(i,[a])},off(i,a){let s=l.get(i);s&&(a?s.splice(s.indexOf(a)>>>0,1):l.set(i,[]))},emit(i,a){let s=l.get(i);s&&s.slice().forEach(o=>{o(a)}),s=l.get("*"),s&&s.slice().forEach(o=>{o(i,a)})}}}var yo=l1();function s1(...l){let i=typeof document<"u",a=typeof navigator<"u"&&navigator.product==="ReactNative";!i&&!a||x.useLayoutEffect(...l)}function o1(l,i){yo.emit(l,i)}function u1(l){function i(s){let o=Object.keys(s).reduce((c,h)=>{let d=`${l}:${h}`;return xn(yn({},c),{[d]:function(g){s[h](g)}})},{});s1(()=>(Object.keys(o).forEach(c=>{yo.off(c,o[c]),yo.on(c,o[c])}),()=>Object.keys(o).forEach(c=>{yo.off(c,o[c])})),[o])}function a(s){return(...o)=>o1(`${l}:${String(s)}`,o[0])}return[i,a]}function Df({children:l,isOpen:i=!1,onExit:a}){return i?ue.jsxs("div",{className:"z-100 fixed top-0 left-0 bottom-0 w-full flex justify-center items-center",children:[ue.jsx("div",{className:"fixed inset-0 bg-white opacity-50 h-full w-full"}),l]}):null}function c1({children:l,isOpen:i,close:a}){return ue.jsx(Df,{isOpen:i,children:ue.jsxs("div",{className:"p-4 rounded border-2 border-amber-800 bg-white h-fit max-sm:w-2/3 w-2/5 relative flex flex-col items-center",children:[ue.jsx("span",{className:"mb-4",children:l}),ue.jsxs("div",{className:"flex justify-around w-full",children:[ue.jsx("button",{className:"cursor-pointer rounded bg-red-400 hover:bg-red-600 text-white px-4 py-2 w-1/3",onClick:()=>a(!1),children:"no"}),ue.jsx("button",{className:"cursor-pointer rounded bg-blue-400 hover:bg-blue-600 text-white px-4 py-2 w-1/3",onClick:()=>a(!0),children:"yes"})]})]})})}function f1({move:l,title:i,description:a,onSave:s,onDelete:o}){return ue.jsx("button",{className:"absolute right-4 z-100 bg-blue-400 hover:bg-blue-600 text-white rounded px-2 py-1 hover:cursor-pointer",onClick:c=>{c.stopPropagation(),Rf.open(({isOpen:h,close:d})=>ue.jsx(h1,{isOpen:h,close:d,move:l,title:i,description:a,onSave:s,onDelete:o}))},children:"edit"})}function h1({isOpen:l,close:i,move:a,title:s,description:o,onSave:c,onDelete:h}){const[d,g]=x.useState(s),[v,p]=x.useState(o);return ue.jsx(Df,{isOpen:l,children:ue.jsxs("div",{className:"p-4 rounded border-2 border-amber-800 bg-white max-sm:w-4/5 h-2/3 w-1/2 relative",children:[ue.jsx("span",{className:"text-lg font-bold",children:a}),ue.jsxs("div",{className:"h-11/12 flex flex-col justify-around mt-2",children:[ue.jsx("label",{htmlFor:"title",className:"mb-4",children:"title"}),ue.jsx("input",{name:"title",type:"text",className:"border border-amber-800 mb-4 rounded h-1/12 pl-2",value:d,onChange:b=>g(b.target.value)}),ue.jsx("label",{htmlFor:"description",className:"mb-4",children:"description"}),ue.jsx("textarea",{name:"description",type:"text",className:"border border-amber-800 mb-4 rounded h-3/5 resize-none pl-2 pt-2",value:v,onChange:b=>p(b.target.value)}),ue.jsxs("div",{className:"flex justify-around",children:[ue.jsx("button",{onClick:async()=>{await Rf.openAsync(({isOpen:_,close:S})=>ue.jsx(c1,{isOpen:_,close:S,children:"?"}))&&h(),i()},className:"cursor-pointer rounded bg-red-400 hover:bg-red-600 text-white px-4 py-2 w-1/3",children:"Delete"}),ue.jsx("button",{onClick:()=>{c(d,v),i()},className:"cursor-pointer rounded bg-blue-400 hover:bg-blue-600 text-white px-4 py-2 w-1/3",children:"Save"})]})]})]})})}function Lg({fen:l,move:i,onClick:a,title:s,description:o,isEditable:c}){function h(g,v){console.log({fen:l,move:i,title:g,description:v})}function d(){console.log("delete",{fen:l,move:i})}return ue.jsxs("div",{className:"w-full flex flex-col p-2 rounded border border-amber-800 max-sm:h-24 h-32 mb-4 cursor-pointer hover:bg-amber-800 hover:text-white hover:border-white relative whitespace-pre text-sm",onClick:()=>a(),children:[c&&ue.jsx(f1,{move:i,title:s,description:o,onSave:h,onDelete:d}),ue.jsx("span",{className:"text-md font-bold",children:i}),s&&ue.jsxs("span",{children:["[",s,"]"]}),o&&ue.jsx("span",{children:o})]})}function d1({fen:l,onMove:i,onUndo:a,moves:s}){return ue.jsxs("div",{children:[ue.jsx(Lg,{move:"",onClick:()=>a()}),s.map(({move:o,title:c,description:h})=>ue.jsx(Lg,{fen:l,move:o,title:c,description:h,onClick:()=>i(o),isEditable:!0},o))]})}var jl=kv(),Qc={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function g1(){if(Ug)return Ol;Ug=1;var l=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function a(s,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:l,type:s,key:h,ref:o!==void 0?o:null,props:c}}return Ol.Fragment=i,Ol.jsx=a,Ol.jsxs=a,Ol}var zg;function v1(){return zg||(zg=1,Qc.exports=g1()),Qc.exports}var B=v1();const Co=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Tr(l){const i=Object.prototype.toString.call(l);return i==="[object Window]"||i==="[object global]"}function jf(l){return"nodeType"in l}function Zt(l){var i,a;return l?Tr(l)?l:jf(l)&&(i=(a=l.ownerDocument)==null?void 0:a.defaultView)!=null?i:window:window}function kf(l){const{Document:i}=Zt(l);return l instanceof i}function Xl(l){return Tr(l)?!1:l instanceof Zt(l).HTMLElement}function Lv(l){return l instanceof Zt(l).SVGElement}function xr(l){return l?Tr(l)?l.document:jf(l)?kf(l)?l:Xl(l)||Lv(l)?l.ownerDocument:document:document:document}const bi=Co?x.useLayoutEffect:x.useEffect;function Ro(l){const i=x.useRef(l);return bi(()=>{i.current=l}),x.useCallback(function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return i.current==null?void 0:i.current(...s)},[])}function y1(){const l=x.useRef(null),i=x.useCallback((s,o)=>{l.current=setInterval(s,o)},[]),a=x.useCallback(()=>{l.current!==null&&(clearInterval(l.current),l.current=null)},[]);return[i,a]}function $l(l,i){i===void 0&&(i=[l]);const a=x.useRef(l);return bi(()=>{a.current!==l&&(a.current=l)},i),a}function Vl(l,i){const a=x.useRef();return x.useMemo(()=>{const s=l(a.current);return a.current=s,s},[...i])}function So(l){const i=Ro(l),a=x.useRef(null),s=x.useCallback(o=>{o!==a.current&&i?.(o,a.current),a.current=o},[]);return[a,s]}function wo(l){const i=x.useRef();return x.useEffect(()=>{i.current=l},[l]),i.current}let Xc={};function Do(l,i){return x.useMemo(()=>{if(i)return i;const a=Xc[l]==null?0:Xc[l]+1;return Xc[l]=a,l+"-"+a},[l,i])}function Uv(l){return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];return s.reduce((c,h)=>{const d=Object.entries(h);for(const[g,v]of d){const p=c[g];p!=null&&(c[g]=p+l*v)}return c},{...i})}}const wr=Uv(1),Eo=Uv(-1);function p1(l){return"clientX"in l&&"clientY"in l}function Mf(l){if(!l)return!1;const{KeyboardEvent:i}=Zt(l.target);return i&&l instanceof i}function m1(l){if(!l)return!1;const{TouchEvent:i}=Zt(l.target);return i&&l instanceof i}function Hl(l){if(m1(l)){if(l.touches&&l.touches.length){const{clientX:i,clientY:a}=l.touches[0];return{x:i,y:a}}else if(l.changedTouches&&l.changedTouches.length){const{clientX:i,clientY:a}=l.changedTouches[0];return{x:i,y:a}}}return p1(l)?{x:l.clientX,y:l.clientY}:null}const Kl=Object.freeze({Translate:{toString(l){if(!l)return;const{x:i,y:a}=l;return"translate3d("+(i?Math.round(i):0)+"px, "+(a?Math.round(a):0)+"px, 0)"}},Scale:{toString(l){if(!l)return;const{scaleX:i,scaleY:a}=l;return"scaleX("+i+") scaleY("+a+")"}},Transform:{toString(l){if(l)return[Kl.Translate.toString(l),Kl.Scale.toString(l)].join(" ")}},Transition:{toString(l){let{property:i,duration:a,easing:s}=l;return i+" "+a+"ms "+s}}}),qg="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function b1(l){return l.matches(qg)?l:l.querySelector(qg)}const _1={display:"none"};function S1(l){let{id:i,value:a}=l;return ht.createElement("div",{id:i,style:_1},a)}function w1(l){let{id:i,announcement:a,ariaLiveType:s="assertive"}=l;const o={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return ht.createElement("div",{id:i,style:o,role:"status","aria-live":s,"aria-atomic":!0},a)}function E1(){const[l,i]=x.useState("");return{announce:x.useCallback(s=>{s!=null&&i(s)},[]),announcement:l}}const zv=x.createContext(null);function A1(l){const i=x.useContext(zv);x.useEffect(()=>{if(!i)throw new Error("useDndMonitor must be used within a children of <DndContext>");return i(l)},[l,i])}function T1(){const[l]=x.useState(()=>new Set),i=x.useCallback(s=>(l.add(s),()=>l.delete(s)),[l]);return[x.useCallback(s=>{let{type:o,event:c}=s;l.forEach(h=>{var d;return(d=h[o])==null?void 0:d.call(h,c)})},[l]),i]}const x1={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},O1={onDragStart(l){let{active:i}=l;return"Picked up draggable item "+i.id+"."},onDragOver(l){let{active:i,over:a}=l;return a?"Draggable item "+i.id+" was moved over droppable area "+a.id+".":"Draggable item "+i.id+" is no longer over a droppable area."},onDragEnd(l){let{active:i,over:a}=l;return a?"Draggable item "+i.id+" was dropped over droppable area "+a.id:"Draggable item "+i.id+" was dropped."},onDragCancel(l){let{active:i}=l;return"Dragging was cancelled. Draggable item "+i.id+" was dropped."}};function C1(l){let{announcements:i=O1,container:a,hiddenTextDescribedById:s,screenReaderInstructions:o=x1}=l;const{announce:c,announcement:h}=E1(),d=Do("DndLiveRegion"),[g,v]=x.useState(!1);if(x.useEffect(()=>{v(!0)},[]),A1(x.useMemo(()=>({onDragStart(b){let{active:_}=b;c(i.onDragStart({active:_}))},onDragMove(b){let{active:_,over:S}=b;i.onDragMove&&c(i.onDragMove({active:_,over:S}))},onDragOver(b){let{active:_,over:S}=b;c(i.onDragOver({active:_,over:S}))},onDragEnd(b){let{active:_,over:S}=b;c(i.onDragEnd({active:_,over:S}))},onDragCancel(b){let{active:_,over:S}=b;c(i.onDragCancel({active:_,over:S}))}}),[c,i])),!g)return null;const p=ht.createElement(ht.Fragment,null,ht.createElement(S1,{id:s,value:o.draggable}),ht.createElement(w1,{id:d,announcement:h}));return a?jl.createPortal(p,a):p}var Et;(function(l){l.DragStart="dragStart",l.DragMove="dragMove",l.DragEnd="dragEnd",l.DragCancel="dragCancel",l.DragOver="dragOver",l.RegisterDroppable="registerDroppable",l.SetDroppableDisabled="setDroppableDisabled",l.UnregisterDroppable="unregisterDroppable"})(Et||(Et={}));function Ao(){}function oo(l,i){return x.useMemo(()=>({sensor:l,options:i??{}}),[l,i])}function R1(){for(var l=arguments.length,i=new Array(l),a=0;a<l;a++)i[a]=arguments[a];return x.useMemo(()=>[...i].filter(s=>s!=null),[...i])}const Un=Object.freeze({x:0,y:0});function D1(l,i){return Math.sqrt(Math.pow(l.x-i.x,2)+Math.pow(l.y-i.y,2))}function j1(l,i){const a=Hl(l);if(!a)return"0 0";const s={x:(a.x-i.left)/i.width*100,y:(a.y-i.top)/i.height*100};return s.x+"% "+s.y+"%"}function k1(l,i){let{data:{value:a}}=l,{data:{value:s}}=i;return a-s}function M1(l,i){let{data:{value:a}}=l,{data:{value:s}}=i;return s-a}function N1(l){let{left:i,top:a,height:s,width:o}=l;return[{x:i,y:a},{x:i+o,y:a},{x:i,y:a+s},{x:i+o,y:a+s}]}function L1(l,i){if(!l||l.length===0)return null;const[a]=l;return a[i]}function U1(l,i){const a=Math.max(i.top,l.top),s=Math.max(i.left,l.left),o=Math.min(i.left+i.width,l.left+l.width),c=Math.min(i.top+i.height,l.top+l.height),h=o-s,d=c-a;if(s<o&&a<c){const g=i.width*i.height,v=l.width*l.height,p=h*d,b=p/(g+v-p);return Number(b.toFixed(4))}return 0}const qv=l=>{let{collisionRect:i,droppableRects:a,droppableContainers:s}=l;const o=[];for(const c of s){const{id:h}=c,d=a.get(h);if(d){const g=U1(d,i);g>0&&o.push({id:h,data:{droppableContainer:c,value:g}})}}return o.sort(M1)};function z1(l,i){const{top:a,left:s,bottom:o,right:c}=i;return a<=l.y&&l.y<=o&&s<=l.x&&l.x<=c}const q1=l=>{let{droppableContainers:i,droppableRects:a,pointerCoordinates:s}=l;if(!s)return[];const o=[];for(const c of i){const{id:h}=c,d=a.get(h);if(d&&z1(s,d)){const v=N1(d).reduce((b,_)=>b+D1(s,_),0),p=Number((v/4).toFixed(4));o.push({id:h,data:{droppableContainer:c,value:p}})}}return o.sort(k1)};function B1(l,i,a){return{...l,scaleX:i&&a?i.width/a.width:1,scaleY:i&&a?i.height/a.height:1}}function Bv(l,i){return l&&i?{x:l.left-i.left,y:l.top-i.top}:Un}function $1(l){return function(a){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];return o.reduce((h,d)=>({...h,top:h.top+l*d.y,bottom:h.bottom+l*d.y,left:h.left+l*d.x,right:h.right+l*d.x}),{...a})}}const H1=$1(1);function $v(l){if(l.startsWith("matrix3d(")){const i=l.slice(9,-1).split(/, /);return{x:+i[12],y:+i[13],scaleX:+i[0],scaleY:+i[5]}}else if(l.startsWith("matrix(")){const i=l.slice(7,-1).split(/, /);return{x:+i[4],y:+i[5],scaleX:+i[0],scaleY:+i[3]}}return null}function K1(l,i,a){const s=$v(i);if(!s)return l;const{scaleX:o,scaleY:c,x:h,y:d}=s,g=l.left-h-(1-o)*parseFloat(a),v=l.top-d-(1-c)*parseFloat(a.slice(a.indexOf(" ")+1)),p=o?l.width/o:l.width,b=c?l.height/c:l.height;return{width:p,height:b,top:v,right:g+p,bottom:v+b,left:g}}const G1={ignoreTransform:!1};function Pl(l,i){i===void 0&&(i=G1);let a=l.getBoundingClientRect();if(i.ignoreTransform){const{transform:v,transformOrigin:p}=Zt(l).getComputedStyle(l);v&&(a=K1(a,v,p))}const{top:s,left:o,width:c,height:h,bottom:d,right:g}=a;return{top:s,left:o,width:c,height:h,bottom:d,right:g}}function Bg(l){return Pl(l,{ignoreTransform:!0})}function Y1(l){const i=l.innerWidth,a=l.innerHeight;return{top:0,left:0,right:i,bottom:a,width:i,height:a}}function Q1(l,i){return i===void 0&&(i=Zt(l).getComputedStyle(l)),i.position==="fixed"}function X1(l,i){i===void 0&&(i=Zt(l).getComputedStyle(l));const a=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(o=>{const c=i[o];return typeof c=="string"?a.test(c):!1})}function Nf(l,i){const a=[];function s(o){if(i!=null&&a.length>=i||!o)return a;if(kf(o)&&o.scrollingElement!=null&&!a.includes(o.scrollingElement))return a.push(o.scrollingElement),a;if(!Xl(o)||Lv(o)||a.includes(o))return a;const c=Zt(l).getComputedStyle(o);return o!==l&&X1(o,c)&&a.push(o),Q1(o,c)?a:s(o.parentNode)}return l?s(l):a}function Hv(l){const[i]=Nf(l,1);return i??null}function Vc(l){return!Co||!l?null:Tr(l)?l:jf(l)?kf(l)||l===xr(l).scrollingElement?window:Xl(l)?l:null:null}function Kv(l){return Tr(l)?l.scrollX:l.scrollLeft}function Gv(l){return Tr(l)?l.scrollY:l.scrollTop}function gf(l){return{x:Kv(l),y:Gv(l)}}var Lt;(function(l){l[l.Forward=1]="Forward",l[l.Backward=-1]="Backward"})(Lt||(Lt={}));function Yv(l){return!Co||!l?!1:l===document.scrollingElement}function Qv(l){const i={x:0,y:0},a=Yv(l)?{height:window.innerHeight,width:window.innerWidth}:{height:l.clientHeight,width:l.clientWidth},s={x:l.scrollWidth-a.width,y:l.scrollHeight-a.height},o=l.scrollTop<=i.y,c=l.scrollLeft<=i.x,h=l.scrollTop>=s.y,d=l.scrollLeft>=s.x;return{isTop:o,isLeft:c,isBottom:h,isRight:d,maxScroll:s,minScroll:i}}const V1={x:.2,y:.2};function P1(l,i,a,s,o){let{top:c,left:h,right:d,bottom:g}=a;s===void 0&&(s=10),o===void 0&&(o=V1);const{isTop:v,isBottom:p,isLeft:b,isRight:_}=Qv(l),S={x:0,y:0},R={x:0,y:0},L={height:i.height*o.y,width:i.width*o.x};return!v&&c<=i.top+L.height?(S.y=Lt.Backward,R.y=s*Math.abs((i.top+L.height-c)/L.height)):!p&&g>=i.bottom-L.height&&(S.y=Lt.Forward,R.y=s*Math.abs((i.bottom-L.height-g)/L.height)),!_&&d>=i.right-L.width?(S.x=Lt.Forward,R.x=s*Math.abs((i.right-L.width-d)/L.width)):!b&&h<=i.left+L.width&&(S.x=Lt.Backward,R.x=s*Math.abs((i.left+L.width-h)/L.width)),{direction:S,speed:R}}function Z1(l){if(l===document.scrollingElement){const{innerWidth:c,innerHeight:h}=window;return{top:0,left:0,right:c,bottom:h,width:c,height:h}}const{top:i,left:a,right:s,bottom:o}=l.getBoundingClientRect();return{top:i,left:a,right:s,bottom:o,width:l.clientWidth,height:l.clientHeight}}function Xv(l){return l.reduce((i,a)=>wr(i,gf(a)),Un)}function J1(l){return l.reduce((i,a)=>i+Kv(a),0)}function I1(l){return l.reduce((i,a)=>i+Gv(a),0)}function Vv(l,i){if(i===void 0&&(i=Pl),!l)return;const{top:a,left:s,bottom:o,right:c}=i(l);Hv(l)&&(o<=0||c<=0||a>=window.innerHeight||s>=window.innerWidth)&&l.scrollIntoView({block:"center",inline:"center"})}const W1=[["x",["left","right"],J1],["y",["top","bottom"],I1]];class Lf{constructor(i,a){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=Nf(a),o=Xv(s);this.rect={...i},this.width=i.width,this.height=i.height;for(const[c,h,d]of W1)for(const g of h)Object.defineProperty(this,g,{get:()=>{const v=d(s),p=o[c]-v;return this.rect[g]+p},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Ll{constructor(i){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(a=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...a)})},this.target=i}add(i,a,s){var o;(o=this.target)==null||o.addEventListener(i,a,s),this.listeners.push([i,a,s])}}function F1(l){const{EventTarget:i}=Zt(l);return l instanceof i?l:xr(l)}function Pc(l,i){const a=Math.abs(l.x),s=Math.abs(l.y);return typeof i=="number"?Math.sqrt(a**2+s**2)>i:"x"in i&&"y"in i?a>i.x&&s>i.y:"x"in i?a>i.x:"y"in i?s>i.y:!1}var On;(function(l){l.Click="click",l.DragStart="dragstart",l.Keydown="keydown",l.ContextMenu="contextmenu",l.Resize="resize",l.SelectionChange="selectionchange",l.VisibilityChange="visibilitychange"})(On||(On={}));function $g(l){l.preventDefault()}function eb(l){l.stopPropagation()}var Ve;(function(l){l.Space="Space",l.Down="ArrowDown",l.Right="ArrowRight",l.Left="ArrowLeft",l.Up="ArrowUp",l.Esc="Escape",l.Enter="Enter",l.Tab="Tab"})(Ve||(Ve={}));const Pv={start:[Ve.Space,Ve.Enter],cancel:[Ve.Esc],end:[Ve.Space,Ve.Enter,Ve.Tab]},tb=(l,i)=>{let{currentCoordinates:a}=i;switch(l.code){case Ve.Right:return{...a,x:a.x+25};case Ve.Left:return{...a,x:a.x-25};case Ve.Down:return{...a,y:a.y+25};case Ve.Up:return{...a,y:a.y-25}}};class Uf{constructor(i){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=i;const{event:{target:a}}=i;this.props=i,this.listeners=new Ll(xr(a)),this.windowListeners=new Ll(Zt(a)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:i,onStart:a}=this.props,s=i.node.current;s&&Vv(s),a(Un)}handleKeyDown(i){if(Mf(i)){const{active:a,context:s,options:o}=this.props,{keyboardCodes:c=Pv,coordinateGetter:h=tb,scrollBehavior:d="smooth"}=o,{code:g}=i;if(c.end.includes(g)){this.handleEnd(i);return}if(c.cancel.includes(g)){this.handleCancel(i);return}const{collisionRect:v}=s.current,p=v?{x:v.left,y:v.top}:Un;this.referenceCoordinates||(this.referenceCoordinates=p);const b=h(i,{active:a,context:s.current,currentCoordinates:p});if(b){const _=Eo(b,p),S={x:0,y:0},{scrollableAncestors:R}=s.current;for(const L of R){const U=i.code,{isTop:Z,isRight:W,isLeft:H,isBottom:J,maxScroll:X,minScroll:F}=Qv(L),ee=Z1(L),re={x:Math.min(U===Ve.Right?ee.right-ee.width/2:ee.right,Math.max(U===Ve.Right?ee.left:ee.left+ee.width/2,b.x)),y:Math.min(U===Ve.Down?ee.bottom-ee.height/2:ee.bottom,Math.max(U===Ve.Down?ee.top:ee.top+ee.height/2,b.y))},Ee=U===Ve.Right&&!W||U===Ve.Left&&!H,ke=U===Ve.Down&&!J||U===Ve.Up&&!Z;if(Ee&&re.x!==b.x){const Ae=L.scrollLeft+_.x,pe=U===Ve.Right&&Ae<=X.x||U===Ve.Left&&Ae>=F.x;if(pe&&!_.y){L.scrollTo({left:Ae,behavior:d});return}pe?S.x=L.scrollLeft-Ae:S.x=U===Ve.Right?L.scrollLeft-X.x:L.scrollLeft-F.x,S.x&&L.scrollBy({left:-S.x,behavior:d});break}else if(ke&&re.y!==b.y){const Ae=L.scrollTop+_.y,pe=U===Ve.Down&&Ae<=X.y||U===Ve.Up&&Ae>=F.y;if(pe&&!_.x){L.scrollTo({top:Ae,behavior:d});return}pe?S.y=L.scrollTop-Ae:S.y=U===Ve.Down?L.scrollTop-X.y:L.scrollTop-F.y,S.y&&L.scrollBy({top:-S.y,behavior:d});break}}this.handleMove(i,wr(Eo(b,this.referenceCoordinates),S))}}}handleMove(i,a){const{onMove:s}=this.props;i.preventDefault(),s(a)}handleEnd(i){const{onEnd:a}=this.props;i.preventDefault(),this.detach(),a()}handleCancel(i){const{onCancel:a}=this.props;i.preventDefault(),this.detach(),a()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Uf.activators=[{eventName:"onKeyDown",handler:(l,i,a)=>{let{keyboardCodes:s=Pv,onActivation:o}=i,{active:c}=a;const{code:h}=l.nativeEvent;if(s.start.includes(h)){const d=c.activatorNode.current;return d&&l.target!==d?!1:(l.preventDefault(),o?.({event:l.nativeEvent}),!0)}return!1}}];function Hg(l){return!!(l&&"distance"in l)}function Kg(l){return!!(l&&"delay"in l)}class zf{constructor(i,a,s){var o;s===void 0&&(s=F1(i.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=i,this.events=a;const{event:c}=i,{target:h}=c;this.props=i,this.events=a,this.document=xr(h),this.documentListeners=new Ll(this.document),this.listeners=new Ll(s),this.windowListeners=new Ll(Zt(h)),this.initialCoordinates=(o=Hl(c))!=null?o:Un,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:i,props:{options:{activationConstraint:a,bypassActivationConstraint:s}}}=this;if(this.listeners.add(i.move.name,this.handleMove,{passive:!1}),this.listeners.add(i.end.name,this.handleEnd),i.cancel&&this.listeners.add(i.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,$g),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,$g),this.documentListeners.add(On.Keydown,this.handleKeydown),a){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Kg(a)){this.timeoutId=setTimeout(this.handleStart,a.delay),this.handlePending(a);return}if(Hg(a)){this.handlePending(a);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(i,a){const{active:s,onPending:o}=this.props;o(s,i,this.initialCoordinates,a)}handleStart(){const{initialCoordinates:i}=this,{onStart:a}=this.props;i&&(this.activated=!0,this.documentListeners.add(On.Click,eb,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),a(i))}handleMove(i){var a;const{activated:s,initialCoordinates:o,props:c}=this,{onMove:h,options:{activationConstraint:d}}=c;if(!o)return;const g=(a=Hl(i))!=null?a:Un,v=Eo(o,g);if(!s&&d){if(Hg(d)){if(d.tolerance!=null&&Pc(v,d.tolerance))return this.handleCancel();if(Pc(v,d.distance))return this.handleStart()}if(Kg(d)&&Pc(v,d.tolerance))return this.handleCancel();this.handlePending(d,v);return}i.cancelable&&i.preventDefault(),h(g)}handleEnd(){const{onAbort:i,onEnd:a}=this.props;this.detach(),this.activated||i(this.props.active),a()}handleCancel(){const{onAbort:i,onCancel:a}=this.props;this.detach(),this.activated||i(this.props.active),a()}handleKeydown(i){i.code===Ve.Esc&&this.handleCancel()}removeTextSelection(){var i;(i=this.document.getSelection())==null||i.removeAllRanges()}}const nb={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class qf extends zf{constructor(i){const{event:a}=i,s=xr(a.target);super(i,nb,s)}}qf.activators=[{eventName:"onPointerDown",handler:(l,i)=>{let{nativeEvent:a}=l,{onActivation:s}=i;return!a.isPrimary||a.button!==0?!1:(s?.({event:a}),!0)}}];const ib={move:{name:"mousemove"},end:{name:"mouseup"}};var vf;(function(l){l[l.RightClick=2]="RightClick"})(vf||(vf={}));class Zv extends zf{constructor(i){super(i,ib,xr(i.event.target))}}Zv.activators=[{eventName:"onMouseDown",handler:(l,i)=>{let{nativeEvent:a}=l,{onActivation:s}=i;return a.button===vf.RightClick?!1:(s?.({event:a}),!0)}}];const Zc={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class Jv extends zf{constructor(i){super(i,Zc)}static setup(){return window.addEventListener(Zc.move.name,i,{capture:!1,passive:!1}),function(){window.removeEventListener(Zc.move.name,i)};function i(){}}}Jv.activators=[{eventName:"onTouchStart",handler:(l,i)=>{let{nativeEvent:a}=l,{onActivation:s}=i;const{touches:o}=a;return o.length>1?!1:(s?.({event:a}),!0)}}];var Ul;(function(l){l[l.Pointer=0]="Pointer",l[l.DraggableRect=1]="DraggableRect"})(Ul||(Ul={}));var To;(function(l){l[l.TreeOrder=0]="TreeOrder",l[l.ReversedTreeOrder=1]="ReversedTreeOrder"})(To||(To={}));function ab(l){let{acceleration:i,activator:a=Ul.Pointer,canScroll:s,draggingRect:o,enabled:c,interval:h=5,order:d=To.TreeOrder,pointerCoordinates:g,scrollableAncestors:v,scrollableAncestorRects:p,delta:b,threshold:_}=l;const S=lb({delta:b,disabled:!c}),[R,L]=y1(),U=x.useRef({x:0,y:0}),Z=x.useRef({x:0,y:0}),W=x.useMemo(()=>{switch(a){case Ul.Pointer:return g?{top:g.y,bottom:g.y,left:g.x,right:g.x}:null;case Ul.DraggableRect:return o}},[a,o,g]),H=x.useRef(null),J=x.useCallback(()=>{const F=H.current;if(!F)return;const ee=U.current.x*Z.current.x,re=U.current.y*Z.current.y;F.scrollBy(ee,re)},[]),X=x.useMemo(()=>d===To.TreeOrder?[...v].reverse():v,[d,v]);x.useEffect(()=>{if(!c||!v.length||!W){L();return}for(const F of X){if(s?.(F)===!1)continue;const ee=v.indexOf(F),re=p[ee];if(!re)continue;const{direction:Ee,speed:ke}=P1(F,re,W,i,_);for(const Ae of["x","y"])S[Ae][Ee[Ae]]||(ke[Ae]=0,Ee[Ae]=0);if(ke.x>0||ke.y>0){L(),H.current=F,R(J,h),U.current=ke,Z.current=Ee;return}}U.current={x:0,y:0},Z.current={x:0,y:0},L()},[i,J,s,L,c,h,JSON.stringify(W),JSON.stringify(S),R,v,X,p,JSON.stringify(_)])}const rb={x:{[Lt.Backward]:!1,[Lt.Forward]:!1},y:{[Lt.Backward]:!1,[Lt.Forward]:!1}};function lb(l){let{delta:i,disabled:a}=l;const s=wo(i);return Vl(o=>{if(a||!s||!o)return rb;const c={x:Math.sign(i.x-s.x),y:Math.sign(i.y-s.y)};return{x:{[Lt.Backward]:o.x[Lt.Backward]||c.x===-1,[Lt.Forward]:o.x[Lt.Forward]||c.x===1},y:{[Lt.Backward]:o.y[Lt.Backward]||c.y===-1,[Lt.Forward]:o.y[Lt.Forward]||c.y===1}}},[a,i,s])}function sb(l,i){const a=i!=null?l.get(i):void 0,s=a?a.node.current:null;return Vl(o=>{var c;return i==null?null:(c=s??o)!=null?c:null},[s,i])}function ob(l,i){return x.useMemo(()=>l.reduce((a,s)=>{const{sensor:o}=s,c=o.activators.map(h=>({eventName:h.eventName,handler:i(h.handler,s)}));return[...a,...c]},[]),[l,i])}var Gl;(function(l){l[l.Always=0]="Always",l[l.BeforeDragging=1]="BeforeDragging",l[l.WhileDragging=2]="WhileDragging"})(Gl||(Gl={}));var yf;(function(l){l.Optimized="optimized"})(yf||(yf={}));const Gg=new Map;function ub(l,i){let{dragging:a,dependencies:s,config:o}=i;const[c,h]=x.useState(null),{frequency:d,measure:g,strategy:v}=o,p=x.useRef(l),b=U(),_=$l(b),S=x.useCallback(function(Z){Z===void 0&&(Z=[]),!_.current&&h(W=>W===null?Z:W.concat(Z.filter(H=>!W.includes(H))))},[_]),R=x.useRef(null),L=Vl(Z=>{if(b&&!a)return Gg;if(!Z||Z===Gg||p.current!==l||c!=null){const W=new Map;for(let H of l){if(!H)continue;if(c&&c.length>0&&!c.includes(H.id)&&H.rect.current){W.set(H.id,H.rect.current);continue}const J=H.node.current,X=J?new Lf(g(J),J):null;H.rect.current=X,X&&W.set(H.id,X)}return W}return Z},[l,c,a,b,g]);return x.useEffect(()=>{p.current=l},[l]),x.useEffect(()=>{b||S()},[a,b]),x.useEffect(()=>{c&&c.length>0&&h(null)},[JSON.stringify(c)]),x.useEffect(()=>{b||typeof d!="number"||R.current!==null||(R.current=setTimeout(()=>{S(),R.current=null},d))},[d,b,S,...s]),{droppableRects:L,measureDroppableContainers:S,measuringScheduled:c!=null};function U(){switch(v){case Gl.Always:return!1;case Gl.BeforeDragging:return a;default:return!a}}}function Bf(l,i){return Vl(a=>l?a||(typeof i=="function"?i(l):l):null,[i,l])}function cb(l,i){return Bf(l,i)}function fb(l){let{callback:i,disabled:a}=l;const s=Ro(i),o=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:c}=window;return new c(s)},[s,a]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function jo(l){let{callback:i,disabled:a}=l;const s=Ro(i),o=x.useMemo(()=>{if(a||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:c}=window;return new c(s)},[a]);return x.useEffect(()=>()=>o?.disconnect(),[o]),o}function hb(l){return new Lf(Pl(l),l)}function Yg(l,i,a){i===void 0&&(i=hb);const[s,o]=x.useState(null);function c(){o(g=>{if(!l)return null;if(l.isConnected===!1){var v;return(v=g??a)!=null?v:null}const p=i(l);return JSON.stringify(g)===JSON.stringify(p)?g:p})}const h=fb({callback(g){if(l)for(const v of g){const{type:p,target:b}=v;if(p==="childList"&&b instanceof HTMLElement&&b.contains(l)){c();break}}}}),d=jo({callback:c});return bi(()=>{c(),l?(d?.observe(l),h?.observe(document.body,{childList:!0,subtree:!0})):(d?.disconnect(),h?.disconnect())},[l]),s}function db(l){const i=Bf(l);return Bv(l,i)}const Qg=[];function gb(l){const i=x.useRef(l),a=Vl(s=>l?s&&s!==Qg&&l&&i.current&&l.parentNode===i.current.parentNode?s:Nf(l):Qg,[l]);return x.useEffect(()=>{i.current=l},[l]),a}function vb(l){const[i,a]=x.useState(null),s=x.useRef(l),o=x.useCallback(c=>{const h=Vc(c.target);h&&a(d=>d?(d.set(h,gf(h)),new Map(d)):null)},[]);return x.useEffect(()=>{const c=s.current;if(l!==c){h(c);const d=l.map(g=>{const v=Vc(g);return v?(v.addEventListener("scroll",o,{passive:!0}),[v,gf(v)]):null}).filter(g=>g!=null);a(d.length?new Map(d):null),s.current=l}return()=>{h(l),h(c)};function h(d){d.forEach(g=>{const v=Vc(g);v?.removeEventListener("scroll",o)})}},[o,l]),x.useMemo(()=>l.length?i?Array.from(i.values()).reduce((c,h)=>wr(c,h),Un):Xv(l):Un,[l,i])}function Xg(l,i){i===void 0&&(i=[]);const a=x.useRef(null);return x.useEffect(()=>{a.current=null},i),x.useEffect(()=>{const s=l!==Un;s&&!a.current&&(a.current=l),!s&&a.current&&(a.current=null)},[l]),a.current?Eo(l,a.current):Un}function yb(l){x.useEffect(()=>{if(!Co)return;const i=l.map(a=>{let{sensor:s}=a;return s.setup==null?void 0:s.setup()});return()=>{for(const a of i)a?.()}},l.map(i=>{let{sensor:a}=i;return a}))}function pb(l,i){return x.useMemo(()=>l.reduce((a,s)=>{let{eventName:o,handler:c}=s;return a[o]=h=>{c(h,i)},a},{}),[l,i])}function Iv(l){return x.useMemo(()=>l?Y1(l):null,[l])}const Vg=[];function mb(l,i){i===void 0&&(i=Pl);const[a]=l,s=Iv(a?Zt(a):null),[o,c]=x.useState(Vg);function h(){c(()=>l.length?l.map(g=>Yv(g)?s:new Lf(i(g),g)):Vg)}const d=jo({callback:h});return bi(()=>{d?.disconnect(),h(),l.forEach(g=>d?.observe(g))},[l]),o}function Wv(l){if(!l)return null;if(l.children.length>1)return l;const i=l.children[0];return Xl(i)?i:l}function bb(l){let{measure:i}=l;const[a,s]=x.useState(null),o=x.useCallback(v=>{for(const{target:p}of v)if(Xl(p)){s(b=>{const _=i(p);return b?{...b,width:_.width,height:_.height}:_});break}},[i]),c=jo({callback:o}),h=x.useCallback(v=>{const p=Wv(v);c?.disconnect(),p&&c?.observe(p),s(p?i(p):null)},[i,c]),[d,g]=So(h);return x.useMemo(()=>({nodeRef:d,rect:a,setRef:g}),[a,d,g])}const _b=[{sensor:qf,options:{}},{sensor:Uf,options:{}}],Sb={current:{}},po={draggable:{measure:Bg},droppable:{measure:Bg,strategy:Gl.WhileDragging,frequency:yf.Optimized},dragOverlay:{measure:Pl}};class zl extends Map{get(i){var a;return i!=null&&(a=super.get(i))!=null?a:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(i=>{let{disabled:a}=i;return!a})}getNodeFor(i){var a,s;return(a=(s=this.get(i))==null?void 0:s.node.current)!=null?a:void 0}}const wb={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new zl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ao},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:po,measureDroppableContainers:Ao,windowRect:null,measuringScheduled:!1},Fv={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ao,draggableNodes:new Map,over:null,measureDroppableContainers:Ao},Zl=x.createContext(Fv),ey=x.createContext(wb);function Eb(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new zl}}}function Ab(l,i){switch(i.type){case Et.DragStart:return{...l,draggable:{...l.draggable,initialCoordinates:i.initialCoordinates,active:i.active}};case Et.DragMove:return l.draggable.active==null?l:{...l,draggable:{...l.draggable,translate:{x:i.coordinates.x-l.draggable.initialCoordinates.x,y:i.coordinates.y-l.draggable.initialCoordinates.y}}};case Et.DragEnd:case Et.DragCancel:return{...l,draggable:{...l.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Et.RegisterDroppable:{const{element:a}=i,{id:s}=a,o=new zl(l.droppable.containers);return o.set(s,a),{...l,droppable:{...l.droppable,containers:o}}}case Et.SetDroppableDisabled:{const{id:a,key:s,disabled:o}=i,c=l.droppable.containers.get(a);if(!c||s!==c.key)return l;const h=new zl(l.droppable.containers);return h.set(a,{...c,disabled:o}),{...l,droppable:{...l.droppable,containers:h}}}case Et.UnregisterDroppable:{const{id:a,key:s}=i,o=l.droppable.containers.get(a);if(!o||s!==o.key)return l;const c=new zl(l.droppable.containers);return c.delete(a),{...l,droppable:{...l.droppable,containers:c}}}default:return l}}function Tb(l){let{disabled:i}=l;const{active:a,activatorEvent:s,draggableNodes:o}=x.useContext(Zl),c=wo(s),h=wo(a?.id);return x.useEffect(()=>{if(!i&&!s&&c&&h!=null){if(!Mf(c)||document.activeElement===c.target)return;const d=o.get(h);if(!d)return;const{activatorNode:g,node:v}=d;if(!g.current&&!v.current)return;requestAnimationFrame(()=>{for(const p of[g.current,v.current]){if(!p)continue;const b=b1(p);if(b){b.focus();break}}})}},[s,i,o,h,c]),null}function ty(l,i){let{transform:a,...s}=i;return l!=null&&l.length?l.reduce((o,c)=>c({transform:o,...s}),a):a}function xb(l){return x.useMemo(()=>({draggable:{...po.draggable,...l?.draggable},droppable:{...po.droppable,...l?.droppable},dragOverlay:{...po.dragOverlay,...l?.dragOverlay}}),[l?.draggable,l?.droppable,l?.dragOverlay])}function Ob(l){let{activeNode:i,measure:a,initialRect:s,config:o=!0}=l;const c=x.useRef(!1),{x:h,y:d}=typeof o=="boolean"?{x:o,y:o}:o;bi(()=>{if(!h&&!d||!i){c.current=!1;return}if(c.current||!s)return;const v=i?.node.current;if(!v||v.isConnected===!1)return;const p=a(v),b=Bv(p,s);if(h||(b.x=0),d||(b.y=0),c.current=!0,Math.abs(b.x)>0||Math.abs(b.y)>0){const _=Hv(v);_&&_.scrollBy({top:b.y,left:b.x})}},[i,h,d,s,a])}const ko=x.createContext({...Un,scaleX:1,scaleY:1});var Pi;(function(l){l[l.Uninitialized=0]="Uninitialized",l[l.Initializing=1]="Initializing",l[l.Initialized=2]="Initialized"})(Pi||(Pi={}));const Cb=x.memo(function(i){var a,s,o,c;let{id:h,accessibility:d,autoScroll:g=!0,children:v,sensors:p=_b,collisionDetection:b=qv,measuring:_,modifiers:S,...R}=i;const L=x.useReducer(Ab,void 0,Eb),[U,Z]=L,[W,H]=T1(),[J,X]=x.useState(Pi.Uninitialized),F=J===Pi.Initialized,{draggable:{active:ee,nodes:re,translate:Ee},droppable:{containers:ke}}=U,Ae=ee!=null?re.get(ee):null,pe=x.useRef({initial:null,translated:null}),Ie=x.useMemo(()=>{var Fe;return ee!=null?{id:ee,data:(Fe=Ae?.data)!=null?Fe:Sb,rect:pe}:null},[ee,Ae]),tt=x.useRef(null),[Ke,q]=x.useState(null),[Q,se]=x.useState(null),we=$l(R,Object.values(R)),E=Do("DndDescribedBy",h),Y=x.useMemo(()=>ke.getEnabled(),[ke]),I=xb(_),{droppableRects:V,measureDroppableContainers:ie,measuringScheduled:ye}=ub(Y,{dragging:F,dependencies:[Ee.x,Ee.y],config:I.droppable}),te=sb(re,ee),nt=x.useMemo(()=>Q?Hl(Q):null,[Q]),Me=ea(),ot=cb(te,I.draggable.measure);Ob({activeNode:ee!=null?re.get(ee):null,config:Me.layoutShiftCompensation,initialRect:ot,measure:I.draggable.measure});const at=Yg(te,I.draggable.measure,ot),At=Yg(te?te.parentElement:null),Tt=x.useRef({activatorEvent:null,active:null,activeNode:te,collisionRect:null,collisions:null,droppableRects:V,draggableNodes:re,draggingNode:null,draggingNodeRect:null,droppableContainers:ke,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Cn=ke.getNodeFor((a=Tt.current.over)==null?void 0:a.id),xt=bb({measure:I.dragOverlay.measure}),tn=(s=xt.nodeRef.current)!=null?s:te,nn=F?(o=xt.rect)!=null?o:at:null,dt=!!(xt.nodeRef.current&&xt.rect),Jn=db(dt?null:at),zn=Iv(tn?Zt(tn):null),Qt=gb(F?Cn??te:null),an=mb(Qt),qn=ty(S,{transform:{x:Ee.x-Jn.x,y:Ee.y-Jn.y,scaleX:1,scaleY:1},activatorEvent:Q,active:Ie,activeNodeRect:at,containerNodeRect:At,draggingNodeRect:nn,over:Tt.current.over,overlayNodeRect:xt.rect,scrollableAncestors:Qt,scrollableAncestorRects:an,windowRect:zn}),Bn=nt?wr(nt,Ee):null,_i=vb(Qt),Fi=Xg(_i),Rn=Xg(_i,[at]),be=wr(qn,Fi),_e=nn?H1(nn,qn):null,xe=Ie&&_e?b({active:Ie,collisionRect:_e,droppableRects:V,droppableContainers:Y,pointerCoordinates:Bn}):null,$n=L1(xe,"id"),[We,pn]=x.useState(null),Dn=dt?qn:wr(qn,Rn),Hn=B1(Dn,(c=We?.rect)!=null?c:null,at),rn=x.useRef(null),In=x.useCallback((Fe,Ut)=>{let{sensor:Ot,options:ln}=Ut;if(tt.current==null)return;const Ct=re.get(tt.current);if(!Ct)return;const mt=Fe.nativeEvent,Xt=new Ot({active:tt.current,activeNode:Ct,event:mt,options:ln,context:Tt,onAbort(Ue){if(!re.get(Ue))return;const{onDragAbort:Be}=we.current,P={id:Ue};Be?.(P),W({type:"onDragAbort",event:P})},onPending(Ue,Ce,Be,P){if(!re.get(Ue))return;const{onDragPending:Pe}=we.current,ut={id:Ue,constraint:Ce,initialCoordinates:Be,offset:P};Pe?.(ut),W({type:"onDragPending",event:ut})},onStart(Ue){const Ce=tt.current;if(Ce==null)return;const Be=re.get(Ce);if(!Be)return;const{onDragStart:P}=we.current,Vt={activatorEvent:mt,active:{id:Ce,data:Be.data,rect:pe}};jl.unstable_batchedUpdates(()=>{P?.(Vt),X(Pi.Initializing),Z({type:Et.DragStart,initialCoordinates:Ue,active:Ce}),W({type:"onDragStart",event:Vt}),q(rn.current),se(mt)})},onMove(Ue){Z({type:Et.DragMove,coordinates:Ue})},onEnd:M(Et.DragEnd),onCancel:M(Et.DragCancel)});rn.current=Xt;function M(Ue){return async function(){const{active:Be,collisions:P,over:Vt,scrollAdjustedTranslate:Pe}=Tt.current;let ut=null;if(Be&&Pe){const{cancelDrop:Gn}=we.current;ut={activatorEvent:mt,active:Be,collisions:P,delta:Pe,over:Vt},Ue===Et.DragEnd&&typeof Gn=="function"&&await Promise.resolve(Gn(ut))&&(Ue=Et.DragCancel)}tt.current=null,jl.unstable_batchedUpdates(()=>{Z({type:Ue}),X(Pi.Uninitialized),pn(null),q(null),se(null),rn.current=null;const Gn=Ue===Et.DragEnd?"onDragEnd":"onDragCancel";if(ut){const rt=we.current[Gn];rt?.(ut),W({type:Gn,event:ut})}})}}},[re]),Kn=x.useCallback((Fe,Ut)=>(Ot,ln)=>{const Ct=Ot.nativeEvent,mt=re.get(ln);if(tt.current!==null||!mt||Ct.dndKit||Ct.defaultPrevented)return;const Xt={active:mt};Fe(Ot,Ut.options,Xt)===!0&&(Ct.dndKit={capturedBy:Ut.sensor},tt.current=ln,In(Ot,Ut))},[re,In]),xa=ob(p,Kn);yb(p),bi(()=>{at&&J===Pi.Initializing&&X(Pi.Initialized)},[at,J]),x.useEffect(()=>{const{onDragMove:Fe}=we.current,{active:Ut,activatorEvent:Ot,collisions:ln,over:Ct}=Tt.current;if(!Ut||!Ot)return;const mt={active:Ut,activatorEvent:Ot,collisions:ln,delta:{x:be.x,y:be.y},over:Ct};jl.unstable_batchedUpdates(()=>{Fe?.(mt),W({type:"onDragMove",event:mt})})},[be.x,be.y]),x.useEffect(()=>{const{active:Fe,activatorEvent:Ut,collisions:Ot,droppableContainers:ln,scrollAdjustedTranslate:Ct}=Tt.current;if(!Fe||tt.current==null||!Ut||!Ct)return;const{onDragOver:mt}=we.current,Xt=ln.get($n),M=Xt&&Xt.rect.current?{id:Xt.id,rect:Xt.rect.current,data:Xt.data,disabled:Xt.disabled}:null,Ue={active:Fe,activatorEvent:Ut,collisions:Ot,delta:{x:Ct.x,y:Ct.y},over:M};jl.unstable_batchedUpdates(()=>{pn(M),mt?.(Ue),W({type:"onDragOver",event:Ue})})},[$n]),bi(()=>{Tt.current={activatorEvent:Q,active:Ie,activeNode:te,collisionRect:_e,collisions:xe,droppableRects:V,draggableNodes:re,draggingNode:tn,draggingNodeRect:nn,droppableContainers:ke,over:We,scrollableAncestors:Qt,scrollAdjustedTranslate:be},pe.current={initial:nn,translated:_e}},[Ie,te,xe,_e,re,tn,nn,V,ke,We,Qt,be]),ab({...Me,delta:Ee,draggingRect:_e,pointerCoordinates:Bn,scrollableAncestors:Qt,scrollableAncestorRects:an});const Oa=x.useMemo(()=>({active:Ie,activeNode:te,activeNodeRect:at,activatorEvent:Q,collisions:xe,containerNodeRect:At,dragOverlay:xt,draggableNodes:re,droppableContainers:ke,droppableRects:V,over:We,measureDroppableContainers:ie,scrollableAncestors:Qt,scrollableAncestorRects:an,measuringConfiguration:I,measuringScheduled:ye,windowRect:zn}),[Ie,te,at,Q,xe,At,xt,re,ke,V,We,ie,Qt,an,I,ye,zn]),Ca=x.useMemo(()=>({activatorEvent:Q,activators:xa,active:Ie,activeNodeRect:at,ariaDescribedById:{draggable:E},dispatch:Z,draggableNodes:re,over:We,measureDroppableContainers:ie}),[Q,xa,Ie,at,Z,E,re,We,ie]);return ht.createElement(zv.Provider,{value:H},ht.createElement(Zl.Provider,{value:Ca},ht.createElement(ey.Provider,{value:Oa},ht.createElement(ko.Provider,{value:Hn},v)),ht.createElement(Tb,{disabled:d?.restoreFocus===!1})),ht.createElement(C1,{...d,hiddenTextDescribedById:E}));function ea(){const Fe=Ke?.autoScrollEnabled===!1,Ut=typeof g=="object"?g.enabled===!1:g===!1,Ot=F&&!Fe&&!Ut;return typeof g=="object"?{...g,enabled:Ot}:{enabled:Ot}}}),Rb=x.createContext(null),Pg="button",Db="Draggable";function jb(l){let{id:i,data:a,disabled:s=!1,attributes:o}=l;const c=Do(Db),{activators:h,activatorEvent:d,active:g,activeNodeRect:v,ariaDescribedById:p,draggableNodes:b,over:_}=x.useContext(Zl),{role:S=Pg,roleDescription:R="draggable",tabIndex:L=0}=o??{},U=g?.id===i,Z=x.useContext(U?ko:Rb),[W,H]=So(),[J,X]=So(),F=pb(h,i),ee=$l(a);bi(()=>(b.set(i,{id:i,key:c,node:W,activatorNode:J,data:ee}),()=>{const Ee=b.get(i);Ee&&Ee.key===c&&b.delete(i)}),[b,i]);const re=x.useMemo(()=>({role:S,tabIndex:L,"aria-disabled":s,"aria-pressed":U&&S===Pg?!0:void 0,"aria-roledescription":R,"aria-describedby":p.draggable}),[s,S,L,U,R,p.draggable]);return{active:g,activatorEvent:d,activeNodeRect:v,attributes:re,isDragging:U,listeners:s?void 0:F,node:W,over:_,setNodeRef:H,setActivatorNodeRef:X,transform:Z}}function kb(){return x.useContext(ey)}const Mb="Droppable",Nb={timeout:25};function Lb(l){let{data:i,disabled:a=!1,id:s,resizeObserverConfig:o}=l;const c=Do(Mb),{active:h,dispatch:d,over:g,measureDroppableContainers:v}=x.useContext(Zl),p=x.useRef({disabled:a}),b=x.useRef(!1),_=x.useRef(null),S=x.useRef(null),{disabled:R,updateMeasurementsFor:L,timeout:U}={...Nb,...o},Z=$l(L??s),W=x.useCallback(()=>{if(!b.current){b.current=!0;return}S.current!=null&&clearTimeout(S.current),S.current=setTimeout(()=>{v(Array.isArray(Z.current)?Z.current:[Z.current]),S.current=null},U)},[U]),H=jo({callback:W,disabled:R||!h}),J=x.useCallback((re,Ee)=>{H&&(Ee&&(H.unobserve(Ee),b.current=!1),re&&H.observe(re))},[H]),[X,F]=So(J),ee=$l(i);return x.useEffect(()=>{!H||!X.current||(H.disconnect(),b.current=!1,H.observe(X.current))},[X,H]),x.useEffect(()=>(d({type:Et.RegisterDroppable,element:{id:s,key:c,disabled:a,node:X,rect:_,data:ee}}),()=>d({type:Et.UnregisterDroppable,key:c,id:s})),[s]),x.useEffect(()=>{a!==p.current.disabled&&(d({type:Et.SetDroppableDisabled,id:s,key:c,disabled:a}),p.current.disabled=a)},[s,c,a,d]),{active:h,rect:_,isOver:g?.id===s,node:X,over:g,setNodeRef:F}}function Ub(l){let{animation:i,children:a}=l;const[s,o]=x.useState(null),[c,h]=x.useState(null),d=wo(a);return!a&&!s&&d&&o(d),bi(()=>{if(!c)return;const g=s?.key,v=s?.props.id;if(g==null||v==null){o(null);return}Promise.resolve(i(v,c)).then(()=>{o(null)})},[i,s,c]),ht.createElement(ht.Fragment,null,a,s?x.cloneElement(s,{ref:h}):null)}const zb={x:0,y:0,scaleX:1,scaleY:1};function qb(l){let{children:i}=l;return ht.createElement(Zl.Provider,{value:Fv},ht.createElement(ko.Provider,{value:zb},i))}const Bb={position:"fixed",touchAction:"none"},$b=l=>Mf(l)?"transform 250ms ease":void 0,Hb=x.forwardRef((l,i)=>{let{as:a,activatorEvent:s,adjustScale:o,children:c,className:h,rect:d,style:g,transform:v,transition:p=$b}=l;if(!d)return null;const b=o?v:{...v,scaleX:1,scaleY:1},_={...Bb,width:d.width,height:d.height,top:d.top,left:d.left,transform:Kl.Transform.toString(b),transformOrigin:o&&s?j1(s,d):void 0,transition:typeof p=="function"?p(s):p,...g};return ht.createElement(a,{className:h,style:_,ref:i},c)}),Kb=l=>i=>{let{active:a,dragOverlay:s}=i;const o={},{styles:c,className:h}=l;if(c!=null&&c.active)for(const[d,g]of Object.entries(c.active))g!==void 0&&(o[d]=a.node.style.getPropertyValue(d),a.node.style.setProperty(d,g));if(c!=null&&c.dragOverlay)for(const[d,g]of Object.entries(c.dragOverlay))g!==void 0&&s.node.style.setProperty(d,g);return h!=null&&h.active&&a.node.classList.add(h.active),h!=null&&h.dragOverlay&&s.node.classList.add(h.dragOverlay),function(){for(const[g,v]of Object.entries(o))a.node.style.setProperty(g,v);h!=null&&h.active&&a.node.classList.remove(h.active)}},Gb=l=>{let{transform:{initial:i,final:a}}=l;return[{transform:Kl.Transform.toString(i)},{transform:Kl.Transform.toString(a)}]},Yb={duration:250,easing:"ease",keyframes:Gb,sideEffects:Kb({styles:{active:{opacity:"0"}}})};function Qb(l){let{config:i,draggableNodes:a,droppableContainers:s,measuringConfiguration:o}=l;return Ro((c,h)=>{if(i===null)return;const d=a.get(c);if(!d)return;const g=d.node.current;if(!g)return;const v=Wv(h);if(!v)return;const{transform:p}=Zt(h).getComputedStyle(h),b=$v(p);if(!b)return;const _=typeof i=="function"?i:Xb(i);return Vv(g,o.draggable.measure),_({active:{id:c,data:d.data,node:g,rect:o.draggable.measure(g)},draggableNodes:a,dragOverlay:{node:h,rect:o.dragOverlay.measure(v)},droppableContainers:s,measuringConfiguration:o,transform:b})})}function Xb(l){const{duration:i,easing:a,sideEffects:s,keyframes:o}={...Yb,...l};return c=>{let{active:h,dragOverlay:d,transform:g,...v}=c;if(!i)return;const p={x:d.rect.left-h.rect.left,y:d.rect.top-h.rect.top},b={scaleX:g.scaleX!==1?h.rect.width*g.scaleX/d.rect.width:1,scaleY:g.scaleY!==1?h.rect.height*g.scaleY/d.rect.height:1},_={x:g.x-p.x,y:g.y-p.y,...b},S=o({...v,active:h,dragOverlay:d,transform:{initial:g,final:_}}),[R]=S,L=S[S.length-1];if(JSON.stringify(R)===JSON.stringify(L))return;const U=s?.({active:h,dragOverlay:d,...v}),Z=d.node.animate(S,{duration:i,easing:a,fill:"forwards"});return new Promise(W=>{Z.onfinish=()=>{U?.(),W()}})}}let Zg=0;function Vb(l){return x.useMemo(()=>{if(l!=null)return Zg++,Zg},[l])}const Pb=ht.memo(l=>{let{adjustScale:i=!1,children:a,dropAnimation:s,style:o,transition:c,modifiers:h,wrapperElement:d="div",className:g,zIndex:v=999}=l;const{activatorEvent:p,active:b,activeNodeRect:_,containerNodeRect:S,draggableNodes:R,droppableContainers:L,dragOverlay:U,over:Z,measuringConfiguration:W,scrollableAncestors:H,scrollableAncestorRects:J,windowRect:X}=kb(),F=x.useContext(ko),ee=Vb(b?.id),re=ty(h,{activatorEvent:p,active:b,activeNodeRect:_,containerNodeRect:S,draggingNodeRect:U.rect,over:Z,overlayNodeRect:U.rect,scrollableAncestors:H,scrollableAncestorRects:J,transform:F,windowRect:X}),Ee=Bf(_),ke=Qb({config:s,draggableNodes:R,droppableContainers:L,measuringConfiguration:W}),Ae=Ee?U.setRef:void 0;return ht.createElement(qb,null,ht.createElement(Ub,{animation:ke},b&&ee?ht.createElement(Hb,{key:ee,id:b.id,ref:Ae,as:d,activatorEvent:p,adjustScale:i,className:g,transition:c,rect:Ee,style:{zIndex:v,...o},transform:re},a):null))}),Zb=l=>{let{activatorEvent:i,draggingNodeRect:a,transform:s}=l;if(a&&i){const o=Hl(i);if(!o)return s;const c=o.x-a.left,h=o.y-a.top;return{...s,x:s.x+c-a.width/2,y:s.y+h-a.height/2}}return s};function Jb(l,i,a){const s=Array.from(Array(l),()=>new Array(i));for(let o=0;o<l;o++)for(let c=0;c<i;c++)s[o][c]={squareId:`${$f(c,i,a)}${ny(o,l,a)}`,isLightSquare:(o+c)%2===0};return s}function ny(l,i,a){return a==="white"?(i-l).toString():(l+1).toString()}function $f(l,i,a){return a==="white"?String.fromCharCode(97+l):String.fromCharCode(97+i-l-1)}function kl(l,i,a){return a==="white"?l.charCodeAt(0)-97:i-(l.charCodeAt(0)-97)-1}function Ib(l,i,a){return a==="white"?i-Number(l):Number(l)-1}function Jc(l,i,a){const s={},o=l.split(" ")[0].split("/");for(let c=0;c<o.length;c++){let h=0;for(const d of o[c])if(isNaN(Number(d))){const g=`${$f(h,a,"white")}${ny(c,i,"white")}`;s[g]={pieceType:Wb(d)},h++}else h+=Number(d)}return s}function Wb(l){return l.toLowerCase()===l?"b"+l.toUpperCase():"w"+l.toUpperCase()}function Fb(l,i,a,s){const o={};for(const c in i){const h=[];if(l[c]?.pieceType!==i[c].pieceType){for(const d in l)l[d].pieceType===i[c].pieceType&&d!==c&&l[d].pieceType!==i[d]?.pieceType&&h.push(d);if(h.length===1)o[h[0]]=c;else{for(const d of h){const g=l[d].pieceType[1],v=Math.abs(kl(d.match(/^[a-z]+/)?.[0]??"",a,s)-kl(c.match(/^[a-z]+/)?.[0]??"",a,s)),p=Math.abs(Number(d.match(/\d+$/)?.[0]??"")-Number(c.match(/\d+$/)?.[0]??"")),b=(kl(d.match(/^[a-z]+/)?.[0]??"",a,s)+Number(d.match(/\d+$/)?.[0]??""))%2===0,_=(kl(c.match(/^[a-z]+/)?.[0]??"",a,s)+Number(c.match(/\d+$/)?.[0]??""))%2===0;if(g==="P"&&d.match(/^[a-z]+/)?.[0]===c.match(/^[a-z]+/)?.[0]){o[d]=c;break}if(g==="N"&&(v===2&&p===1||v===1&&p===2)){o[d]=c;break}if(g==="B"&&v===p&&b===_){o[d]=c;break}if(g==="R"&&(v===0||p===0)){o[d]=c;break}if(g==="Q"&&(v===0||p===0||v===p)){o[d]=c;break}if(g==="K"&&v<=1&&p<=1){o[d]=c;break}}if(!Object.values(o).includes(c)&&h.length>0){for(const d of h)if(!Object.keys(o).includes(d)){o[d]=c;break}}}}}return o}function Jg(l,i,a,s,o){const c=i/a,h=kl(o.match(/^[a-z]+/)?.[0]??"",a,l)*c+c/2,d=Ib(o.match(/\d+$/)?.[0]??"",s,l)*c+c/2;return{x:h,y:d}}const e_={wP:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:l?.fill??"#ffffff",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),wR:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:l?.fill??"#ffffff",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 34,14 L 31,17 L 14,17 L 11,14"}),B.jsx("path",{d:"M 31,17 L 31,29.5 L 14,29.5 L 14,17",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"}),B.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wN:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:l?.fill??"#ffffff",stroke:"#000000"}}),B.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:l?.fill??"#ffffff",stroke:"#000000"}}),B.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#000000",stroke:"#000000"}}),B.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#000000",stroke:"#000000"}})]})}),wB:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsxs("g",{style:{fill:l?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt"},children:[B.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),B.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),B.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),B.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}})]})}),wQ:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{fill:l?.fill??"#ffffff",stroke:"#000000",strokeWidth:"1.5",strokeLinejoin:"round"},children:[B.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z"}),B.jsx("path",{d:"M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 11,36 11,36 C 9.5,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z"}),B.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30",style:{fill:"none"}}),B.jsx("path",{d:"M 12,33.5 C 18,32.5 27,32.5 33,33.5",style:{fill:"none"}}),B.jsx("circle",{cx:"6",cy:"12",r:"2"}),B.jsx("circle",{cx:"14",cy:"9",r:"2"}),B.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),B.jsx("circle",{cx:"31",cy:"9",r:"2"}),B.jsx("circle",{cx:"39",cy:"12",r:"2"})]})}),wK:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:l?.fill??"#ffffff",stroke:"#000000",strokeLinecap:"butt",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:l?.fill??"#ffffff",stroke:"#000000"}}),B.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30",style:{fill:"none",stroke:"#000000"}}),B.jsx("path",{d:"M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5",style:{fill:"none",stroke:"#000000"}}),B.jsx("path",{d:"M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#000000"}})]})}),bP:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsx("path",{d:"m 22.5,9 c -2.21,0 -4,1.79 -4,4 0,0.89 0.29,1.71 0.78,2.38 C 17.33,16.5 16,18.59 16,21 c 0,2.03 0.94,3.84 2.41,5.03 C 15.41,27.09 11,31.58 11,39.5 H 34 C 34,31.58 29.59,27.09 26.59,26.03 28.06,24.84 29,23.03 29,21 29,18.59 27.67,16.5 25.72,15.38 26.21,14.71 26.5,13.89 26.5,13 c 0,-2.21 -1.79,-4 -4,-4 z",style:{opacity:"1",fill:l?.fill??"#000000",fillOpacity:"1",fillRule:"nonzero",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"miter",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"}})}),bR:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:l?.fill??"#000000",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z ",style:{strokeLinecap:"butt",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z ",style:{strokeLinecap:"butt"}}),B.jsx("path",{d:"M 12,35.5 L 33,35.5 L 33,35.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 13,31.5 L 32,31.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 14,29.5 L 31,29.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 14,16.5 L 31,16.5",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 11,14 L 34,14",style:{fill:"none",stroke:"#ffffff",strokeWidth:"1",strokeLinejoin:"miter"}})]})}),bN:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18",style:{fill:l?.fill??"#000000",stroke:"#000000"}}),B.jsx("path",{d:"M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10",style:{fill:l?.fill??"#000000",stroke:"#000000"}}),B.jsx("path",{d:"M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z",style:{fill:"#ffffff",stroke:"#ffffff"}}),B.jsx("path",{d:"M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z",transform:"matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)",style:{fill:"#ffffff",stroke:"#ffffff"}}),B.jsx("path",{d:"M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z ",style:{fill:"#ffffff",stroke:"none"}})]})}),bB:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{opacity:"1",fill:"none",fillRule:"evenodd",fillOpacity:"1",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsxs("g",{style:{fill:l?.fill??"#000000",stroke:"#000000",strokeLinecap:"butt"},children:[B.jsx("path",{d:"M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.65,38.99 6.68,38.97 6,38 C 7.35,36.54 9,36 9,36 z"}),B.jsx("path",{d:"M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"}),B.jsx("path",{d:"M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"})]}),B.jsx("path",{d:"M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18",style:{fill:"none",stroke:"#ffffff",strokeLinejoin:"miter"}})]})}),bQ:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{fill:l?.fill??"#000000",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},children:[B.jsx("path",{d:"M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z",style:{strokeLinecap:"butt",fill:l?.fill??"#000000"}}),B.jsx("path",{d:"m 9,26 c 0,2 1.5,2 2.5,4 1,1.5 1,1 0.5,3.5 -1.5,1 -1,2.5 -1,2.5 -1.5,1.5 0,2.5 0,2.5 6.5,1 16.5,1 23,0 0,0 1.5,-1 0,-2.5 0,0 0.5,-1.5 -1,-2.5 -0.5,-2.5 -0.5,-2 0.5,-3.5 1,-2 2.5,-2 2.5,-4 -8.5,-1.5 -18.5,-1.5 -27,0 z"}),B.jsx("path",{d:"M 11.5,30 C 15,29 30,29 33.5,30"}),B.jsx("path",{d:"m 12,33.5 c 6,-1 15,-1 21,0"}),B.jsx("circle",{cx:"6",cy:"12",r:"2"}),B.jsx("circle",{cx:"14",cy:"9",r:"2"}),B.jsx("circle",{cx:"22.5",cy:"8",r:"2"}),B.jsx("circle",{cx:"31",cy:"9",r:"2"}),B.jsx("circle",{cx:"39",cy:"12",r:"2"}),B.jsx("path",{d:"M 11,38.5 A 35,35 1 0 0 34,38.5",style:{fill:"none",stroke:"#000000",strokeLinecap:"butt"}}),B.jsxs("g",{style:{fill:"none",stroke:"#ffffff"},children:[B.jsx("path",{d:"M 11,29 A 35,35 1 0 1 34,29"}),B.jsx("path",{d:"M 12.5,31.5 L 32.5,31.5"}),B.jsx("path",{d:"M 11.5,34.5 A 35,35 1 0 0 33.5,34.5"}),B.jsx("path",{d:"M 10.5,37.5 A 35,35 1 0 0 34.5,37.5"})]})]})}),bK:l=>B.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 45 45",width:"100%",height:"100%",style:l?.svgStyle,children:B.jsxs("g",{style:{fill:"none",fillOpacity:"1",fillRule:"evenodd",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:"4",strokeDasharray:"none",strokeOpacity:"1"},children:[B.jsx("path",{d:"M 22.5,11.63 L 22.5,6",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"},id:"path6570"}),B.jsx("path",{d:"M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25",style:{fill:l?.fill??"#000000",fillOpacity:"1",strokeLinecap:"butt",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 12.5,37 C 18,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 20,16 10.5,13 6.5,19.5 C 3.5,25.5 12.5,30 12.5,30 L 12.5,37",style:{fill:l?.fill??"#000000",stroke:"#000000"}}),B.jsx("path",{d:"M 20,8 L 25,8",style:{fill:"none",stroke:"#000000",strokeLinejoin:"miter"}}),B.jsx("path",{d:"M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.5,26.6 L 22.5,24.5 C 20,18 10.85,14 6.97,19.85 C 4.5,25.5 13,29.5 13,29.5",style:{fill:"none",stroke:"#ffffff"}}),B.jsx("path",{d:"M 12.5,30 C 18,27 27,27 32.5,30 M 12.5,33.5 C 18,30.5 27,30.5 32.5,33.5 M 12.5,37 C 18,34 27,34 32.5,37",style:{fill:"none",stroke:"#ffffff"}})]})})};function iy(l){return{display:"grid",gridTemplateColumns:`repeat(${l}, 1fr)`,overflow:"hidden",width:"100%",height:"100%",position:"relative"}}const Hf={aspectRatio:"1/1",display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},ay={backgroundColor:"#B58863"},ry={backgroundColor:"#F0D9B5"},ly={boxShadow:"inset 0px 0px 0px 1px black"},sy={color:"#F0D9B5"},oy={color:"#B58863"},uy={fontSize:"13px",position:"absolute",bottom:1,right:4,userSelect:"none"},cy={fontSize:"13px",position:"absolute",top:2,left:2,userSelect:"none"},fy={transform:"scale(1.2)"},hy={opacity:.5},t_={color:"#ffaa00",secondaryColor:"#4caf50",tertiaryColor:"#f44336",arrowLengthReducerDenominator:8,sameTargetArrowLengthReducerDenominator:4,arrowWidthDenominator:5,activeArrowWidthMultiplier:.9,opacity:.65,activeOpacity:.5},dy=x.createContext(null),Or=()=>x.use(dy);function n_({children:l,options:i}){const{id:a="chessboard",pieces:s=e_,position:o="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",boardOrientation:c="white",chessboardRows:h=8,chessboardColumns:d=8,boardStyle:g=iy(d),squareStyle:v=Hf,squareStyles:p={},darkSquareStyle:b=ay,lightSquareStyle:_=ry,dropSquareStyle:S=ly,draggingPieceStyle:R=fy,draggingPieceGhostStyle:L=hy,darkSquareNotationStyle:U=sy,lightSquareNotationStyle:Z=oy,alphaNotationStyle:W=uy,numericNotationStyle:H=cy,showNotation:J=!0,animationDurationInMs:X=300,showAnimations:F=!0,allowDragging:ee=!0,allowDragOffBoard:re=!0,dragActivationDistance:Ee=1,allowDrawingArrows:ke=!0,arrows:Ae=[],arrowOptions:pe=t_,clearArrowsOnClick:Ie=!0,canDragPiece:tt,onMouseOutSquare:Ke,onMouseOverSquare:q,onPieceClick:Q,onPieceDrag:se,onPieceDrop:we,onSquareClick:E,onSquareRightClick:Y,squareRenderer:I}=i||{},[V,ie]=x.useState(null),[ye,te]=x.useState(typeof o=="string"?Jc(o,h,d):o),[nt,Me]=x.useState({}),[ot,at]=x.useState(null),[At,Tt]=x.useState(null),[Cn,xt]=x.useState(null),[tn,nn]=x.useState([]),dt=x.useRef(null);x.useEffect(()=>{const be=typeof o=="string"?Jc(o,h,d):o;if(!F){te(be);return}const _e=Fb(ye,be,d,c),xe=Object.keys(_e).length>1;if(ot&&xe){const We={...ye};delete We[ot.sourceSquare],We[ot.targetSquare]={pieceType:ot.piece},te(We);const pn={..._e};delete pn[ot.sourceSquare],Me(pn);const Dn=setTimeout(()=>{te(be),Me({}),at(null)},X);dt.current=Dn;return}if(ot){te(be),at(null);return}Me(_e);const $n=setTimeout(()=>{te(be),Me({})},X);return dt.current=$n,()=>{dt.current&&clearTimeout(dt.current)}},[o]),x.useEffect(()=>{te(typeof o=="string"?Jc(o,h,d):o)},[h,d,c]);const Jn=x.useMemo(()=>Jb(h,d,c),[h,d,c]),zn=x.useCallback((be,_e)=>{if(!ke)return;const xe=tn.findIndex(We=>We.startSquare===At&&We.endSquare===be);if(Ae.some(We=>We.startSquare===At&&We.endSquare===be)){Tt(null),xt(null);return}if(At&&At!==be){const We=_e?.shiftKey?pe.secondaryColor:_e?.ctrlKey?pe.tertiaryColor:pe.color;nn(pn=>xe===-1?[...pn,{startSquare:At,endSquare:be,color:We}]:pn.filter((Dn,Hn)=>Hn!==xe)),Tt(null),xt(null)}},[ke,Ae,pe.color,pe.secondaryColor,pe.tertiaryColor,tn,At,Cn]),Qt=x.useCallback(()=>{Ie&&(nn([]),Tt(null),xt(null))},[Ie]),an=x.useCallback((be,_e)=>{const xe=_e?.shiftKey?pe.secondaryColor:_e?.ctrlKey?pe.tertiaryColor:pe.color;xt({square:be,color:xe})},[pe]),qn=x.useCallback(()=>{ie(null)},[]),Bn=x.useCallback(function(_e){if(!V)return;const xe=_e.over?.id.toString();if(!xe){we?.({piece:V,sourceSquare:V.position,targetSquare:null}),at({piece:V.pieceType,sourceSquare:V.position,targetSquare:""}),ie(null);return}_e.over&&(we?.({piece:V,sourceSquare:V.position,targetSquare:xe})&&at({piece:V.pieceType,sourceSquare:V.position,targetSquare:xe}),ie(null))},[V]),_i=x.useCallback(function({active:_e}){const xe=_e.data.current?.isSparePiece;se?.({isSparePiece:xe,piece:xe?{pieceType:_e.id}:ye[_e.id],square:xe?null:_e.id}),ie({isSparePiece:xe,position:_e.id,pieceType:xe?_e.id:ye[_e.id].pieceType})},[ye]),Fi=R1(oo(qf,{activationConstraint:{distance:Ee}}),oo(Uf),oo(Jv),oo(Zv));function Rn(be){const _e=q1(be);return _e.length>0?_e:qv(be)}return B.jsx(dy.Provider,{value:{id:a,pieces:s,boardOrientation:c,chessboardRows:h,chessboardColumns:d,boardStyle:g,squareStyle:v,squareStyles:p,darkSquareStyle:b,lightSquareStyle:_,dropSquareStyle:S,draggingPieceStyle:R,draggingPieceGhostStyle:L,darkSquareNotationStyle:U,lightSquareNotationStyle:Z,alphaNotationStyle:W,numericNotationStyle:H,showNotation:J,animationDurationInMs:X,showAnimations:F,allowDragging:ee,allowDragOffBoard:re,allowDrawingArrows:ke,arrows:Ae,arrowOptions:pe,canDragPiece:tt,onMouseOutSquare:Ke,onMouseOverSquare:q,onPieceClick:Q,onSquareClick:E,onSquareRightClick:Y,squareRenderer:I,board:Jn,isWrapped:!0,draggingPiece:V,currentPosition:ye,positionDifferences:nt,newArrowStartSquare:At,newArrowOverSquare:Cn,setNewArrowStartSquare:Tt,setNewArrowOverSquare:an,internalArrows:tn,drawArrow:zn,clearArrows:Qt},children:B.jsx(Cb,{collisionDetection:Rn,onDragStart:_i,onDragEnd:Bn,onDragCancel:qn,sensors:Fi,children:l})})}function i_({boardWidth:l,boardHeight:i}){const{id:a,arrows:s,arrowOptions:o,boardOrientation:c,chessboardColumns:h,chessboardRows:d,internalArrows:g,newArrowStartSquare:v,newArrowOverSquare:p}=Or();if(!l)return null;const b=v&&p&&v!==p.square?{startSquare:v,endSquare:p.square,color:p.color}:null,_=b?[...s,...g,b]:[...s,...g];return B.jsx("svg",{width:l,height:i,style:{position:"absolute",top:"0",left:"0",pointerEvents:"none",zIndex:"20"},children:_.map((S,R)=>{const L=Jg(c,l,h,d,S.startSquare),U=Jg(c,l,h,d,S.endSquare),Z=l/h;let W=Z/o.arrowLengthReducerDenominator;const H=b&&R===_.length-1;_.some(re=>re.startSquare!==S.startSquare&&re.endSquare===S.endSquare)&&!H&&(W=Z/o.sameTargetArrowLengthReducerDenominator);const J=U.x-L.x,X=U.y-L.y,F=Math.hypot(X,J),ee={x:L.x+J*(F-W)/F,y:L.y+X*(F-W)/F};return B.jsxs(x.Fragment,{children:[B.jsx("marker",{id:`${a}-arrowhead-${R}-${S.startSquare}-${S.endSquare}`,markerWidth:"2",markerHeight:"2.5",refX:"1.25",refY:"1.25",orient:"auto",children:B.jsx("polygon",{points:"0.3 0, 2 1.25, 0.3 2.5",fill:S.color})}),B.jsx("line",{x1:L.x,y1:L.y,x2:ee.x,y2:ee.y,opacity:H?o.activeOpacity:o.opacity,stroke:S.color,strokeWidth:H?o.activeArrowWidthMultiplier*(Z/o.arrowWidthDenominator):Z/o.arrowWidthDenominator,markerEnd:`url(#${a}-arrowhead-${R}-${S.startSquare}-${S.endSquare})`})]},`${a}-arrow-${S.startSquare}-${S.endSquare}${H?"-active":""}`)})})}function a_({children:l,isSparePiece:i=!1,pieceType:a,position:s}){const{allowDragging:o,canDragPiece:c}=Or(),{setNodeRef:h,attributes:d,listeners:g}=jb({id:s,data:{isSparePiece:i,pieceType:a},disabled:!o||c&&!c({piece:{pieceType:a},isSparePiece:i,square:s})});return B.jsx("div",{ref:h,...d,...g,children:l})}function r_({children:l,squareId:i}){const{isOver:a,setNodeRef:s}=Lb({id:i});return B.jsx("div",{ref:s,children:l({isOver:a})})}const Ig=x.memo(function({clone:i,isSparePiece:a=!1,position:s,pieceType:o}){const{id:c,allowDragging:h,animationDurationInMs:d,boardOrientation:g,canDragPiece:v,draggingPiece:p,draggingPieceStyle:b,draggingPieceGhostStyle:_,pieces:S,positionDifferences:R,onPieceClick:L}=Or(),[U,Z]=x.useState({});let W=i?"grabbing":"grab";(!h||v&&!v({piece:{pieceType:o},isSparePiece:a,square:s}))&&(W="pointer"),x.useEffect(()=>{if(R[s]){const J=s,X=R[s],F=document.querySelector(`#${c}-square-${J}`)?.getBoundingClientRect().width;if(!F)throw new Error("Square width not found");Z({transform:`translate(${(g==="black"?-1:1)*(X.charCodeAt(0)-J.charCodeAt(0))*F}px, ${(g==="black"?-1:1)*(Number(J[1])-Number(X[1]))*F}px)`,transition:`transform ${d}ms`,position:"relative",zIndex:10})}else Z({})},[R]);const H=S[o];return B.jsx("div",{id:`${c}-piece-${o}-${s}`,"data-piece":o,style:{...U,...i?{...fy,...b}:{},...!i&&p?.position===s?{...hy,..._}:{},width:"100%",height:"100%",cursor:W,touchAction:"none"},onClick:()=>L?.({isSparePiece:a,piece:{pieceType:o},square:s}),children:B.jsx(H,{})})}),l_=x.memo(function({children:i,squareId:a,isLightSquare:s,isOver:o}){const{id:c,allowDrawingArrows:h,boardOrientation:d,chessboardColumns:g,chessboardRows:v,currentPosition:p,squareStyle:b,squareStyles:_,darkSquareStyle:S,lightSquareStyle:R,dropSquareStyle:L,darkSquareNotationStyle:U,lightSquareNotationStyle:Z,alphaNotationStyle:W,numericNotationStyle:H,showNotation:J,onMouseOutSquare:X,onMouseOverSquare:F,onSquareClick:ee,onSquareRightClick:re,squareRenderer:Ee,newArrowStartSquare:ke,setNewArrowStartSquare:Ae,setNewArrowOverSquare:pe,drawArrow:Ie,clearArrows:tt}=Or(),Ke=a.match(/^[a-z]+/)?.[0],q=a.match(/\d+$/)?.[0];return B.jsxs("div",{id:`${c}-square-${a}`,style:{...Hf,...b,...s?{...ry,...R}:{...ay,...S},...o?{...ly,...L}:{}},"data-column":Ke,"data-row":q,"data-square":a,onClick:Q=>{Q.button===0&&ee?.({piece:p[a]??null,square:a})},onContextMenu:Q=>{Q.preventDefault(),re?.({piece:p[a]??null,square:a})},onMouseDown:Q=>{Q.button===0&&tt(),Q.button===2&&h&&Ae(a)},onMouseUp:Q=>{Q.button===2&&ke&&Ie(a,{shiftKey:Q.shiftKey,ctrlKey:Q.ctrlKey})},onMouseOver:Q=>{Q.buttons===2&&ke&&pe(a,{shiftKey:Q.shiftKey,ctrlKey:Q.ctrlKey}),F?.({piece:p[a]??null,square:a})},onMouseLeave:()=>X?.({piece:p[a]??null,square:a}),children:[J?B.jsxs("span",{style:s?{...oy,...Z}:{...sy,...U},children:[q===(d==="white"?"1":v.toString())&&B.jsx("span",{style:{...uy,...W},children:Ke}),Ke===(d==="white"?"a":$f(0,g,d))&&B.jsx("span",{style:{...cy,...H},children:q})]}):null,Ee?.({piece:p[a]??null,square:a,children:i})||B.jsx("div",{style:{width:"100%",height:"100%",..._[a]},children:i})]})}),s_=(l,i)=>({transform:a})=>{const s=typeof document<"u"?document.getElementById(`${l}-board`):null;if(!s)return a;const o=s.getBoundingClientRect(),c=s.querySelector('[data-column="a"][data-row="1"]');if(!c)return a;const d=c.getBoundingClientRect().width/2,g=i.match(/^([a-zA-Z]+)(\d+)$/);if(!g)return a;const[,v,p]=g,b=s.querySelector(`[data-column="${v}"][data-row="${p}"]`);if(!b)return a;const _=b.getBoundingClientRect(),S=_.left+d-o.left,R=_.top+d-o.top,L=-S,U=o.width-S,Z=-R,W=o.height-R,H=Math.min(Math.max(a.x,L),U),J=Math.min(Math.max(a.y,Z),W);return{...a,x:H,y:J}};function Wg(){const{allowDragOffBoard:l,board:i,boardStyle:a,chessboardColumns:s,currentPosition:o,draggingPiece:c,id:h}=Or(),d=x.useRef(null),[g,v]=x.useState(d.current?.clientWidth),[p,b]=x.useState(d.current?.clientHeight);return x.useEffect(()=>{if(d.current){const _=new ResizeObserver(()=>{v(d.current?.clientWidth),b(d.current?.clientHeight)});return _.observe(d.current),()=>{_.disconnect()}}},[d.current]),B.jsxs(B.Fragment,{children:[B.jsxs("div",{id:`${h}-board`,ref:d,style:{...iy(s),...a},children:[i.map(_=>_.map(S=>{const R=o[S.squareId];return B.jsx(r_,{squareId:S.squareId,children:({isOver:L})=>B.jsx(l_,{isOver:L,...S,children:R?B.jsx(a_,{isSparePiece:!1,position:S.squareId,pieceType:R.pieceType,children:B.jsx(Ig,{...R,position:S.squareId})}):null})},S.squareId)})),B.jsx(i_,{boardWidth:g,boardHeight:p})]}),B.jsx(Pb,{dropAnimation:null,modifiers:[Zb,...l?[]:[s_(h,c?.position||"")]],children:c?B.jsx(Ig,{clone:!0,position:c.position,pieceType:c.pieceType}):null})]})}function o_({options:l}){const{isWrapped:i}=Or()??{isWrapped:!1};return i?B.jsx(Wg,{}):B.jsx(n_,{options:l,children:B.jsx(Wg,{})})}function u_(l){return l!==null?{comment:l,variations:[]}:{variations:[]}}function c_(l,i,a,s,o){const c={move:l,variations:o};return i&&(c.suffix=i),a&&(c.nag=a),s!==null&&(c.comment=s),c}function f_(...l){const[i,...a]=l;let s=i;for(const o of a)o!==null&&(s.variations=[o,...o.variations],o.variations=[],s=o);return i}function h_(l,i){if(i.marker&&i.marker.comment){let a=i.root;for(;;){const s=a.variations[0];if(!s){a.comment=i.marker.comment;break}a=s}}return{headers:l,root:i.root,result:(i.marker&&i.marker.result)??void 0}}function d_(l,i){function a(){this.constructor=l}a.prototype=i.prototype,l.prototype=new a}function Er(l,i,a,s){var o=Error.call(this,l);return Object.setPrototypeOf&&Object.setPrototypeOf(o,Er.prototype),o.expected=i,o.found=a,o.location=s,o.name="SyntaxError",o}d_(Er,Error);function Ic(l,i,a){return a=a||" ",l.length>i?l:(i-=l.length,a+=a.repeat(i),l+a.slice(0,i))}Er.prototype.format=function(l){var i="Error: "+this.message;if(this.location){var a=null,s;for(s=0;s<l.length;s++)if(l[s].source===this.location.source){a=l[s].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(o):o,h=this.location.source+":"+c.line+":"+c.column;if(a){var d=this.location.end,g=Ic("",c.line.toString().length," "),v=a[o.line-1],p=o.line===d.line?d.column:v.length+1,b=p-o.column||1;i+=`
 --> `+h+`
`+g+` |
`+c.line+" | "+v+`
`+g+" | "+Ic("",o.column-1," ")+Ic("",b,"^")}else i+=`
 at `+h}return i};Er.buildMessage=function(l,i){var a={literal:function(v){return'"'+o(v.text)+'"'},class:function(v){var p=v.parts.map(function(b){return Array.isArray(b)?c(b[0])+"-"+c(b[1]):c(b)});return"["+(v.inverted?"^":"")+p.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(v){return v.description}};function s(v){return v.charCodeAt(0).toString(16).toUpperCase()}function o(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+s(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+s(p)})}function c(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+s(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+s(p)})}function h(v){return a[v.type](v)}function d(v){var p=v.map(h),b,_;if(p.sort(),p.length>0){for(b=1,_=1;b<p.length;b++)p[b-1]!==p[b]&&(p[_]=p[b],_++);p.length=_}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function g(v){return v?'"'+o(v)+'"':"end of input"}return"Expected "+d(l)+" but "+g(i)+" found."};function g_(l,i){i=i!==void 0?i:{};var a={},s=i.grammarSource,o={pgn:Fn},c=Fn,h="[",d='"',g="]",v=".",p="O-O-O",b="O-O",_="0-0-0",S="0-0",R="$",L="{",U="}",Z=";",W="(",H=")",J="1-0",X="0-1",F="1/2-1/2",ee="*",re=/^[a-zA-Z]/,Ee=/^[^"]/,ke=/^[0-9]/,Ae=/^[.]/,pe=/^[a-zA-Z1-8\-=]/,Ie=/^[+#]/,tt=/^[!?]/,Ke=/^[^}]/,q=/^[^\r\n]/,Q=/^[ \t\r\n]/,se=rt("tag pair"),we=Pe("[",!1),E=Pe('"',!1),Y=Pe("]",!1),I=rt("tag name"),V=ut([["a","z"],["A","Z"]],!1,!1),ie=rt("tag value"),ye=ut(['"'],!0,!1),te=rt("move number"),nt=ut([["0","9"]],!1,!1),Me=Pe(".",!1),ot=ut(["."],!1,!1),at=rt("standard algebraic notation"),At=Pe("O-O-O",!1),Tt=Pe("O-O",!1),Cn=Pe("0-0-0",!1),xt=Pe("0-0",!1),tn=ut([["a","z"],["A","Z"],["1","8"],"-","="],!1,!1),nn=ut(["+","#"],!1,!1),dt=rt("suffix annotation"),Jn=ut(["!","?"],!1,!1),zn=rt("NAG"),Qt=Pe("$",!1),an=rt("brace comment"),qn=Pe("{",!1),Bn=ut(["}"],!0,!1),_i=Pe("}",!1),Fi=rt("rest of line comment"),Rn=Pe(";",!1),be=ut(["\r",`
`],!0,!1),_e=rt("variation"),xe=Pe("(",!1),$n=Pe(")",!1),We=rt("game termination marker"),pn=Pe("1-0",!1),Dn=Pe("0-1",!1),Hn=Pe("1/2-1/2",!1),rn=Pe("*",!1),In=rt("whitespace"),Kn=ut([" ","	","\r",`
`],!1,!1),xa=function(O,z){return h_(O,z)},Oa=function(O){return Object.fromEntries(O)},Ca=function(O,z){return[O,z]},ea=function(O,z){return{root:O,marker:z}},Fe=function(O,z){return f_(u_(O),...z.flat())},Ut=function(O,z,N,oe,ce){return c_(O,z,N,oe,ce)},Ot=function(O){return O},ln=function(O){return O.replace(/[\r\n]+/g," ")},Ct=function(O){return O.trim()},mt=function(O){return O},Xt=function(O,z){return{result:O,comment:z}},M=i.peg$currPos|0,Ue=[{line:1,column:1}],Ce=M,Be=i.peg$maxFailExpected||[],P=i.peg$silentFails|0,Vt;if(i.startRule){if(!(i.startRule in o))throw new Error(`Can't start parsing from rule "`+i.startRule+'".');c=o[i.startRule]}function Pe(O,z){return{type:"literal",text:O,ignoreCase:z}}function ut(O,z,N){return{type:"class",parts:O,inverted:z,ignoreCase:N}}function Gn(){return{type:"end"}}function rt(O){return{type:"other",description:O}}function Ra(O){var z=Ue[O],N;if(z)return z;if(O>=Ue.length)N=Ue.length-1;else for(N=O;!Ue[--N];);for(z=Ue[N],z={line:z.line,column:z.column};N<O;)l.charCodeAt(N)===10?(z.line++,z.column=1):z.column++,N++;return Ue[O]=z,z}function Wn(O,z,N){var oe=Ra(O),ce=Ra(z),Ne={source:s,start:{offset:O,line:oe.line,column:oe.column},end:{offset:z,line:ce.line,column:ce.column}};return Ne}function ae(O){M<Ce||(M>Ce&&(Ce=M,Be=[]),Be.push(O))}function ta(O,z,N){return new Er(Er.buildMessage(O,z),O,z,N)}function Fn(){var O,z,N;return O=M,z=gt(),N=Si(),O=xa(z,N),O}function gt(){var O,z,N;for(O=M,z=[],N=Rr();N!==a;)z.push(N),N=Rr();return N=bt(),O=Oa(z),O}function Rr(){var O,z,N,oe,ce,Ne,Yn;return P++,O=M,bt(),l.charCodeAt(M)===91?(z=h,M++):(z=a,P===0&&ae(we)),z!==a?(bt(),N=Wl(),N!==a?(bt(),l.charCodeAt(M)===34?(oe=d,M++):(oe=a,P===0&&ae(E)),oe!==a?(ce=ei(),l.charCodeAt(M)===34?(Ne=d,M++):(Ne=a,P===0&&ae(E)),Ne!==a?(bt(),l.charCodeAt(M)===93?(Yn=g,M++):(Yn=a,P===0&&ae(Y)),Yn!==a?O=Ca(N,ce):(M=O,O=a)):(M=O,O=a)):(M=O,O=a)):(M=O,O=a)):(M=O,O=a),P--,O===a&&P===0&&ae(se),O}function Wl(){var O,z,N;if(P++,O=M,z=[],N=l.charAt(M),re.test(N)?M++:(N=a,P===0&&ae(V)),N!==a)for(;N!==a;)z.push(N),N=l.charAt(M),re.test(N)?M++:(N=a,P===0&&ae(V));else z=a;return z!==a?O=l.substring(O,M):O=z,P--,O===a&&(z=a,P===0&&ae(I)),O}function ei(){var O,z,N;for(P++,O=M,z=[],N=l.charAt(M),Ee.test(N)?M++:(N=a,P===0&&ae(ye));N!==a;)z.push(N),N=l.charAt(M),Ee.test(N)?M++:(N=a,P===0&&ae(ye));return O=l.substring(O,M),P--,z=a,P===0&&ae(ie),O}function Si(){var O,z,N;return O=M,z=Fl(),bt(),N=kr(),N===a&&(N=null),bt(),O=ea(z,N),O}function Fl(){var O,z,N,oe;for(O=M,z=sn(),z===a&&(z=null),N=[],oe=Dr();oe!==a;)N.push(oe),oe=Dr();return O=Fe(z,N),O}function Dr(){var O,z,N,oe,ce,Ne,Yn,ni;if(O=M,bt(),es(),bt(),z=Lo(),z!==a){for(N=Da(),N===a&&(N=null),oe=[],ce=na();ce!==a;)oe.push(ce),ce=na();for(ce=bt(),Ne=sn(),Ne===a&&(Ne=null),Yn=[],ni=ti();ni!==a;)Yn.push(ni),ni=ti();O=Ut(z,N,oe,Ne,Yn)}else M=O,O=a;return O}function es(){var O,z,N,oe,ce,Ne;for(P++,O=M,z=[],N=l.charAt(M),ke.test(N)?M++:(N=a,P===0&&ae(nt));N!==a;)z.push(N),N=l.charAt(M),ke.test(N)?M++:(N=a,P===0&&ae(nt));if(l.charCodeAt(M)===46?(N=v,M++):(N=a,P===0&&ae(Me)),N!==a){for(oe=bt(),ce=[],Ne=l.charAt(M),Ae.test(Ne)?M++:(Ne=a,P===0&&ae(ot));Ne!==a;)ce.push(Ne),Ne=l.charAt(M),Ae.test(Ne)?M++:(Ne=a,P===0&&ae(ot));z=[z,N,oe,ce],O=z}else M=O,O=a;return P--,O===a&&(z=a,P===0&&ae(te)),O}function Lo(){var O,z,N,oe,ce,Ne;if(P++,O=M,z=M,l.substr(M,5)===p?(N=p,M+=5):(N=a,P===0&&ae(At)),N===a&&(l.substr(M,3)===b?(N=b,M+=3):(N=a,P===0&&ae(Tt)),N===a&&(l.substr(M,5)===_?(N=_,M+=5):(N=a,P===0&&ae(Cn)),N===a&&(l.substr(M,3)===S?(N=S,M+=3):(N=a,P===0&&ae(xt)),N===a))))if(N=M,oe=l.charAt(M),re.test(oe)?M++:(oe=a,P===0&&ae(V)),oe!==a){if(ce=[],Ne=l.charAt(M),pe.test(Ne)?M++:(Ne=a,P===0&&ae(tn)),Ne!==a)for(;Ne!==a;)ce.push(Ne),Ne=l.charAt(M),pe.test(Ne)?M++:(Ne=a,P===0&&ae(tn));else ce=a;ce!==a?(oe=[oe,ce],N=oe):(M=N,N=a)}else M=N,N=a;return N!==a?(oe=l.charAt(M),Ie.test(oe)?M++:(oe=a,P===0&&ae(nn)),oe===a&&(oe=null),N=[N,oe],z=N):(M=z,z=a),z!==a?O=l.substring(O,M):O=z,P--,O===a&&(z=a,P===0&&ae(at)),O}function Da(){var O,z,N;for(P++,O=M,z=[],N=l.charAt(M),tt.test(N)?M++:(N=a,P===0&&ae(Jn));N!==a;)z.push(N),z.length>=2?N=a:(N=l.charAt(M),tt.test(N)?M++:(N=a,P===0&&ae(Jn)));return z.length<1?(M=O,O=a):O=z,P--,O===a&&(z=a,P===0&&ae(dt)),O}function na(){var O,z,N,oe,ce;if(P++,O=M,bt(),l.charCodeAt(M)===36?(z=R,M++):(z=a,P===0&&ae(Qt)),z!==a){if(N=M,oe=[],ce=l.charAt(M),ke.test(ce)?M++:(ce=a,P===0&&ae(nt)),ce!==a)for(;ce!==a;)oe.push(ce),ce=l.charAt(M),ke.test(ce)?M++:(ce=a,P===0&&ae(nt));else oe=a;oe!==a?N=l.substring(N,M):N=oe,N!==a?O=Ot(N):(M=O,O=a)}else M=O,O=a;return P--,O===a&&P===0&&ae(zn),O}function sn(){var O;return O=jr(),O===a&&(O=ts()),O}function jr(){var O,z,N,oe,ce;if(P++,O=M,l.charCodeAt(M)===123?(z=L,M++):(z=a,P===0&&ae(qn)),z!==a){for(N=M,oe=[],ce=l.charAt(M),Ke.test(ce)?M++:(ce=a,P===0&&ae(Bn));ce!==a;)oe.push(ce),ce=l.charAt(M),Ke.test(ce)?M++:(ce=a,P===0&&ae(Bn));N=l.substring(N,M),l.charCodeAt(M)===125?(oe=U,M++):(oe=a,P===0&&ae(_i)),oe!==a?O=ln(N):(M=O,O=a)}else M=O,O=a;return P--,O===a&&(z=a,P===0&&ae(an)),O}function ts(){var O,z,N,oe,ce;if(P++,O=M,l.charCodeAt(M)===59?(z=Z,M++):(z=a,P===0&&ae(Rn)),z!==a){for(N=M,oe=[],ce=l.charAt(M),q.test(ce)?M++:(ce=a,P===0&&ae(be));ce!==a;)oe.push(ce),ce=l.charAt(M),q.test(ce)?M++:(ce=a,P===0&&ae(be));N=l.substring(N,M),O=Ct(N)}else M=O,O=a;return P--,O===a&&(z=a,P===0&&ae(Fi)),O}function ti(){var O,z,N,oe;return P++,O=M,bt(),l.charCodeAt(M)===40?(z=W,M++):(z=a,P===0&&ae(xe)),z!==a?(N=Fl(),N!==a?(bt(),l.charCodeAt(M)===41?(oe=H,M++):(oe=a,P===0&&ae($n)),oe!==a?O=mt(N):(M=O,O=a)):(M=O,O=a)):(M=O,O=a),P--,O===a&&P===0&&ae(_e),O}function kr(){var O,z,N;return P++,O=M,l.substr(M,3)===J?(z=J,M+=3):(z=a,P===0&&ae(pn)),z===a&&(l.substr(M,3)===X?(z=X,M+=3):(z=a,P===0&&ae(Dn)),z===a&&(l.substr(M,7)===F?(z=F,M+=7):(z=a,P===0&&ae(Hn)),z===a&&(l.charCodeAt(M)===42?(z=ee,M++):(z=a,P===0&&ae(rn))))),z!==a?(bt(),N=sn(),N===a&&(N=null),O=Xt(z,N)):(M=O,O=a),P--,O===a&&(z=a,P===0&&ae(We)),O}function bt(){var O,z;for(P++,O=[],z=l.charAt(M),Q.test(z)?M++:(z=a,P===0&&ae(Kn));z!==a;)O.push(z),z=l.charAt(M),Q.test(z)?M++:(z=a,P===0&&ae(Kn));return P--,z=a,P===0&&ae(In),O}if(Vt=c(),i.peg$library)return{peg$result:Vt,peg$currPos:M,peg$FAILED:a,peg$maxFailExpected:Be,peg$maxFailPos:Ce};if(Vt!==a&&M===l.length)return Vt;throw Vt!==a&&M<l.length&&ae(Gn()),ta(Be,Ce<l.length?l.charAt(Ce):null,Ce<l.length?Wn(Ce,Ce+1):Wn(Ce,Ce))}/**
 * @license
 * Copyright (c) 2025, Jeff Hlywa (jhlywa@gmail.com)
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 */const mo=0xffffffffffffffffn;function Wc(l,i){return(l<<i|l>>64n-i)&0xffffffffffffffffn}function Fg(l,i){return l*i&mo}function v_(l){return function(){let i=BigInt(l&mo),a=BigInt(l>>64n&mo);const s=Fg(Wc(Fg(i,5n),7n),9n);return a^=i,i=(Wc(i,24n)^a^a<<16n)&mo,a=Wc(a,37n),l=a<<64n|i,s}}const Mo=v_(0xa187eb39cdcaed8f31c4b365b102e01en),y_=Array.from({length:2},()=>Array.from({length:6},()=>Array.from({length:128},()=>Mo()))),p_=Array.from({length:8},()=>Mo()),m_=Array.from({length:16},()=>Mo()),Fc=Mo(),Gt="w",vn="b",pt="p",pf="n",bo="b",Ml="r",Zi="q",wt="k",ef="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";class uo{color;from;to;piece;captured;promotion;flags;san;lan;before;after;constructor(i,a){const{color:s,piece:o,from:c,to:h,flags:d,captured:g,promotion:v}=a,p=Mt(c),b=Mt(h);this.color=s,this.piece=o,this.from=p,this.to=b,this.san=i._moveToSan(a,i._moves({legal:!0})),this.lan=p+b,this.before=i.fen(),i._makeMove(a),this.after=i.fen(),i._undoMove(),this.flags="";for(const _ in ve)ve[_]&d&&(this.flags+=ba[_]);g&&(this.captured=g),v&&(this.promotion=v,this.lan+=v)}isCapture(){return this.flags.indexOf(ba.CAPTURE)>-1}isPromotion(){return this.flags.indexOf(ba.PROMOTION)>-1}isEnPassant(){return this.flags.indexOf(ba.EP_CAPTURE)>-1}isKingsideCastle(){return this.flags.indexOf(ba.KSIDE_CASTLE)>-1}isQueensideCastle(){return this.flags.indexOf(ba.QSIDE_CASTLE)>-1}isBigPawn(){return this.flags.indexOf(ba.BIG_PAWN)>-1}}const $t=-1,ba={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q",NULL_MOVE:"-"},ve={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64,NULL_MOVE:128},mf={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},b_={WhiteTitle:null,BlackTitle:null,WhiteElo:null,BlackElo:null,WhiteUSCF:null,BlackUSCF:null,WhiteNA:null,BlackNA:null,WhiteType:null,BlackType:null,EventDate:null,EventSponsor:null,Section:null,Stage:null,Board:null,Opening:null,Variation:null,SubVariation:null,ECO:null,NIC:null,Time:null,UTCTime:null,UTCDate:null,TimeControl:null,SetUp:null,FEN:null,Termination:null,Annotator:null,Mode:null,PlyCount:null},__={...mf,...b_},ge={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},tf={b:[16,32,17,15],w:[-16,-32,-17,-15]},ev={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},S_=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],w_=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],E_={p:1,n:2,b:4,r:8,q:16,k:32},A_="pnbrqkPNBRQK",tv=[pf,bo,Ml,Zi],T_=7,x_=6,O_=1,C_=0,co={[wt]:ve.KSIDE_CASTLE,[Zi]:ve.QSIDE_CASTLE},Yi={w:[{square:ge.a1,flag:ve.QSIDE_CASTLE},{square:ge.h1,flag:ve.KSIDE_CASTLE}],b:[{square:ge.a8,flag:ve.QSIDE_CASTLE},{square:ge.h8,flag:ve.KSIDE_CASTLE}]},R_={b:O_,w:x_},nf="--";function Aa(l){return l>>4}function Yl(l){return l&15}function gy(l){return"0123456789".indexOf(l)!==-1}function Mt(l){const i=Yl(l),a=Aa(l);return"abcdefgh".substring(i,i+1)+"87654321".substring(a,a+1)}function Cl(l){return l===Gt?vn:Gt}function D_(l){const i=l.split(/\s+/);if(i.length!==6)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};const a=parseInt(i[5],10);if(isNaN(a)||a<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};const s=parseInt(i[4],10);if(isNaN(s)||s<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(i[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(i[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(i[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};const o=i[0].split("/");if(o.length!==8)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(let h=0;h<o.length;h++){let d=0,g=!1;for(let v=0;v<o[h].length;v++)if(gy(o[h][v])){if(g)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};d+=parseInt(o[h][v],10),g=!0}else{if(!/^[prnbqkPRNBQK]$/.test(o[h][v]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};d+=1,g=!1}if(d!==8)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if(i[3][1]=="3"&&i[1]=="w"||i[3][1]=="6"&&i[1]=="b")return{ok:!1,error:"Invalid FEN: illegal en-passant square"};const c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];for(const{color:h,regex:d}of c){if(!d.test(i[0]))return{ok:!1,error:`Invalid FEN: missing ${h} king`};if((i[0].match(d)||[]).length>1)return{ok:!1,error:`Invalid FEN: too many ${h} kings`}}return Array.from(o[0]+o[7]).some(h=>h.toUpperCase()==="P")?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}function j_(l,i){const a=l.from,s=l.to,o=l.piece;let c=0,h=0,d=0;for(let g=0,v=i.length;g<v;g++){const p=i[g].from,b=i[g].to,_=i[g].piece;o===_&&a!==p&&s===b&&(c++,Aa(a)===Aa(p)&&h++,Yl(a)===Yl(p)&&d++)}return c>0?h>0&&d>0?Mt(a):d>0?Mt(a).charAt(1):Mt(a).charAt(0):""}function Qi(l,i,a,s,o,c=void 0,h=ve.NORMAL){const d=Aa(s);if(o===pt&&(d===T_||d===C_))for(let g=0;g<tv.length;g++){const v=tv[g];l.push({color:i,from:a,to:s,piece:o,captured:c,promotion:v,flags:h|ve.PROMOTION})}else l.push({color:i,from:a,to:s,piece:o,captured:c,flags:h})}function nv(l){let i=l.charAt(0);return i>="a"&&i<="h"?l.match(/[a-h]\d.*[a-h]\d/)?void 0:pt:(i=i.toLowerCase(),i==="o"?wt:i)}function af(l){return l.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}class rf{_board=new Array(128);_turn=Gt;_header={};_kings={w:$t,b:$t};_epSquare=-1;_halfMoves=0;_moveNumber=0;_history=[];_comments={};_castling={w:0,b:0};_hash=0n;_positionCount=new Map;constructor(i=ef,{skipValidation:a=!1}={}){this.load(i,{skipValidation:a})}clear({preserveHeaders:i=!1}={}){this._board=new Array(128),this._kings={w:$t,b:$t},this._turn=Gt,this._castling={w:0,b:0},this._epSquare=$t,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=i?this._header:{...__},this._hash=this._computeHash(),this._positionCount=new Map,this._header.SetUp=null,this._header.FEN=null}load(i,{skipValidation:a=!1,preserveHeaders:s=!1}={}){let o=i.split(/\s+/);if(o.length>=2&&o.length<6){const d=["-","-","0","1"];i=o.concat(d.slice(-(6-o.length))).join(" ")}if(o=i.split(/\s+/),!a){const{ok:d,error:g}=D_(i);if(!d)throw new Error(g)}const c=o[0];let h=0;this.clear({preserveHeaders:s});for(let d=0;d<c.length;d++){const g=c.charAt(d);if(g==="/")h+=8;else if(gy(g))h+=parseInt(g,10);else{const v=g<"a"?Gt:vn;this._put({type:g.toLowerCase(),color:v},Mt(h)),h++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=ve.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=ve.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=ve.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=ve.QSIDE_CASTLE),this._epSquare=o[3]==="-"?$t:ge[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._hash=this._computeHash(),this._updateSetup(i),this._incPositionCount()}fen({forceEnpassantSquare:i=!1}={}){let a=0,s="";for(let h=ge.a8;h<=ge.h1;h++){if(this._board[h]){a>0&&(s+=a,a=0);const{color:d,type:g}=this._board[h];s+=d===Gt?g.toUpperCase():g.toLowerCase()}else a++;h+1&136&&(a>0&&(s+=a),h!==ge.h1&&(s+="/"),a=0,h+=8)}let o="";this._castling[Gt]&ve.KSIDE_CASTLE&&(o+="K"),this._castling[Gt]&ve.QSIDE_CASTLE&&(o+="Q"),this._castling[vn]&ve.KSIDE_CASTLE&&(o+="k"),this._castling[vn]&ve.QSIDE_CASTLE&&(o+="q"),o=o||"-";let c="-";if(this._epSquare!==$t)if(i)c=Mt(this._epSquare);else{const h=this._epSquare+(this._turn===Gt?16:-16),d=[h+1,h-1];for(const g of d){if(g&136)continue;const v=this._turn;if(this._board[g]?.color===v&&this._board[g]?.type===pt){this._makeMove({color:v,from:g,to:this._epSquare,piece:pt,captured:pt,flags:ve.EP_CAPTURE});const p=!this._isKingAttacked(v);if(this._undoMove(),p){c=Mt(this._epSquare);break}}}}return[s,this._turn,o,c,this._halfMoves,this._moveNumber].join(" ")}_pieceKey(i){if(!this._board[i])return 0n;const{color:a,type:s}=this._board[i],o={w:0,b:1}[a],c={p:0,n:1,b:2,r:3,q:4,k:5}[s];return y_[o][c][i]}_epKey(){return this._epSquare===$t?0n:p_[this._epSquare&7]}_castlingKey(){const i=this._castling.w>>5|this._castling.b>>3;return m_[i]}_computeHash(){let i=0n;for(let a=ge.a8;a<=ge.h1;a++){if(a&136){a+=7;continue}this._board[a]&&(i^=this._pieceKey(a))}return i^=this._epKey(),i^=this._castlingKey(),this._turn==="b"&&(i^=Fc),i}_updateSetup(i){this._history.length>0||(i!==ef?(this._header.SetUp="1",this._header.FEN=i):(this._header.SetUp=null,this._header.FEN=null))}reset(){this.load(ef)}get(i){return this._board[ge[i]]}findPiece(i){const a=[];for(let s=ge.a8;s<=ge.h1;s++){if(s&136){s+=7;continue}!this._board[s]||this._board[s]?.color!==i.color||this._board[s].color===i.color&&this._board[s].type===i.type&&a.push(Mt(s))}return a}put({type:i,color:a},s){return this._put({type:i,color:a},s)?(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0):!1}_set(i,a){this._hash^=this._pieceKey(i),this._board[i]=a,this._hash^=this._pieceKey(i)}_put({type:i,color:a},s){if(A_.indexOf(i.toLowerCase())===-1||!(s in ge))return!1;const o=ge[s];if(i==wt&&!(this._kings[a]==$t||this._kings[a]==o))return!1;const c=this._board[o];return c&&c.type===wt&&(this._kings[c.color]=$t),this._set(o,{type:i,color:a}),i===wt&&(this._kings[a]=o),!0}_clear(i){this._hash^=this._pieceKey(i),delete this._board[i]}remove(i){const a=this.get(i);return this._clear(ge[i]),a&&a.type===wt&&(this._kings[a.color]=$t),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),a}_updateCastlingRights(){this._hash^=this._castlingKey();const i=this._board[ge.e1]?.type===wt&&this._board[ge.e1]?.color===Gt,a=this._board[ge.e8]?.type===wt&&this._board[ge.e8]?.color===vn;(!i||this._board[ge.a1]?.type!==Ml||this._board[ge.a1]?.color!==Gt)&&(this._castling.w&=-65),(!i||this._board[ge.h1]?.type!==Ml||this._board[ge.h1]?.color!==Gt)&&(this._castling.w&=-33),(!a||this._board[ge.a8]?.type!==Ml||this._board[ge.a8]?.color!==vn)&&(this._castling.b&=-65),(!a||this._board[ge.h8]?.type!==Ml||this._board[ge.h8]?.color!==vn)&&(this._castling.b&=-33),this._hash^=this._castlingKey()}_updateEnPassantSquare(){if(this._epSquare===$t)return;const i=this._epSquare+(this._turn===Gt?-16:16),a=this._epSquare+(this._turn===Gt?16:-16),s=[a+1,a-1];if(this._board[i]!==null||this._board[this._epSquare]!==null||this._board[a]?.color!==Cl(this._turn)||this._board[a]?.type!==pt){this._hash^=this._epKey(),this._epSquare=$t;return}const o=c=>!(c&136)&&this._board[c]?.color===this._turn&&this._board[c]?.type===pt;s.some(o)||(this._hash^=this._epKey(),this._epSquare=$t)}_attacked(i,a,s){const o=[];for(let c=ge.a8;c<=ge.h1;c++){if(c&136){c+=7;continue}if(this._board[c]===void 0||this._board[c].color!==i)continue;const h=this._board[c],d=c-a;if(d===0)continue;const g=d+119;if(S_[g]&E_[h.type]){if(h.type===pt){if(d>0&&h.color===Gt||d<=0&&h.color===vn)if(s)o.push(Mt(c));else return!0;continue}if(h.type==="n"||h.type==="k")if(s){o.push(Mt(c));continue}else return!0;const v=w_[g];let p=c+v,b=!1;for(;p!==a;){if(this._board[p]!=null){b=!0;break}p+=v}if(!b)if(s){o.push(Mt(c));continue}else return!0}}return s?o:!1}attackers(i,a){return a?this._attacked(a,ge[i],!0):this._attacked(this._turn,ge[i],!0)}_isKingAttacked(i){const a=this._kings[i];return a===-1?!1:this._attacked(Cl(i),a)}hash(){return this._hash.toString(16)}isAttacked(i,a){return this._attacked(a,ge[i])}isCheck(){return this._isKingAttacked(this._turn)}inCheck(){return this.isCheck()}isCheckmate(){return this.isCheck()&&this._moves().length===0}isStalemate(){return!this.isCheck()&&this._moves().length===0}isInsufficientMaterial(){const i={b:0,n:0,r:0,q:0,k:0,p:0},a=[];let s=0,o=0;for(let c=ge.a8;c<=ge.h1;c++){if(o=(o+1)%2,c&136){c+=7;continue}const h=this._board[c];h&&(i[h.type]=h.type in i?i[h.type]+1:1,h.type===bo&&a.push(o),s++)}if(s===2)return!0;if(s===3&&(i[bo]===1||i[pf]===1))return!0;if(s===i[bo]+2){let c=0;const h=a.length;for(let d=0;d<h;d++)c+=a[d];if(c===0||c===h)return!0}return!1}isThreefoldRepetition(){return this._getPositionCount(this._hash)>=3}isDrawByFiftyMoves(){return this._halfMoves>=100}isDraw(){return this.isDrawByFiftyMoves()||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}isGameOver(){return this.isCheckmate()||this.isDraw()}moves({verbose:i=!1,square:a=void 0,piece:s=void 0}={}){const o=this._moves({square:a,piece:s});return i?o.map(c=>new uo(this,c)):o.map(c=>this._moveToSan(c,o))}_moves({legal:i=!0,piece:a=void 0,square:s=void 0}={}){const o=s?s.toLowerCase():void 0,c=a?.toLowerCase(),h=[],d=this._turn,g=Cl(d);let v=ge.a8,p=ge.h1,b=!1;if(o)if(o in ge)v=p=ge[o],b=!0;else return[];for(let S=v;S<=p;S++){if(S&136){S+=7;continue}if(!this._board[S]||this._board[S].color===g)continue;const{type:R}=this._board[S];let L;if(R===pt){if(c&&c!==R)continue;L=S+tf[d][0],this._board[L]||(Qi(h,d,S,L,pt),L=S+tf[d][1],R_[d]===Aa(S)&&!this._board[L]&&Qi(h,d,S,L,pt,void 0,ve.BIG_PAWN));for(let U=2;U<4;U++)L=S+tf[d][U],!(L&136)&&(this._board[L]?.color===g?Qi(h,d,S,L,pt,this._board[L].type,ve.CAPTURE):L===this._epSquare&&Qi(h,d,S,L,pt,pt,ve.EP_CAPTURE))}else{if(c&&c!==R)continue;for(let U=0,Z=ev[R].length;U<Z;U++){const W=ev[R][U];for(L=S;L+=W,!(L&136);){if(!this._board[L])Qi(h,d,S,L,R);else{if(this._board[L].color===d)break;Qi(h,d,S,L,R,this._board[L].type,ve.CAPTURE);break}if(R===pf||R===wt)break}}}}if((c===void 0||c===wt)&&(!b||p===this._kings[d])){if(this._castling[d]&ve.KSIDE_CASTLE){const S=this._kings[d],R=S+2;!this._board[S+1]&&!this._board[R]&&!this._attacked(g,this._kings[d])&&!this._attacked(g,S+1)&&!this._attacked(g,R)&&Qi(h,d,this._kings[d],R,wt,void 0,ve.KSIDE_CASTLE)}if(this._castling[d]&ve.QSIDE_CASTLE){const S=this._kings[d],R=S-2;!this._board[S-1]&&!this._board[S-2]&&!this._board[S-3]&&!this._attacked(g,this._kings[d])&&!this._attacked(g,S-1)&&!this._attacked(g,R)&&Qi(h,d,this._kings[d],R,wt,void 0,ve.QSIDE_CASTLE)}}if(!i||this._kings[d]===-1)return h;const _=[];for(let S=0,R=h.length;S<R;S++)this._makeMove(h[S]),this._isKingAttacked(d)||_.push(h[S]),this._undoMove();return _}move(i,{strict:a=!1}={}){let s=null;if(typeof i=="string")s=this._moveFromSan(i,a);else if(i===null)s=this._moveFromSan(nf,a);else if(typeof i=="object"){const c=this._moves();for(let h=0,d=c.length;h<d;h++)if(i.from===Mt(c[h].from)&&i.to===Mt(c[h].to)&&(!("promotion"in c[h])||i.promotion===c[h].promotion)){s=c[h];break}}if(!s)throw typeof i=="string"?new Error(`Invalid move: ${i}`):new Error(`Invalid move: ${JSON.stringify(i)}`);if(this.isCheck()&&s.flags&ve.NULL_MOVE)throw new Error("Null move not allowed when in check");const o=new uo(this,s);return this._makeMove(s),this._incPositionCount(),o}_push(i){this._history.push({move:i,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}_movePiece(i,a){this._hash^=this._pieceKey(i),this._board[a]=this._board[i],delete this._board[i],this._hash^=this._pieceKey(a)}_makeMove(i){const a=this._turn,s=Cl(a);if(this._push(i),i.flags&ve.NULL_MOVE){a===vn&&this._moveNumber++,this._halfMoves++,this._turn=s,this._epSquare=$t;return}if(this._hash^=this._epKey(),this._hash^=this._castlingKey(),i.captured&&(this._hash^=this._pieceKey(i.to)),this._movePiece(i.from,i.to),i.flags&ve.EP_CAPTURE&&(this._turn===vn?this._clear(i.to-16):this._clear(i.to+16)),i.promotion&&(this._clear(i.to),this._set(i.to,{type:i.promotion,color:a})),this._board[i.to].type===wt){if(this._kings[a]=i.to,i.flags&ve.KSIDE_CASTLE){const o=i.to-1,c=i.to+1;this._movePiece(c,o)}else if(i.flags&ve.QSIDE_CASTLE){const o=i.to+1,c=i.to-2;this._movePiece(c,o)}this._castling[a]=0}if(this._castling[a]){for(let o=0,c=Yi[a].length;o<c;o++)if(i.from===Yi[a][o].square&&this._castling[a]&Yi[a][o].flag){this._castling[a]^=Yi[a][o].flag;break}}if(this._castling[s]){for(let o=0,c=Yi[s].length;o<c;o++)if(i.to===Yi[s][o].square&&this._castling[s]&Yi[s][o].flag){this._castling[s]^=Yi[s][o].flag;break}}if(this._hash^=this._castlingKey(),i.flags&ve.BIG_PAWN){let o;a===vn?o=i.to-16:o=i.to+16,!(i.to-1&136)&&this._board[i.to-1]?.type===pt&&this._board[i.to-1]?.color===s||!(i.to+1&136)&&this._board[i.to+1]?.type===pt&&this._board[i.to+1]?.color===s?(this._epSquare=o,this._hash^=this._epKey()):this._epSquare=$t}else this._epSquare=$t;i.piece===pt?this._halfMoves=0:i.flags&(ve.CAPTURE|ve.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,a===vn&&this._moveNumber++,this._turn=s,this._hash^=Fc}undo(){const i=this._hash,a=this._undoMove();if(a){const s=new uo(this,a);return this._decPositionCount(i),s}return null}_undoMove(){const i=this._history.pop();if(i===void 0)return null;this._hash^=this._epKey(),this._hash^=this._castlingKey();const a=i.move;this._kings=i.kings,this._turn=i.turn,this._castling=i.castling,this._epSquare=i.epSquare,this._halfMoves=i.halfMoves,this._moveNumber=i.moveNumber,this._hash^=this._epKey(),this._hash^=this._castlingKey(),this._hash^=Fc;const s=this._turn,o=Cl(s);if(a.flags&ve.NULL_MOVE)return a;if(this._movePiece(a.to,a.from),a.piece&&(this._clear(a.from),this._set(a.from,{type:a.piece,color:s})),a.captured)if(a.flags&ve.EP_CAPTURE){let c;s===vn?c=a.to-16:c=a.to+16,this._set(c,{type:pt,color:o})}else this._set(a.to,{type:a.captured,color:o});if(a.flags&(ve.KSIDE_CASTLE|ve.QSIDE_CASTLE)){let c,h;a.flags&ve.KSIDE_CASTLE?(c=a.to+1,h=a.to-1):(c=a.to-2,h=a.to+1),this._movePiece(h,c)}return a}pgn({newline:i=`
`,maxWidth:a=0}={}){const s=[];let o=!1;for(const _ in this._header)this._header[_]&&s.push(`[${_} "${this._header[_]}"]`+i),o=!0;o&&this._history.length&&s.push(i);const c=_=>{const S=this._comments[this.fen()];if(typeof S<"u"){const R=_.length>0?" ":"";_=`${_}${R}{${S}}`}return _},h=[];for(;this._history.length>0;)h.push(this._undoMove());const d=[];let g="";for(h.length===0&&d.push(c(""));h.length>0;){g=c(g);const _=h.pop();if(!_)break;if(!this._history.length&&_.color==="b"){const S=`${this._moveNumber}. ...`;g=g?`${g} ${S}`:S}else _.color==="w"&&(g.length&&d.push(g),g=this._moveNumber+".");g=g+" "+this._moveToSan(_,this._moves({legal:!0})),this._makeMove(_)}if(g.length&&d.push(c(g)),d.push(this._header.Result||"*"),a===0)return s.join("")+d.join(" ");const v=function(){return s.length>0&&s[s.length-1]===" "?(s.pop(),!0):!1},p=function(_,S){for(const R of S.split(" "))if(R){if(_+R.length>a){for(;v();)_--;s.push(i),_=0}s.push(R),_+=R.length,s.push(" "),_++}return v()&&_--,_};let b=0;for(let _=0;_<d.length;_++){if(b+d[_].length>a&&d[_].includes("{")){b=p(b,d[_]);continue}b+d[_].length>a&&_!==0?(s[s.length-1]===" "&&s.pop(),s.push(i),b=0):_!==0&&(s.push(" "),b++),s.push(d[_]),b+=d[_].length}return s.join("")}header(...i){for(let a=0;a<i.length;a+=2)typeof i[a]=="string"&&typeof i[a+1]=="string"&&(this._header[i[a]]=i[a+1]);return this._header}setHeader(i,a){return this._header[i]=a??mf[i]??null,this.getHeaders()}removeHeader(i){return i in this._header?(this._header[i]=mf[i]||null,!0):!1}getHeaders(){const i={};for(const[a,s]of Object.entries(this._header))s!==null&&(i[a]=s);return i}loadPgn(i,{strict:a=!1,newlineChar:s=`\r?
`}={}){s!==`\r?
`&&(i=i.replace(new RegExp(s,"g"),`
`));const o=g_(i);this.reset();const c=o.headers;let h="";for(const v in c)v.toLowerCase()==="fen"&&(h=c[v]),this.header(v,c[v]);if(!a)h&&this.load(h,{preserveHeaders:!0});else if(c.SetUp==="1"){if(!("FEN"in c))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(c.FEN,{preserveHeaders:!0})}let d=o.root;for(;d;){if(d.move){const v=this._moveFromSan(d.move,a);if(v==null)throw new Error(`Invalid move in PGN: ${d.move}`);this._makeMove(v),this._incPositionCount()}d.comment!==void 0&&(this._comments[this.fen()]=d.comment),d=d.variations[0]}const g=o.result;g&&Object.keys(this._header).length&&this._header.Result!==g&&this.setHeader("Result",g)}_moveToSan(i,a){let s="";if(i.flags&ve.KSIDE_CASTLE)s="O-O";else if(i.flags&ve.QSIDE_CASTLE)s="O-O-O";else{if(i.flags&ve.NULL_MOVE)return nf;if(i.piece!==pt){const o=j_(i,a);s+=i.piece.toUpperCase()+o}i.flags&(ve.CAPTURE|ve.EP_CAPTURE)&&(i.piece===pt&&(s+=Mt(i.from)[0]),s+="x"),s+=Mt(i.to),i.promotion&&(s+="="+i.promotion.toUpperCase())}return this._makeMove(i),this.isCheck()&&(this.isCheckmate()?s+="#":s+="+"),this._undoMove(),s}_moveFromSan(i,a=!1){let s=af(i);if(a||(s==="0-0"?s="O-O":s==="0-0-0"&&(s="O-O-O")),s==nf)return{color:this._turn,from:0,to:0,piece:"k",flags:ve.NULL_MOVE};let o=nv(s),c=this._moves({legal:!0,piece:o});for(let _=0,S=c.length;_<S;_++)if(s===af(this._moveToSan(c[_],c)))return c[_];if(a)return null;let h,d,g,v,p,b=!1;if(d=s.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/),d?(h=d[1],g=d[2],v=d[3],p=d[4],g.length==1&&(b=!0)):(d=s.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/),d&&(h=d[1],g=d[2],v=d[3],p=d[4],g.length==1&&(b=!0))),o=nv(s),c=this._moves({legal:!0,piece:h||o}),!v)return null;for(let _=0,S=c.length;_<S;_++)if(g){if((!h||h.toLowerCase()==c[_].piece)&&ge[g]==c[_].from&&ge[v]==c[_].to&&(!p||p.toLowerCase()==c[_].promotion))return c[_];if(b){const R=Mt(c[_].from);if((!h||h.toLowerCase()==c[_].piece)&&ge[v]==c[_].to&&(g==R[0]||g==R[1])&&(!p||p.toLowerCase()==c[_].promotion))return c[_]}}else if(s===af(this._moveToSan(c[_],c)).replace("x",""))return c[_];return null}ascii(){let i=`   +------------------------+
`;for(let a=ge.a8;a<=ge.h1;a++){if(Yl(a)===0&&(i+=" "+"87654321"[Aa(a)]+" |"),this._board[a]){const s=this._board[a].type,c=this._board[a].color===Gt?s.toUpperCase():s.toLowerCase();i+=" "+c+" "}else i+=" . ";a+1&136&&(i+=`|
`,a+=8)}return i+=`   +------------------------+
`,i+="     a  b  c  d  e  f  g  h",i}perft(i){const a=this._moves({legal:!1});let s=0;const o=this._turn;for(let c=0,h=a.length;c<h;c++)this._makeMove(a[c]),this._isKingAttacked(o)||(i-1>0?s+=this.perft(i-1):s++),this._undoMove();return s}setTurn(i){return this._turn==i?!1:(this.move("--"),!0)}turn(){return this._turn}board(){const i=[];let a=[];for(let s=ge.a8;s<=ge.h1;s++)this._board[s]==null?a.push(null):a.push({square:Mt(s),type:this._board[s].type,color:this._board[s].color}),s+1&136&&(i.push(a),a=[],s+=8);return i}squareColor(i){if(i in ge){const a=ge[i];return(Aa(a)+Yl(a))%2===0?"light":"dark"}return null}history({verbose:i=!1}={}){const a=[],s=[];for(;this._history.length>0;)a.push(this._undoMove());for(;;){const o=a.pop();if(!o)break;i?s.push(new uo(this,o)):s.push(this._moveToSan(o,this._moves())),this._makeMove(o)}return s}_getPositionCount(i){return this._positionCount.get(i)??0}_incPositionCount(){this._positionCount.set(this._hash,(this._positionCount.get(this._hash)??0)+1)}_decPositionCount(i){const a=this._positionCount.get(i)??0;a===1?this._positionCount.delete(i):this._positionCount.set(i,a-1)}_pruneComments(){const i=[],a={},s=o=>{o in this._comments&&(a[o]=this._comments[o])};for(;this._history.length>0;)i.push(this._undoMove());for(s(this.fen());;){const o=i.pop();if(!o)break;this._makeMove(o),s(this.fen())}this._comments=a}getComment(){return this._comments[this.fen()]}setComment(i){this._comments[this.fen()]=i.replace("{","[").replace("}","]")}deleteComment(){return this.removeComment()}removeComment(){const i=this._comments[this.fen()];return delete this._comments[this.fen()],i}getComments(){return this._pruneComments(),Object.keys(this._comments).map(i=>({fen:i,comment:this._comments[i]}))}deleteComments(){return this.removeComments()}removeComments(){return this._pruneComments(),Object.keys(this._comments).map(i=>{const a=this._comments[i];return delete this._comments[i],{fen:i,comment:a}})}setCastlingRights(i,a){for(const o of[wt,Zi])a[o]!==void 0&&(a[o]?this._castling[i]|=co[o]:this._castling[i]&=~co[o]);this._updateCastlingRights();const s=this.getCastlingRights(i);return(a[wt]===void 0||a[wt]===s[wt])&&(a[Zi]===void 0||a[Zi]===s[Zi])}getCastlingRights(i){return{[wt]:(this._castling[i]&co[wt])!==0,[Zi]:(this._castling[i]&co[Zi])!==0}}moveNumber(){return this._moveNumber}}function k_({isOpen:l,close:i,move:a}){const[s,o]=x.useState(""),[c,h]=x.useState("");return ue.jsx(Df,{isOpen:l,children:ue.jsxs("div",{className:"p-4 rounded border-2 border-amber-800 bg-white h-2/3 w-1/2 max-sm:w-4/5 relative",children:[ue.jsx("span",{className:"text-lg font-bold",children:a}),ue.jsxs("div",{className:"h-11/12 flex flex-col justify-around mt-2",children:[ue.jsx("label",{htmlFor:"title",className:"mb-4",children:"title"}),ue.jsx("input",{name:"title",type:"text",className:"border border-amber-800 mb-4 rounded h-1/12 pl-2",value:s,onChange:d=>o(d.target.value)}),ue.jsx("label",{htmlFor:"description",className:"mb-4",children:"description"}),ue.jsx("textarea",{name:"description",type:"text",className:"border border-amber-800 mb-4 rounded h-3/5 resize-none pl-2 pt-2",value:c,onChange:d=>h(d.target.value)}),ue.jsxs("div",{className:"flex justify-around",children:[ue.jsx("button",{onClick:()=>{i()},className:"cursor-pointer rounded bg-red-400 hover:bg-red-600 text-white px-4 py-2 w-1/3",children:"Cancel"}),ue.jsx("button",{onClick:()=>{i({title:s,description:c})},className:"cursor-pointer rounded bg-blue-400 hover:bg-blue-600 text-white px-4 py-2 w-1/3",children:"Save"})]})]})]})})}const M_="modulepreload",N_=function(l){return"/chess-opening-compliation/"+l},iv={},Jl=function(i,a,s){let o=Promise.resolve();if(a&&a.length>0){let v=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};var h=v;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),g=d?.nonce||d?.getAttribute("nonce");o=v(a.map(p=>{if(p=N_(p),p in iv)return;iv[p]=!0;const b=p.endsWith(".css"),_=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const S=document.createElement("link");if(S.rel=b?"stylesheet":M_,b||(S.as="script"),S.crossOrigin="",S.href=p,g&&S.setAttribute("nonce",g),document.head.appendChild(S),b)return new Promise((R,L)=>{S.addEventListener("load",R),S.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d}return o.then(d=>{for(const g of d||[])g.status==="rejected"&&c(g.reason);return i().catch(c)})},L_=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...a)=>Jl(async()=>{const{default:s}=await Promise.resolve().then(()=>Cr);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)};class Kf extends Error{constructor(i,a="FunctionsError",s){super(i),this.name=a,this.context=s}}class U_ extends Kf{constructor(i){super("Failed to send a request to the Edge Function","FunctionsFetchError",i)}}class av extends Kf{constructor(i){super("Relay Error invoking the Edge Function","FunctionsRelayError",i)}}class rv extends Kf{constructor(i){super("Edge Function returned a non-2xx status code","FunctionsHttpError",i)}}var bf;(function(l){l.Any="any",l.ApNortheast1="ap-northeast-1",l.ApNortheast2="ap-northeast-2",l.ApSouth1="ap-south-1",l.ApSoutheast1="ap-southeast-1",l.ApSoutheast2="ap-southeast-2",l.CaCentral1="ca-central-1",l.EuCentral1="eu-central-1",l.EuWest1="eu-west-1",l.EuWest2="eu-west-2",l.EuWest3="eu-west-3",l.SaEast1="sa-east-1",l.UsEast1="us-east-1",l.UsWest1="us-west-1",l.UsWest2="us-west-2"})(bf||(bf={}));var z_=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};class q_{constructor(i,{headers:a={},customFetch:s,region:o=bf.Any}={}){this.url=i,this.headers=a,this.region=o,this.fetch=L_(s)}setAuth(i){this.headers.Authorization=`Bearer ${i}`}invoke(i,a={}){var s;return z_(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:h}=a;let d={},{region:g}=a;g||(g=this.region);const v=new URL(`${this.url}/${i}`);g&&g!=="any"&&(d["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let p;h&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=h):typeof h=="string"?(d["Content-Type"]="text/plain",p=h):typeof FormData<"u"&&h instanceof FormData?p=h:(d["Content-Type"]="application/json",p=JSON.stringify(h)));const b=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:p}).catch(L=>{throw new U_(L)}),_=b.headers.get("x-relay-error");if(_&&_==="true")throw new av(b);if(!b.ok)throw new rv(b);let S=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),R;return S==="application/json"?R=yield b.json():S==="application/octet-stream"?R=yield b.blob():S==="text/event-stream"?R=b:S==="multipart/form-data"?R=yield b.formData():R=yield b.text(),{data:R,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof rv||o instanceof av?o.context:void 0}}})}}var kt={},cr={},fr={},hr={},dr={},gr={},B_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ar=B_();const $_=Ar.fetch,vy=Ar.fetch.bind(Ar),yy=Ar.Headers,H_=Ar.Request,K_=Ar.Response,Cr=Object.freeze(Object.defineProperty({__proto__:null,Headers:yy,Request:H_,Response:K_,default:vy,fetch:$_},Symbol.toStringTag,{value:"Module"})),G_=qm(Cr);var fo={},lv;function py(){if(lv)return fo;lv=1,Object.defineProperty(fo,"__esModule",{value:!0});class l extends Error{constructor(a){super(a.message),this.name="PostgrestError",this.details=a.details,this.hint=a.hint,this.code=a.code}}return fo.default=l,fo}var sv;function my(){if(sv)return gr;sv=1;var l=gr&&gr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(gr,"__esModule",{value:!0});const i=l(G_),a=l(py());class s{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=i.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,h){return this.headers=Object.assign({},this.headers),this.headers[c]=h,this}then(c,h){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let g=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var p,b,_;let S=null,R=null,L=null,U=v.status,Z=v.statusText;if(v.ok){if(this.method!=="HEAD"){const X=await v.text();X===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?R=X:R=JSON.parse(X))}const H=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),J=(b=v.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");H&&J&&J.length>1&&(L=parseInt(J[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(R)&&(R.length>1?(S={code:"PGRST116",details:`Results contain ${R.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},R=null,L=null,U=406,Z="Not Acceptable"):R.length===1?R=R[0]:R=null)}else{const H=await v.text();try{S=JSON.parse(H),Array.isArray(S)&&v.status===404&&(R=[],S=null,U=200,Z="OK")}catch{v.status===404&&H===""?(U=204,Z="No Content"):S={message:H}}if(S&&this.isMaybeSingle&&(!((_=S?.details)===null||_===void 0)&&_.includes("0 rows"))&&(S=null,U=200,Z="OK"),S&&this.shouldThrowOnError)throw new a.default(S)}return{error:S,data:R,count:L,status:U,statusText:Z}});return this.shouldThrowOnError||(g=g.catch(v=>{var p,b,_;return{error:{message:`${(p=v?.name)!==null&&p!==void 0?p:"FetchError"}: ${v?.message}`,details:`${(b=v?.stack)!==null&&b!==void 0?b:""}`,hint:"",code:`${(_=v?.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),g.then(c,h)}returns(){return this}overrideTypes(){return this}}return gr.default=s,gr}var ov;function by(){if(ov)return dr;ov=1;var l=dr&&dr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(dr,"__esModule",{value:!0});const i=l(my());class a extends i.default{select(o){let c=!1;const h=(o??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",h),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:h,foreignTable:d,referencedTable:g=d}={}){const v=g?`${g}.order`:"order",p=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${p?`${p},`:""}${o}.${c?"asc":"desc"}${h===void 0?"":h?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:h=c}={}){const d=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(d,`${o}`),this}range(o,c,{foreignTable:h,referencedTable:d=h}={}){const g=typeof d>"u"?"offset":`${d}.offset`,v=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(g,`${o}`),this.url.searchParams.set(v,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:h=!1,buffers:d=!1,wal:g=!1,format:v="text"}={}){var p;const b=[o?"analyze":null,c?"verbose":null,h?"settings":null,d?"buffers":null,g?"wal":null].filter(Boolean).join("|"),_=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${v}; for="${_}"; options=${b};`,v==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return dr.default=a,dr}var uv;function Gf(){if(uv)return hr;uv=1;var l=hr&&hr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(hr,"__esModule",{value:!0});const i=l(by());class a extends i.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const h=Array.from(new Set(c)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(o,`in.(${h})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:h,type:d}={}){let g="";d==="plain"?g="pl":d==="phrase"?g="ph":d==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(o,`${g}fts${v}.${c}`),this}match(o){return Object.entries(o).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(o,c,h){return this.url.searchParams.append(o,`not.${c}.${h}`),this}or(o,{foreignTable:c,referencedTable:h=c}={}){const d=h?`${h}.or`:"or";return this.url.searchParams.append(d,`(${o})`),this}filter(o,c,h){return this.url.searchParams.append(o,`${c}.${h}`),this}}return hr.default=a,hr}var cv;function _y(){if(cv)return fr;cv=1;var l=fr&&fr.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(fr,"__esModule",{value:!0});const i=l(Gf());class a{constructor(o,{headers:c={},schema:h,fetch:d}){this.url=o,this.headers=c,this.schema=h,this.fetch=d}select(o,{head:c=!1,count:h}={}){const d=c?"HEAD":"GET";let g=!1;const v=(o??"*").split("").map(p=>/\s/.test(p)&&!g?"":(p==='"'&&(g=!g),p)).join("");return this.url.searchParams.set("select",v),h&&(this.headers.Prefer=`count=${h}`),new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:h=!0}={}){const d="POST",g=[];if(this.headers.Prefer&&g.push(this.headers.Prefer),c&&g.push(`count=${c}`),h||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const v=o.reduce((p,b)=>p.concat(Object.keys(b)),[]);if(v.length>0){const p=[...new Set(v)].map(b=>`"${b}"`);this.url.searchParams.set("columns",p.join(","))}}return new i.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:h=!1,count:d,defaultToNull:g=!0}={}){const v="POST",p=[`resolution=${h?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),g||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const b=o.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(b.length>0){const _=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new i.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const h="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),c&&d.push(`count=${c}`),this.headers.Prefer=d.join(","),new i.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",h=[];return o&&h.push(`count=${o}`),this.headers.Prefer&&h.unshift(this.headers.Prefer),this.headers.Prefer=h.join(","),new i.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return fr.default=a,fr}var Rl={},Dl={},fv;function Y_(){return fv||(fv=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.version=void 0,Dl.version="0.0.0-automated"),Dl}var hv;function Q_(){if(hv)return Rl;hv=1,Object.defineProperty(Rl,"__esModule",{value:!0}),Rl.DEFAULT_HEADERS=void 0;const l=Y_();return Rl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${l.version}`},Rl}var dv;function X_(){if(dv)return cr;dv=1;var l=cr&&cr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(cr,"__esModule",{value:!0});const i=l(_y()),a=l(Gf()),s=Q_();class o{constructor(h,{headers:d={},schema:g,fetch:v}={}){this.url=h,this.headers=Object.assign(Object.assign({},s.DEFAULT_HEADERS),d),this.schemaName=g,this.fetch=v}from(h){const d=new URL(`${this.url}/${h}`);return new i.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(h){return new o(this.url,{headers:this.headers,schema:h,fetch:this.fetch})}rpc(h,d={},{head:g=!1,get:v=!1,count:p}={}){let b;const _=new URL(`${this.url}/rpc/${h}`);let S;g||v?(b=g?"HEAD":"GET",Object.entries(d).filter(([L,U])=>U!==void 0).map(([L,U])=>[L,Array.isArray(U)?`{${U.join(",")}}`:`${U}`]).forEach(([L,U])=>{_.searchParams.append(L,U)})):(b="POST",S=d);const R=Object.assign({},this.headers);return p&&(R.Prefer=`count=${p}`),new a.default({method:b,url:_,headers:R,schema:this.schemaName,body:S,fetch:this.fetch,allowEmpty:!1})}}return cr.default=o,cr}var gv;function V_(){if(gv)return kt;gv=1;var l=kt&&kt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(kt,"__esModule",{value:!0}),kt.PostgrestError=kt.PostgrestBuilder=kt.PostgrestTransformBuilder=kt.PostgrestFilterBuilder=kt.PostgrestQueryBuilder=kt.PostgrestClient=void 0;const i=l(X_());kt.PostgrestClient=i.default;const a=l(_y());kt.PostgrestQueryBuilder=a.default;const s=l(Gf());kt.PostgrestFilterBuilder=s.default;const o=l(by());kt.PostgrestTransformBuilder=o.default;const c=l(my());kt.PostgrestBuilder=c.default;const h=l(py());return kt.PostgrestError=h.default,kt.default={PostgrestClient:i.default,PostgrestQueryBuilder:a.default,PostgrestFilterBuilder:s.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:h.default},kt}var P_=V_();const Z_=jv(P_),{PostgrestClient:J_,PostgrestQueryBuilder:q2,PostgrestFilterBuilder:B2,PostgrestTransformBuilder:$2,PostgrestBuilder:H2,PostgrestError:K2}=Z_;function I_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const W_=I_(),F_="2.11.15",eS=`realtime-js/${F_}`,tS="1.0.0",Sy=1e4,nS=1e3;var ql;(function(l){l[l.connecting=0]="connecting",l[l.open=1]="open",l[l.closing=2]="closing",l[l.closed=3]="closed"})(ql||(ql={}));var Yt;(function(l){l.closed="closed",l.errored="errored",l.joined="joined",l.joining="joining",l.leaving="leaving"})(Yt||(Yt={}));var Ln;(function(l){l.close="phx_close",l.error="phx_error",l.join="phx_join",l.reply="phx_reply",l.leave="phx_leave",l.access_token="access_token"})(Ln||(Ln={}));var _f;(function(l){l.websocket="websocket"})(_f||(_f={}));var Ea;(function(l){l.Connecting="connecting",l.Open="open",l.Closing="closing",l.Closed="closed"})(Ea||(Ea={}));class iS{constructor(){this.HEADER_LENGTH=1}decode(i,a){return i.constructor===ArrayBuffer?a(this._binaryDecode(i)):a(typeof i=="string"?JSON.parse(i):{})}_binaryDecode(i){const a=new DataView(i),s=new TextDecoder;return this._decodeBroadcast(i,a,s)}_decodeBroadcast(i,a,s){const o=a.getUint8(1),c=a.getUint8(2);let h=this.HEADER_LENGTH+2;const d=s.decode(i.slice(h,h+o));h=h+o;const g=s.decode(i.slice(h,h+c));h=h+c;const v=JSON.parse(s.decode(i.slice(h,i.byteLength)));return{ref:null,topic:d,event:g,payload:v}}}class wy{constructor(i,a){this.callback=i,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=i,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(l){l.abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange"})(Je||(Je={}));const vv=(l,i,a={})=>{var s;const o=(s=a.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(i).reduce((c,h)=>(c[h]=aS(h,l,i,o),c),{})},aS=(l,i,a,s)=>{const o=i.find(d=>d.name===l),c=o?.type,h=a[l];return c&&!s.includes(c)?Ey(c,h):Sf(h)},Ey=(l,i)=>{if(l.charAt(0)==="_"){const a=l.slice(1,l.length);return oS(i,a)}switch(l){case Je.bool:return rS(i);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return lS(i);case Je.json:case Je.jsonb:return sS(i);case Je.timestamp:return uS(i);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Sf(i);default:return Sf(i)}},Sf=l=>l,rS=l=>{switch(l){case"t":return!0;case"f":return!1;default:return l}},lS=l=>{if(typeof l=="string"){const i=parseFloat(l);if(!Number.isNaN(i))return i}return l},sS=l=>{if(typeof l=="string")try{return JSON.parse(l)}catch(i){return console.log(`JSON parse error: ${i}`),l}return l},oS=(l,i)=>{if(typeof l!="string")return l;const a=l.length-1,s=l[a];if(l[0]==="{"&&s==="}"){let c;const h=l.slice(1,a);try{c=JSON.parse("["+h+"]")}catch{c=h?h.split(","):[]}return c.map(d=>Ey(i,d))}return l},uS=l=>typeof l=="string"?l.replace(" ","T"):l,Ay=l=>{let i=l;return i=i.replace(/^ws/i,"http"),i=i.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),i.replace(/\/+$/,"")};class lf{constructor(i,a,s={},o=Sy){this.channel=i,this.event=a,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(i){this.timeout=i,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(i){this.payload=Object.assign(Object.assign({},this.payload),i)}receive(i,a){var s;return this._hasReceived(i)&&a((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:i,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const i=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},i),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(i,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:i,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:i,response:a}){this.recHooks.filter(s=>s.status===i).forEach(s=>s.callback(a))}_hasReceived(i){return this.receivedResp&&this.receivedResp.status===i}}var yv;(function(l){l.SYNC="sync",l.JOIN="join",l.LEAVE="leave"})(yv||(yv={}));class Bl{constructor(i,a){this.channel=i,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bl.syncState(this.state,o,c,h),this.pendingDiffs.forEach(g=>{this.state=Bl.syncDiff(this.state,g,c,h)}),this.pendingDiffs=[],d()}),this.channel._on(s.diff,{},o=>{const{onJoin:c,onLeave:h,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Bl.syncDiff(this.state,o,c,h),d())}),this.onJoin((o,c,h)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:h})}),this.onLeave((o,c,h)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(i,a,s,o){const c=this.cloneDeep(i),h=this.transformState(a),d={},g={};return this.map(c,(v,p)=>{h[v]||(g[v]=p)}),this.map(h,(v,p)=>{const b=c[v];if(b){const _=p.map(U=>U.presence_ref),S=b.map(U=>U.presence_ref),R=p.filter(U=>S.indexOf(U.presence_ref)<0),L=b.filter(U=>_.indexOf(U.presence_ref)<0);R.length>0&&(d[v]=R),L.length>0&&(g[v]=L)}else d[v]=p}),this.syncDiff(c,{joins:d,leaves:g},s,o)}static syncDiff(i,a,s,o){const{joins:c,leaves:h}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(c,(d,g)=>{var v;const p=(v=i[d])!==null&&v!==void 0?v:[];if(i[d]=this.cloneDeep(g),p.length>0){const b=i[d].map(S=>S.presence_ref),_=p.filter(S=>b.indexOf(S.presence_ref)<0);i[d].unshift(..._)}s(d,p,g)}),this.map(h,(d,g)=>{let v=i[d];if(!v)return;const p=g.map(b=>b.presence_ref);v=v.filter(b=>p.indexOf(b.presence_ref)<0),i[d]=v,o(d,v,g),v.length===0&&delete i[d]}),i}static map(i,a){return Object.getOwnPropertyNames(i).map(s=>a(s,i[s]))}static transformState(i){return i=this.cloneDeep(i),Object.getOwnPropertyNames(i).reduce((a,s)=>{const o=i[s];return"metas"in o?a[s]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):a[s]=o,a},{})}static cloneDeep(i){return JSON.parse(JSON.stringify(i))}onJoin(i){this.caller.onJoin=i}onLeave(i){this.caller.onLeave=i}onSync(i){this.caller.onSync=i}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pv;(function(l){l.ALL="*",l.INSERT="INSERT",l.UPDATE="UPDATE",l.DELETE="DELETE"})(pv||(pv={}));var mv;(function(l){l.BROADCAST="broadcast",l.PRESENCE="presence",l.POSTGRES_CHANGES="postgres_changes",l.SYSTEM="system"})(mv||(mv={}));var mi;(function(l){l.SUBSCRIBED="SUBSCRIBED",l.TIMED_OUT="TIMED_OUT",l.CLOSED="CLOSED",l.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class Yf{constructor(i,a={config:{}},s){this.topic=i,this.params=a,this.socket=s,this.bindings={},this.state=Yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=i.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new lf(this,Ln.join,this.params,this.timeout),this.rejoinTimer=new wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ln.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Bl(this),this.broadcastEndpointURL=Ay(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(i,a=this.timeout){var s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Yt.closed){const{config:{broadcast:c,presence:h,private:d}}=this.params;this._onError(p=>i?.(mi.CHANNEL_ERROR,p)),this._onClose(()=>i?.(mi.CLOSED));const g={},v={broadcast:c,presence:h,postgres_changes:(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&o!==void 0?o:[],private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:p})=>{var b;if(this.socket.setAuth(),p===void 0){i?.(mi.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,S=(b=_?.length)!==null&&b!==void 0?b:0,R=[];for(let L=0;L<S;L++){const U=_[L],{filter:{event:Z,schema:W,table:H,filter:J}}=U,X=p&&p[L];if(X&&X.event===Z&&X.schema===W&&X.table===H&&X.filter===J)R.push(Object.assign(Object.assign({},U),{id:X.id}));else{this.unsubscribe(),this.state=Yt.errored,i?.(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,i&&i(mi.SUBSCRIBED);return}}).receive("error",p=>{this.state=Yt.errored,i?.(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{i?.(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(i,a={}){return await this.send({type:"presence",event:"track",payload:i},a.timeout||this.timeout)}async untrack(i={}){return await this.send({type:"presence",event:"untrack"},i)}on(i,a,s){return this._on(i,a,s)}async send(i,a={}){var s,o;if(!this._canPush()&&i.type==="broadcast"){const{event:c,payload:h}=i,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:h,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(s=a.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=v.body)===null||o===void 0?void 0:o.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var h,d,g;const v=this._push(i.type,i,a.timeout||this.timeout);i.type==="broadcast"&&!(!((g=(d=(h=this.params)===null||h===void 0?void 0:h.config)===null||d===void 0?void 0:d.broadcast)===null||g===void 0)&&g.ack)&&c("ok"),v.receive("ok",()=>c("ok")),v.receive("error",()=>c("error")),v.receive("timeout",()=>c("timed out"))})}updateJoinPayload(i){this.joinPush.updatePayload(i)}unsubscribe(i=this.timeout){this.state=Yt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ln.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new lf(this,Ln.leave,{},i),s.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s?.destroy()})}teardown(){this.pushBuffer.forEach(i=>i.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(i,a,s){const o=new AbortController,c=setTimeout(()=>o.abort(),s),h=await this.socket.fetch(i,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(c),h}_push(i,a,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${i}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new lf(this,i,a,s);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(i,a,s){return a}_isMember(i){return this.topic===i}_joinRef(){return this.joinPush.ref}_trigger(i,a,s){var o,c;const h=i.toLocaleLowerCase(),{close:d,error:g,leave:v,join:p}=Ln;if(s&&[d,g,v,p].indexOf(h)>=0&&s!==this._joinRef())return;let _=this._onMessage(h,a,s);if(a&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var R,L,U;return((R=S.filter)===null||R===void 0?void 0:R.event)==="*"||((U=(L=S.filter)===null||L===void 0?void 0:L.event)===null||U===void 0?void 0:U.toLocaleLowerCase())===h}).map(S=>S.callback(_,s)):(c=this.bindings[h])===null||c===void 0||c.filter(S=>{var R,L,U,Z,W,H;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in S){const J=S.id,X=(R=S.filter)===null||R===void 0?void 0:R.event;return J&&((L=a.ids)===null||L===void 0?void 0:L.includes(J))&&(X==="*"||X?.toLocaleLowerCase()===((U=a.data)===null||U===void 0?void 0:U.type.toLocaleLowerCase()))}else{const J=(W=(Z=S?.filter)===null||Z===void 0?void 0:Z.event)===null||W===void 0?void 0:W.toLocaleLowerCase();return J==="*"||J===((H=a?.event)===null||H===void 0?void 0:H.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===h}).map(S=>{if(typeof _=="object"&&"ids"in _){const R=_.data,{schema:L,table:U,commit_timestamp:Z,type:W,errors:H}=R;_=Object.assign(Object.assign({},{schema:L,table:U,commit_timestamp:Z,eventType:W,new:{},old:{},errors:H}),this._getPayloadRecords(R))}S.callback(_,s)})}_isClosed(){return this.state===Yt.closed}_isJoined(){return this.state===Yt.joined}_isJoining(){return this.state===Yt.joining}_isLeaving(){return this.state===Yt.leaving}_replyEventName(i){return`chan_reply_${i}`}_on(i,a,s){const o=i.toLocaleLowerCase(),c={type:o,filter:a,callback:s};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(i,a){const s=i.toLocaleLowerCase();return this.bindings[s]=this.bindings[s].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===s&&Yf.isEqual(o.filter,a))}),this}static isEqual(i,a){if(Object.keys(i).length!==Object.keys(a).length)return!1;for(const s in i)if(i[s]!==a[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(i){this._on(Ln.close,{},i)}_onError(i){this._on(Ln.error,{},a=>i(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(i=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yt.joining,this.joinPush.resend(i))}_getPayloadRecords(i){const a={new:{},old:{}};return(i.type==="INSERT"||i.type==="UPDATE")&&(a.new=vv(i.columns,i.record)),(i.type==="UPDATE"||i.type==="DELETE")&&(a.old=vv(i.columns,i.old_record)),a}}const bv=()=>{},cS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fS{constructor(i,a){var s;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Sy,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bv,this.ref=0,this.logger=bv,this.conn=null,this.sendBuffer=[],this.serializer=new iS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let h;return c?h=c:typeof fetch>"u"?h=(...d)=>Jl(async()=>{const{default:g}=await Promise.resolve().then(()=>Cr);return{default:g}},void 0).then(({default:g})=>g(...d)):h=fetch,(...d)=>h(...d)},this.endPoint=`${i}/${_f.websocket}`,this.httpEndpoint=Ay(i),a?.transport?this.transport=a.transport:this.transport=null,a?.params&&(this.params=a.params),a?.timeout&&(this.timeout=a.timeout),a?.logger&&(this.logger=a.logger),(a?.logLevel||a?.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const o=(s=a?.params)===null||s===void 0?void 0:s.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=a?.reconnectAfterMs?a.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=a?.encode?a.encode:(c,h)=>h(JSON.stringify(c)),this.decode=a?.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new wy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a?.fetch),a?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=a?.worker||!1,this.workerUrl=a?.workerUrl}this.accessToken=a?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=W_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tS}))}disconnect(i,a){this.conn&&(this.conn.onclose=function(){},i?this.conn.close(i,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(s=>s.teardown()))}getChannels(){return this.channels}async removeChannel(i){const a=await i.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const i=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),i}log(i,a,s){this.logger(i,a,s)}connectionState(){switch(this.conn&&this.conn.readyState){case ql.connecting:return Ea.Connecting;case ql.open:return Ea.Open;case ql.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}channel(i,a={config:{}}){const s=`realtime:${i}`,o=this.getChannels().find(c=>c.topic===s);if(o)return o;{const c=new Yf(`realtime:${i}`,a,this);return this.channels.push(c),c}}push(i){const{topic:a,event:s,payload:o,ref:c}=i,h=()=>{this.encode(i,d=>{var g;(g=this.conn)===null||g===void 0||g.send(d)})};this.log("push",`${a} ${s} (${c})`,o),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(i=null){let a=i||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(s=>{const o={access_token:a,version:eS};a&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Ln.access_token,{access_token:a})}))}async sendHeartbeat(){var i;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(i=this.conn)===null||i===void 0||i.close(nS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(i){this.heartbeatCallback=i}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(i=>i()),this.sendBuffer=[])}_makeRef(){let i=this.ref+1;return i===this.ref?this.ref=0:this.ref=i,this.ref.toString()}_leaveOpenTopic(i){let a=this.channels.find(s=>s.topic===i&&(s._isJoined()||s._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${i}"`),a.unsubscribe())}_remove(i){this.channels=this.channels.filter(a=>a.topic!==i.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=i=>this._onConnError(i),this.conn.onmessage=i=>this._onConnMessage(i),this.conn.onclose=i=>this._onConnClose(i))}_onConnMessage(i){this.decode(i.data,a=>{let{topic:s,event:o,payload:c,ref:h}=a;s==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),h&&h===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${s} ${o} ${h&&"("+h+")"||""}`,c),Array.from(this.channels).filter(d=>d._isMember(s)).forEach(d=>d._trigger(o,c,h)),this.stateChangeCallbacks.message.forEach(d=>d(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(i=>i())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const i=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(i),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(i){this.log("transport","close",i),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(i))}_onConnError(i){this.log("transport",`${i}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(i))}_triggerChanError(){this.channels.forEach(i=>i._trigger(Ln.error))}_appendParams(i,a){if(Object.keys(a).length===0)return i;const s=i.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${i}${s}${o}`}_workerObjectUrl(i){let a;if(i)a=i;else{const s=new Blob([cS],{type:"application/javascript"});a=URL.createObjectURL(s)}return a}}class Qf extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}}function Nt(l){return typeof l=="object"&&l!==null&&"__isStorageError"in l}class hS extends Qf{constructor(i,a){super(i),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wf extends Qf{constructor(i,a){super(i),this.name="StorageUnknownError",this.originalError=a}}var dS=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};const Ty=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...a)=>Jl(async()=>{const{default:s}=await Promise.resolve().then(()=>Cr);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)},gS=()=>dS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Jl(()=>Promise.resolve().then(()=>Cr),void 0)).Response:Response}),Ef=l=>{if(Array.isArray(l))return l.map(a=>Ef(a));if(typeof l=="function"||l!==Object(l))return l;const i={};return Object.entries(l).forEach(([a,s])=>{const o=a.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));i[o]=Ef(s)}),i};var Ta=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};const sf=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),vS=(l,i,a)=>Ta(void 0,void 0,void 0,function*(){const s=yield gS();l instanceof s&&!a?.noResolveJson?l.json().then(o=>{i(new hS(sf(o),l.status||500))}).catch(o=>{i(new wf(sf(o),o))}):i(new wf(sf(l),l))}),yS=(l,i,a,s)=>{const o={method:l,headers:i?.headers||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json"},i?.headers),s&&(o.body=JSON.stringify(s)),Object.assign(Object.assign({},o),a))};function Il(l,i,a,s,o,c){return Ta(this,void 0,void 0,function*(){return new Promise((h,d)=>{l(a,yS(i,s,o,c)).then(g=>{if(!g.ok)throw g;return s?.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>vS(g,d,s))})})}function xo(l,i,a,s){return Ta(this,void 0,void 0,function*(){return Il(l,"GET",i,a,s)})}function Ji(l,i,a,s,o){return Ta(this,void 0,void 0,function*(){return Il(l,"POST",i,s,o,a)})}function pS(l,i,a,s,o){return Ta(this,void 0,void 0,function*(){return Il(l,"PUT",i,s,o,a)})}function mS(l,i,a,s){return Ta(this,void 0,void 0,function*(){return Il(l,"HEAD",i,Object.assign(Object.assign({},a),{noResolveJson:!0}),s)})}function xy(l,i,a,s,o){return Ta(this,void 0,void 0,function*(){return Il(l,"DELETE",i,s,o,a)})}var en=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};const bS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},_v={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _S{constructor(i,a={},s,o){this.url=i,this.headers=a,this.bucketId=s,this.fetch=Ty(o)}uploadOrUpdate(i,a,s,o){return en(this,void 0,void 0,function*(){try{let c;const h=Object.assign(Object.assign({},_v),o);let d=Object.assign(Object.assign({},this.headers),i==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",h.cacheControl),g&&c.append("metadata",this.encodeMetadata(g))):(c=s,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType,g&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),o?.headers&&(d=Object.assign(Object.assign({},d),o.headers));const v=this._removeEmptyFolders(a),p=this._getFinalPath(v),b=yield this.fetch(`${this.url}/object/${p}`,Object.assign({method:i,body:c,headers:d},h?.duplex?{duplex:h.duplex}:{})),_=yield b.json();return b.ok?{data:{path:v,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}upload(i,a,s){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",i,a,s)})}uploadToSignedUrl(i,a,s,o){return en(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(i),h=this._getFinalPath(c),d=new URL(this.url+`/object/upload/sign/${h}`);d.searchParams.set("token",a);try{let g;const v=Object.assign({upsert:_v.upsert},o),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&s instanceof Blob?(g=new FormData,g.append("cacheControl",v.cacheControl),g.append("",s)):typeof FormData<"u"&&s instanceof FormData?(g=s,g.append("cacheControl",v.cacheControl)):(g=s,p["cache-control"]=`max-age=${v.cacheControl}`,p["content-type"]=v.contentType);const b=yield this.fetch(d.toString(),{method:"PUT",body:g,headers:p}),_=yield b.json();return b.ok?{data:{path:c,fullPath:_.Key},error:null}:{data:null,error:_}}catch(g){if(Nt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(i,a){return en(this,void 0,void 0,function*(){try{let s=this._getFinalPath(i);const o=Object.assign({},this.headers);a?.upsert&&(o["x-upsert"]="true");const c=yield Ji(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:o}),h=new URL(this.url+c.url),d=h.searchParams.get("token");if(!d)throw new Qf("No token returned by API");return{data:{signedUrl:h.toString(),path:i,token:d},error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}update(i,a,s){return en(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",i,a,s)})}move(i,a,s){return en(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}copy(i,a,s){return en(this,void 0,void 0,function*(){try{return{data:{path:(yield Ji(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:i,destinationKey:a,destinationBucket:s?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}createSignedUrl(i,a,s){return en(this,void 0,void 0,function*(){try{let o=this._getFinalPath(i),c=yield Ji(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:a},s?.transform?{transform:s.transform}:{}),{headers:this.headers});const h=s?.download?`&download=${s.download===!0?"":s.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${h}`)},{data:c,error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}createSignedUrls(i,a,s){return en(this,void 0,void 0,function*(){try{const o=yield Ji(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:i},{headers:this.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{data:o.map(h=>Object.assign(Object.assign({},h),{signedUrl:h.signedURL?encodeURI(`${this.url}${h.signedURL}${c}`):null})),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}download(i,a){return en(this,void 0,void 0,function*(){const o=typeof a?.transform<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString(a?.transform||{}),h=c?`?${c}`:"";try{const d=this._getFinalPath(i);return{data:yield(yield xo(this.fetch,`${this.url}/${o}/${d}${h}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Nt(d))return{data:null,error:d};throw d}})}info(i){return en(this,void 0,void 0,function*(){const a=this._getFinalPath(i);try{const s=yield xo(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Ef(s),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}exists(i){return en(this,void 0,void 0,function*(){const a=this._getFinalPath(i);try{return yield mS(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Nt(s)&&s instanceof wf){const o=s.originalError;if([400,404].includes(o?.status))return{data:!1,error:s}}throw s}})}getPublicUrl(i,a){const s=this._getFinalPath(i),o=[],c=a?.download?`download=${a.download===!0?"":a.download}`:"";c!==""&&o.push(c);const d=typeof a?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(a?.transform||{});g!==""&&o.push(g);let v=o.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${s}${v}`)}}}remove(i){return en(this,void 0,void 0,function*(){try{return{data:yield xy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:i},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}list(i,a,s){return en(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},bS),a),{prefix:i||""});return{data:yield Ji(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},s),error:null}}catch(o){if(Nt(o))return{data:null,error:o};throw o}})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const a=[];return i.width&&a.push(`width=${i.width}`),i.height&&a.push(`height=${i.height}`),i.resize&&a.push(`resize=${i.resize}`),i.format&&a.push(`format=${i.format}`),i.quality&&a.push(`quality=${i.quality}`),a.join("&")}}const SS="2.7.1",wS={"X-Client-Info":`storage-js/${SS}`};var vr=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};class ES{constructor(i,a={},s){this.url=i,this.headers=Object.assign(Object.assign({},wS),a),this.fetch=Ty(s)}listBuckets(){return vr(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}getBucket(i){return vr(this,void 0,void 0,function*(){try{return{data:yield xo(this.fetch,`${this.url}/bucket/${i}`,{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}createBucket(i,a={public:!1}){return vr(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}updateBucket(i,a){return vr(this,void 0,void 0,function*(){try{return{data:yield pS(this.fetch,`${this.url}/bucket/${i}`,{id:i,name:i,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}emptyBucket(i){return vr(this,void 0,void 0,function*(){try{return{data:yield Ji(this.fetch,`${this.url}/bucket/${i}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}deleteBucket(i){return vr(this,void 0,void 0,function*(){try{return{data:yield xy(this.fetch,`${this.url}/bucket/${i}`,{},{headers:this.headers}),error:null}}catch(a){if(Nt(a))return{data:null,error:a};throw a}})}}class AS extends ES{constructor(i,a={},s){super(i,a,s)}from(i){return new _S(this.url,this.headers,i,this.fetch)}}const TS="2.52.0";let Nl="";typeof Deno<"u"?Nl="deno":typeof document<"u"?Nl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nl="react-native":Nl="node";const xS={"X-Client-Info":`supabase-js-${Nl}/${TS}`},OS={headers:xS},CS={schema:"public"},RS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},DS={};var jS=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};const kS=l=>{let i;return l?i=l:typeof fetch>"u"?i=vy:i=fetch,(...a)=>i(...a)},MS=()=>typeof Headers>"u"?yy:Headers,NS=(l,i,a)=>{const s=kS(a),o=MS();return(c,h)=>jS(void 0,void 0,void 0,function*(){var d;const g=(d=yield i())!==null&&d!==void 0?d:l;let v=new o(h?.headers);return v.has("apikey")||v.set("apikey",l),v.has("Authorization")||v.set("Authorization",`Bearer ${g}`),s(c,Object.assign(Object.assign({},h),{headers:v}))})};var LS=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};function US(l){return l.endsWith("/")?l:l+"/"}function zS(l,i){var a,s;const{db:o,auth:c,realtime:h,global:d}=l,{db:g,auth:v,realtime:p,global:b}=i,_={db:Object.assign(Object.assign({},g),o),auth:Object.assign(Object.assign({},v),c),realtime:Object.assign(Object.assign({},p),h),global:Object.assign(Object.assign(Object.assign({},b),d),{headers:Object.assign(Object.assign({},(a=b?.headers)!==null&&a!==void 0?a:{}),(s=d?.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>LS(this,void 0,void 0,function*(){return""})};return l.accessToken?_.accessToken=l.accessToken:delete _.accessToken,_}const Oy="2.71.1",_r=30*1e3,Af=3,of=Af*_r,qS="http://localhost:9999",BS="supabase.auth.token",$S={"X-Client-Info":`gotrue-js/${Oy}`},Tf="X-Supabase-Api-Version",Cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,KS=10*60*1e3;class Xf extends Error{constructor(i,a,s){super(i),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=s}}function me(l){return typeof l=="object"&&l!==null&&"__isAuthError"in l}class GS extends Xf{constructor(i,a,s){super(i,a,s),this.name="AuthApiError",this.status=a,this.code=s}}function YS(l){return me(l)&&l.name==="AuthApiError"}class Ry extends Xf{constructor(i,a){super(i),this.name="AuthUnknownError",this.originalError=a}}class Wi extends Xf{constructor(i,a,s,o){super(i,s,o),this.name=a,this.status=s}}class Vi extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QS(l){return me(l)&&l.name==="AuthSessionMissingError"}class ho extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class go extends Wi{constructor(i){super(i,"AuthInvalidCredentialsError",400,void 0)}}class vo extends Wi{constructor(i,a=null){super(i,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XS(l){return me(l)&&l.name==="AuthImplicitGrantRedirectError"}class Sv extends Wi{constructor(i,a=null){super(i,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xf extends Wi{constructor(i,a){super(i,"AuthRetryableFetchError",a,void 0)}}function uf(l){return me(l)&&l.name==="AuthRetryableFetchError"}class wv extends Wi{constructor(i,a,s){super(i,"AuthWeakPasswordError",a,"weak_password"),this.reasons=s}}class Of extends Wi{constructor(i){super(i,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ev=` 	
\r=`.split(""),VS=(()=>{const l=new Array(128);for(let i=0;i<l.length;i+=1)l[i]=-1;for(let i=0;i<Ev.length;i+=1)l[Ev[i].charCodeAt(0)]=-2;for(let i=0;i<Oo.length;i+=1)l[Oo[i].charCodeAt(0)]=i;return l})();function Av(l,i,a){if(l!==null)for(i.queue=i.queue<<8|l,i.queuedBits+=8;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;a(Oo[s]),i.queuedBits-=6}else if(i.queuedBits>0)for(i.queue=i.queue<<6-i.queuedBits,i.queuedBits=6;i.queuedBits>=6;){const s=i.queue>>i.queuedBits-6&63;a(Oo[s]),i.queuedBits-=6}}function Dy(l,i,a){const s=VS[l];if(s>-1)for(i.queue=i.queue<<6|s,i.queuedBits+=6;i.queuedBits>=8;)a(i.queue>>i.queuedBits-8&255),i.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(l)}"`)}}function Tv(l){const i=[],a=h=>{i.push(String.fromCodePoint(h))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=h=>{JS(h,s,a)};for(let h=0;h<l.length;h+=1)Dy(l.charCodeAt(h),o,c);return i.join("")}function PS(l,i){if(l<=127){i(l);return}else if(l<=2047){i(192|l>>6),i(128|l&63);return}else if(l<=65535){i(224|l>>12),i(128|l>>6&63),i(128|l&63);return}else if(l<=1114111){i(240|l>>18),i(128|l>>12&63),i(128|l>>6&63),i(128|l&63);return}throw new Error(`Unrecognized Unicode codepoint: ${l.toString(16)}`)}function ZS(l,i){for(let a=0;a<l.length;a+=1){let s=l.charCodeAt(a);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(l.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}PS(s,i)}}function JS(l,i,a){if(i.utf8seq===0){if(l<=127){a(l);return}for(let s=1;s<6;s+=1)if((l>>7-s&1)===0){i.utf8seq=s;break}if(i.utf8seq===2)i.codepoint=l&31;else if(i.utf8seq===3)i.codepoint=l&15;else if(i.utf8seq===4)i.codepoint=l&7;else throw new Error("Invalid UTF-8 sequence");i.utf8seq-=1}else if(i.utf8seq>0){if(l<=127)throw new Error("Invalid UTF-8 sequence");i.codepoint=i.codepoint<<6|l&63,i.utf8seq-=1,i.utf8seq===0&&a(i.codepoint)}}function IS(l){const i=[],a={queue:0,queuedBits:0},s=o=>{i.push(o)};for(let o=0;o<l.length;o+=1)Dy(l.charCodeAt(o),a,s);return new Uint8Array(i)}function WS(l){const i=[];return ZS(l,a=>i.push(a)),new Uint8Array(i)}function FS(l){const i=[],a={queue:0,queuedBits:0},s=o=>{i.push(o)};return l.forEach(o=>Av(o,a,s)),Av(null,a,s),i.join("")}function e2(l){return Math.round(Date.now()/1e3)+l}function t2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(l){const i=Math.random()*16|0;return(l=="x"?i:i&3|8).toString(16)})}const Nn=()=>typeof window<"u"&&typeof document<"u",_a={tested:!1,writable:!1},jy=()=>{if(!Nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_a.tested)return _a.writable;const l=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(l,l),globalThis.localStorage.removeItem(l),_a.tested=!0,_a.writable=!0}catch{_a.tested=!0,_a.writable=!1}return _a.writable};function n2(l){const i={},a=new URL(l);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,c)=>{i[c]=o})}catch{}return a.searchParams.forEach((s,o)=>{i[o]=s}),i}const ky=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...a)=>Jl(async()=>{const{default:s}=await Promise.resolve().then(()=>Cr);return{default:s}},void 0).then(({default:s})=>s(...a)):i=fetch,(...a)=>i(...a)},i2=l=>typeof l=="object"&&l!==null&&"status"in l&&"ok"in l&&"json"in l&&typeof l.json=="function",Sr=async(l,i,a)=>{await l.setItem(i,JSON.stringify(a))},Sa=async(l,i)=>{const a=await l.getItem(i);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Xi=async(l,i)=>{await l.removeItem(i)};class No{constructor(){this.promise=new No.promiseConstructor((i,a)=>{this.resolve=i,this.reject=a})}}No.promiseConstructor=Promise;function cf(l){const i=l.split(".");if(i.length!==3)throw new Of("Invalid JWT structure");for(let s=0;s<i.length;s++)if(!HS.test(i[s]))throw new Of("JWT not in base64url format");return{header:JSON.parse(Tv(i[0])),payload:JSON.parse(Tv(i[1])),signature:IS(i[2]),raw:{header:i[0],payload:i[1]}}}async function a2(l){return await new Promise(i=>{setTimeout(()=>i(null),l)})}function r2(l,i){return new Promise((s,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const h=await l(c);if(!i(c,null,h)){s(h);return}}catch(h){if(!i(c,h)){o(h);return}}})()})}function l2(l){return("0"+l.toString(16)).substr(-2)}function s2(){const i=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=a.length;let o="";for(let c=0;c<56;c++)o+=a.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(i),Array.from(i,l2).join("")}async function o2(l){const a=new TextEncoder().encode(l),s=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(s);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function u2(l){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),l;const a=await o2(l);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(l,i,a=!1){const s=s2();let o=s;a&&(o+="/PASSWORD_RECOVERY"),await Sr(l,`${i}-code-verifier`,o);const c=await u2(s);return[c,s===c?"plain":"s256"]}const c2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function f2(l){const i=l.headers.get(Tf);if(!i||!i.match(c2))return null;try{return new Date(`${i}T00:00:00.0Z`)}catch{return null}}function h2(l){if(!l)throw new Error("Missing exp claim");const i=Math.floor(Date.now()/1e3);if(l<=i)throw new Error("JWT has expired")}function d2(l){switch(l){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const g2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pr(l){if(!g2.test(l))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ff(){const l={};return new Proxy(l,{get:(i,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const s=a.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(i,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(i,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xv(l){return JSON.parse(JSON.stringify(l))}var v2=function(l,i){var a={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.indexOf(s)<0&&(a[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(l);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(l,s[o])&&(a[s[o]]=l[s[o]]);return a};const wa=l=>l.msg||l.message||l.error_description||l.error||JSON.stringify(l),y2=[502,503,504];async function Ov(l){var i;if(!i2(l))throw new xf(wa(l),0);if(y2.includes(l.status))throw new xf(wa(l),l.status);let a;try{a=await l.json()}catch(c){throw new Ry(wa(c),c)}let s;const o=f2(l);if(o&&o.getTime()>=Cy["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?s=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(s=a.error_code),s){if(s==="weak_password")throw new wv(wa(a),l.status,((i=a.weak_password)===null||i===void 0?void 0:i.reasons)||[]);if(s==="session_not_found")throw new Vi}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((c,h)=>c&&typeof h=="string",!0))throw new wv(wa(a),l.status,a.weak_password.reasons);throw new GS(wa(a),l.status||500,s)}const p2=(l,i,a,s)=>{const o={method:l,headers:i?.headers||{}};return l==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},i?.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),a))};async function je(l,i,a,s){var o;const c=Object.assign({},s?.headers);c[Tf]||(c[Tf]=Cy["2024-01-01"].name),s?.jwt&&(c.Authorization=`Bearer ${s.jwt}`);const h=(o=s?.query)!==null&&o!==void 0?o:{};s?.redirectTo&&(h.redirect_to=s.redirectTo);const d=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await m2(l,i,a+d,{headers:c,noResolveJson:s?.noResolveJson},{},s?.body);return s?.xform?s?.xform(g):{data:Object.assign({},g),error:null}}async function m2(l,i,a,s,o,c){const h=p2(i,s,o,c);let d;try{d=await l(a,Object.assign({},h))}catch(g){throw console.error(g),new xf(wa(g),0)}if(d.ok||await Ov(d),s?.noResolveJson)return d;try{return await d.json()}catch(g){await Ov(g)}}function pi(l){var i;let a=null;w2(l)&&(a=Object.assign({},l),l.expires_at||(a.expires_at=e2(l.expires_in)));const s=(i=l.user)!==null&&i!==void 0?i:l;return{data:{session:a,user:s},error:null}}function Cv(l){const i=pi(l);return!i.error&&l.weak_password&&typeof l.weak_password=="object"&&Array.isArray(l.weak_password.reasons)&&l.weak_password.reasons.length&&l.weak_password.message&&typeof l.weak_password.message=="string"&&l.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0)&&(i.data.weak_password=l.weak_password),i}function Ii(l){var i;return{data:{user:(i=l.user)!==null&&i!==void 0?i:l},error:null}}function b2(l){return{data:l,error:null}}function _2(l){const{action_link:i,email_otp:a,hashed_token:s,redirect_to:o,verification_type:c}=l,h=v2(l,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:i,email_otp:a,hashed_token:s,redirect_to:o,verification_type:c},g=Object.assign({},h);return{data:{properties:d,user:g},error:null}}function S2(l){return l}function w2(l){return l.access_token&&l.refresh_token&&l.expires_in}const hf=["global","local","others"];var E2=function(l,i){var a={};for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&i.indexOf(s)<0&&(a[s]=l[s]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(l);o<s.length;o++)i.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(l,s[o])&&(a[s[o]]=l[s[o]]);return a};class A2{constructor({url:i="",headers:a={},fetch:s}){this.url=i,this.headers=a,this.fetch=ky(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(i,a=hf[0]){if(hf.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hf.join(", ")}`);try{return await je(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:i,noResolveJson:!0}),{data:null,error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}async inviteUserByEmail(i,a={}){try{return await je(this.fetch,"POST",`${this.url}/invite`,{body:{email:i,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ii})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async generateLink(i){try{const{options:a}=i,s=E2(i,["options"]),o=Object.assign(Object.assign({},s),a);return"newEmail"in s&&(o.new_email=s?.newEmail,delete o.newEmail),await je(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:_2,redirectTo:a?.redirectTo})}catch(a){if(me(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(i){try{return await je(this.fetch,"POST",`${this.url}/admin/users`,{body:i,headers:this.headers,xform:Ii})}catch(a){if(me(a))return{data:{user:null},error:a};throw a}}async listUsers(i){var a,s,o,c,h,d,g;try{const v={nextPage:null,lastPage:0,total:0},p=await je(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(a=i?.page)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:"",per_page:(c=(o=i?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:S2});if(p.error)throw p.error;const b=await p.json(),_=(h=p.headers.get("x-total-count"))!==null&&h!==void 0?h:0,S=(g=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&g!==void 0?g:[];return S.length>0&&(S.forEach(R=>{const L=parseInt(R.split(";")[0].split("=")[1].substring(0,1)),U=JSON.parse(R.split(";")[1].split("=")[1]);v[`${U}Page`]=L}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},b),v),error:null}}catch(v){if(me(v))return{data:{users:[]},error:v};throw v}}async getUserById(i){pr(i);try{return await je(this.fetch,"GET",`${this.url}/admin/users/${i}`,{headers:this.headers,xform:Ii})}catch(a){if(me(a))return{data:{user:null},error:a};throw a}}async updateUserById(i,a){pr(i);try{return await je(this.fetch,"PUT",`${this.url}/admin/users/${i}`,{body:a,headers:this.headers,xform:Ii})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async deleteUser(i,a=!1){pr(i);try{return await je(this.fetch,"DELETE",`${this.url}/admin/users/${i}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ii})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async _listFactors(i){pr(i.userId);try{const{data:a,error:s}=await je(this.fetch,"GET",`${this.url}/admin/users/${i.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:s}}catch(a){if(me(a))return{data:null,error:a};throw a}}async _deleteFactor(i){pr(i.userId),pr(i.id);try{return{data:await je(this.fetch,"DELETE",`${this.url}/admin/users/${i.userId}/factors/${i.id}`,{headers:this.headers}),error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}}}function Rv(l={}){return{getItem:i=>l[i]||null,setItem:(i,a)=>{l[i]=a},removeItem:i=>{delete l[i]}}}function T2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const mr={debug:!!(globalThis&&jy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class My extends Error{constructor(i){super(i),this.isAcquireTimeout=!0}}class x2 extends My{}async function O2(l,i,a){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",l,i);const s=new globalThis.AbortController;return i>0&&setTimeout(()=>{s.abort(),mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",l)},i),await Promise.resolve().then(()=>globalThis.navigator.locks.request(l,i===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",l,o.name);try{return await a()}finally{mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",l,o.name)}}else{if(i===0)throw mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",l),new x2(`Acquiring an exclusive Navigator LockManager lock "${l}" immediately failed`);if(mr.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}T2();const C2={url:qS,storageKey:BS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$S,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dv(l,i,a){return await a()}const br={};class Ql{constructor(i){var a,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ql.nextInstanceID,Ql.nextInstanceID+=1,this.instanceID>0&&Nn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},C2),i);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new A2({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ky(o.fetch),this.lock=o.lock||Dv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Nn()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=O2:this.lock=Dv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:jy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Rv(this.memoryStorage)),Nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var i,a;return(a=(i=br[this.storageKey])===null||i===void 0?void 0:i.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(i){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{jwks:i})}get jwks_cached_at(){var i,a;return(a=(i=br[this.storageKey])===null||i===void 0?void 0:i.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(i){br[this.storageKey]=Object.assign(Object.assign({},br[this.storageKey]),{cachedAt:i})}_debug(...i){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Oy}) ${new Date().toISOString()}`,...i),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var i;try{const a=n2(window.location.href);let s="none";if(this._isImplicitGrantCallback(a)?s="implicit":await this._isPKCECallback(a)&&(s="pkce"),Nn()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:c}=await this._getSessionFromURL(a,s);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),XS(c)){const g=(i=c.details)===null||i===void 0?void 0:i.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:h,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",h,"redirect type",d),await this._saveSession(h),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return me(a)?{error:a}:{error:new Ry("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(i){var a,s,o;try{const c=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(a=i?.options)===null||a===void 0?void 0:a.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=i?.options)===null||o===void 0?void 0:o.captchaToken}},xform:pi}),{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(i){var a,s,o;try{let c;if("email"in i){const{email:p,password:b,options:_}=i;let S=null,R=null;this.flowType==="pkce"&&([S,R]=await yr(this.storage,this.storageKey)),c=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_?.emailRedirectTo,body:{email:p,password:b,data:(a=_?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:_?.captchaToken},code_challenge:S,code_challenge_method:R},xform:pi})}else if("phone"in i){const{phone:p,password:b,options:_}=i;c=await je(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:b,data:(s=_?.data)!==null&&s!==void 0?s:{},channel:(o=_?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:_?.captchaToken}},xform:pi})}else throw new go("You must provide either an email or phone number and a password");const{data:h,error:d}=c;if(d||!h)return{data:{user:null,session:null},error:d};const g=h.session,v=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(c){if(me(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(i){try{let a;if("email"in i){const{email:c,password:h,options:d}=i;a=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Cv})}else if("phone"in i){const{phone:c,password:h,options:d}=i;a=await je(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:h,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Cv})}else throw new go("You must provide either an email or phone number and a password");const{data:s,error:o}=a;return o?{data:{user:null,session:null},error:o}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new ho}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(i){var a,s,o,c;return await this._handleProviderSignIn(i.provider,{redirectTo:(a=i.options)===null||a===void 0?void 0:a.redirectTo,scopes:(s=i.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=i.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=i.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(i){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(i))}async signInWithWeb3(i){const{chain:a}=i;if(a==="solana")return await this.signInWithSolana(i);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(i){var a,s,o,c,h,d,g,v,p,b,_,S;let R,L;if("message"in i)R=i.message,L=i.signature;else{const{chain:U,wallet:Z,statement:W,options:H}=i;let J;if(Nn())if(typeof Z=="object")J=Z;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))J=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Z!="object"||!H?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");J=Z}const X=new URL((a=H?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in J&&J.signIn){const F=await J.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},H?.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),W?{statement:W}:null));let ee;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")ee=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)ee=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)R=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),L=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in J)||typeof J.signMessage!="function"||!("publicKey"in J)||typeof J!="object"||!J.publicKey||!("toBase58"in J.publicKey)||typeof J.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");R=[`${X.host} wants you to sign in with your Solana account:`,J.publicKey.toBase58(),...W?["",W,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(s=H?.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=H?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${H.signInWithSolana.notBefore}`]:[],...!((h=H?.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${H.signInWithSolana.expirationTime}`]:[],...!((d=H?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${H.signInWithSolana.chainId}`]:[],...!((g=H?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${H.signInWithSolana.nonce}`]:[],...!((v=H?.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${H.signInWithSolana.requestId}`]:[],...!((b=(p=H?.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||b===void 0)&&b.length?["Resources",...H.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);const F=await J.signMessage(new TextEncoder().encode(R),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");L=F}}try{const{data:U,error:Z}=await je(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:R,signature:FS(L)},!((_=i.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=i.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:pi});if(Z)throw Z;return!U||!U.session||!U.user?{data:{user:null,session:null},error:new ho}:(U.session&&(await this._saveSession(U.session),await this._notifyAllSubscribers("SIGNED_IN",U.session)),{data:Object.assign({},U),error:Z})}catch(U){if(me(U))return{data:{user:null,session:null},error:U};throw U}}async _exchangeCodeForSession(i){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(a??"").split("/");try{const{data:c,error:h}=await je(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:i,code_verifier:s},xform:pi});if(await Xi(this.storage,`${this.storageKey}-code-verifier`),h)throw h;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new ho}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:h})}catch(c){if(me(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(i){try{const{options:a,provider:s,token:o,access_token:c,nonce:h}=i,d=await je(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:c,nonce:h,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:pi}),{data:g,error:v}=d;return v?{data:{user:null,session:null},error:v}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new ho}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:v})}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(i){var a,s,o,c,h;try{if("email"in i){const{email:d,options:g}=i;let v=null,p=null;this.flowType==="pkce"&&([v,p]=await yr(this.storage,this.storageKey));const{error:b}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=g?.data)!==null&&a!==void 0?a:{},create_user:(s=g?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:p},redirectTo:g?.emailRedirectTo});return{data:{user:null,session:null},error:b}}if("phone"in i){const{phone:d,options:g}=i,{data:v,error:p}=await je(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=g?.data)!==null&&o!==void 0?o:{},create_user:(c=g?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(h=g?.channel)!==null&&h!==void 0?h:"sms"}});return{data:{user:null,session:null,messageId:v?.message_id},error:p}}throw new go("You must provide either an email or phone number.")}catch(d){if(me(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(i){var a,s;try{let o,c;"options"in i&&(o=(a=i.options)===null||a===void 0?void 0:a.redirectTo,c=(s=i.options)===null||s===void 0?void 0:s.captchaToken);const{data:h,error:d}=await je(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},i),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:pi});if(d)throw d;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,v=h.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(i.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:v,session:g},error:null}}catch(o){if(me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(i){var a,s,o;try{let c=null,h=null;return this.flowType==="pkce"&&([c,h]=await yr(this.storage,this.storageKey)),await je(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in i?{provider_id:i.providerId}:null),"domain"in i?{domain:i.domain}:null),{redirect_to:(s=(a=i.options)===null||a===void 0?void 0:a.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=i?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:i.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:h}),headers:this.headers,xform:b2})}catch(c){if(me(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async i=>{const{data:{session:a},error:s}=i;if(s)throw s;if(!a)throw new Vi;const{error:o}=await je(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:o}})}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async resend(i){try{const a=`${this.url}/resend`;if("email"in i){const{email:s,type:o,options:c}=i,{error:h}=await je(this.fetch,"POST",a,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}else if("phone"in i){const{phone:s,type:o,options:c}=i,{data:h,error:d}=await je(this.fetch,"POST",a,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return{data:{user:null,session:null,messageId:h?.message_id},error:d}}throw new go("You must provide either an email or phone number and a type")}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(i,a){this._debug("#_acquireLock","begin",i);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,i,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=a();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(i){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await i(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let i=null;const a=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?i=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!i)return{data:{session:null},error:null};const s=i.expires_at?i.expires_at*1e3-Date.now()<of:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",i.expires_at),!s){if(this.userStorage){const h=await Sa(this.userStorage,this.storageKey+"-user");h?.user?i.user=h.user:i.user=ff()}if(this.storage.isServer&&i.user){let h=this.suppressGetSessionWarning;i=new Proxy(i,{get:(g,v,p)=>(!h&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),h=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,v,p))})}return{data:{session:i},error:null}}const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(i){return i?await this._getUser(i):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(i){try{return i?await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:i,xform:Ii}):await this._useSession(async a=>{var s,o,c;const{data:h,error:d}=a;if(d)throw d;return!(!((s=h.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vi}:await je(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=h.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Ii})})}catch(a){if(me(a))return QS(a)&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(i,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(i,a))}async _updateUser(i,a={}){try{return await this._useSession(async s=>{const{data:o,error:c}=s;if(c)throw c;if(!o.session)throw new Vi;const h=o.session;let d=null,g=null;this.flowType==="pkce"&&i.email!=null&&([d,g]=await yr(this.storage,this.storageKey));const{data:v,error:p}=await je(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},i),{code_challenge:d,code_challenge_method:g}),jwt:h.access_token,xform:Ii});if(p)throw p;return h.user=v.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),{data:{user:h.user},error:null}})}catch(s){if(me(s))return{data:{user:null},error:s};throw s}}async setSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(i))}async _setSession(i){try{if(!i.access_token||!i.refresh_token)throw new Vi;const a=Date.now()/1e3;let s=a,o=!0,c=null;const{payload:h}=cf(i.access_token);if(h.exp&&(s=h.exp,o=s<=a),o){const{session:d,error:g}=await this._callRefreshToken(i.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!d)return{data:{user:null,session:null},error:null};c=d}else{const{data:d,error:g}=await this._getUser(i.access_token);if(g)throw g;c={access_token:i.access_token,refresh_token:i.refresh_token,user:d.user,token_type:"bearer",expires_in:s-a,expires_at:s},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(a){if(me(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(i){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(i))}async _refreshSession(i){try{return await this._useSession(async a=>{var s;if(!i){const{data:h,error:d}=a;if(d)throw d;i=(s=h.session)!==null&&s!==void 0?s:void 0}if(!i?.refresh_token)throw new Vi;const{session:o,error:c}=await this._callRefreshToken(i.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(me(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(i,a){try{if(!Nn())throw new vo("No browser detected.");if(i.error||i.error_description||i.error_code)throw new vo(i.error_description||"Error in URL with unspecified error_description",{error:i.error||"unspecified_error",code:i.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Sv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vo("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!i.code)throw new Sv("No code detected.");const{data:W,error:H}=await this._exchangeCodeForSession(i.code);if(H)throw H;const J=new URL(window.location.href);return J.searchParams.delete("code"),window.history.replaceState(window.history.state,"",J.toString()),{data:{session:W.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:c,refresh_token:h,expires_in:d,expires_at:g,token_type:v}=i;if(!c||!d||!h||!v)throw new vo("No session defined in URL");const p=Math.round(Date.now()/1e3),b=parseInt(d);let _=p+b;g&&(_=parseInt(g));const S=_-p;S*1e3<=_r&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const R=_-b;p-R>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",R,_,p):p-R<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",R,_,p);const{data:L,error:U}=await this._getUser(c);if(U)throw U;const Z={provider_token:s,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:_,refresh_token:h,token_type:v,user:L.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:Z,redirectType:i.type},error:null}}catch(s){if(me(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(i){return!!(i.access_token||i.error_description)}async _isPKCECallback(i){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(i.code&&a)}async signOut(i={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(i))}async _signOut({scope:i}={scope:"global"}){return await this._useSession(async a=>{var s;const{data:o,error:c}=a;if(c)return{error:c};const h=(s=o.session)===null||s===void 0?void 0:s.access_token;if(h){const{error:d}=await this.admin.signOut(h,i);if(d&&!(YS(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return i!=="others"&&(await this._removeSession(),await Xi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(i){const a=t2(),s={id:a,callback:i,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:s}}}async _emitInitialSession(i){return await this._useSession(async a=>{var s,o;try{const{data:{session:c},error:h}=a;if(h)throw h;await((s=this.stateChangeEmitters.get(i))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",i,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(i))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",i,"error",c),console.error(c)}})}async resetPasswordForEmail(i,a={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await yr(this.storage,this.storageKey,!0));try{return await je(this.fetch,"POST",`${this.url}/recover`,{body:{email:i,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(c){if(me(c))return{data:null,error:c};throw c}}async getUserIdentities(){var i;try{const{data:a,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(i=a.user.identities)!==null&&i!==void 0?i:[]},error:null}}catch(a){if(me(a))return{data:null,error:a};throw a}}async linkIdentity(i){var a;try{const{data:s,error:o}=await this._useSession(async c=>{var h,d,g,v,p;const{data:b,error:_}=c;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,i.provider,{redirectTo:(h=i.options)===null||h===void 0?void 0:h.redirectTo,scopes:(d=i.options)===null||d===void 0?void 0:d.scopes,queryParams:(g=i.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await je(this.fetch,"GET",S,{headers:this.headers,jwt:(p=(v=b.session)===null||v===void 0?void 0:v.access_token)!==null&&p!==void 0?p:void 0})});if(o)throw o;return Nn()&&!(!((a=i.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(s?.url),{data:{provider:i.provider,url:s?.url},error:null}}catch(s){if(me(s))return{data:{provider:i.provider,url:null},error:s};throw s}}async unlinkIdentity(i){try{return await this._useSession(async a=>{var s,o;const{data:c,error:h}=a;if(h)throw h;return await je(this.fetch,"DELETE",`${this.url}/user/identities/${i.identity_id}`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _refreshAccessToken(i){const a=`#_refreshAccessToken(${i.substring(0,5)}...)`;this._debug(a,"begin");try{const s=Date.now();return await r2(async o=>(o>0&&await a2(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await je(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:i},headers:this.headers,xform:pi})),(o,c)=>{const h=200*Math.pow(2,o);return c&&uf(c)&&Date.now()+h-s<_r})}catch(s){if(this._debug(a,"error",s),me(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(a,"end")}}_isValidSession(i){return typeof i=="object"&&i!==null&&"access_token"in i&&"refresh_token"in i&&"expires_at"in i}async _handleProviderSignIn(i,a){const s=await this._getUrlForProvider(`${this.url}/authorize`,i,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",i,"options",a,"url",s),Nn()&&!a.skipBrowserRedirect&&window.location.assign(s),{data:{provider:i,url:s},error:null}}async _recoverAndRefresh(){var i,a;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await Sa(this.storage,this.storageKey);if(o&&this.userStorage){let h=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:o.user},await Sr(this.userStorage,this.storageKey+"-user",h)),o.user=(i=h?.user)!==null&&i!==void 0?i:ff()}else if(o&&!o.user&&!o.user){const h=await Sa(this.storage,this.storageKey+"-user");h&&h?.user?(o.user=h.user,await Xi(this.storage,this.storageKey+"-user"),await Sr(this.storage,this.storageKey,o)):o.user=ff()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const c=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<of;if(this._debug(s,`session has${c?"":" not"} expired with margin of ${of}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:h}=await this._callRefreshToken(o.refresh_token);h&&(console.error(h),uf(h)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:d}=await this._getUser(o.access_token);!d&&h?.user?(o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(s,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(i){var a,s;if(!i)throw new Vi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${i.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new No;const{data:c,error:h}=await this._refreshAccessToken(i);if(h)throw h;if(!c.session)throw new Vi;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const d={session:c.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(c){if(this._debug(o,"error",c),me(c)){const h={session:null,error:c};return uf(c)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(h),h}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(i,a,s=!0){const o=`#_notifyAllSubscribers(${i})`;this._debug(o,"begin",a,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:i,session:a});const c=[],h=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(i,a)}catch(g){c.push(g)}});if(await Promise.all(h),c.length>0){for(let d=0;d<c.length;d+=1)console.error(c[d]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(i){this._debug("#_saveSession()",i),this.suppressGetSessionWarning=!0;const a=Object.assign({},i),s=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&a.user&&await Sr(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const c=xv(o);await Sr(this.storage,this.storageKey,c)}else{const o=xv(a);await Sr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Xi(this.storage,this.storageKey),await Xi(this.storage,this.storageKey+"-code-verifier"),await Xi(this.storage,this.storageKey+"-user"),this.userStorage&&await Xi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const i=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{i&&Nn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",i)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const i=setInterval(()=>this._autoRefreshTokenTick(),_r);this.autoRefreshTicker=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const i=this.autoRefreshTicker;this.autoRefreshTicker=null,i&&clearInterval(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const i=Date.now();try{return await this._useSession(async a=>{const{data:{session:s}}=a;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-i)/_r);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${_r}ms, refresh threshold is ${Af} ticks`),o<=Af&&await this._callRefreshToken(s.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(i){if(i.isAcquireTimeout||i instanceof My)this._debug("auto refresh token tick lock not available");else throw i}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(i){console.error("_handleVisibilityChange",i)}}async _onVisibilityChanged(i){const a=`#_onVisibilityChanged(${i})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),i||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(i,a,s){const o=[`provider=${encodeURIComponent(a)}`];if(s?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s?.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[c,h]=await yr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(h)}`});o.push(d.toString())}if(s?.queryParams){const c=new URLSearchParams(s.queryParams);o.push(c.toString())}return s?.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${i}?${o.join("&")}`}async _unenroll(i){try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;return c?{data:null,error:c}:await je(this.fetch,"DELETE",`${this.url}/factors/${i.factorId}`,{headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _enroll(i){try{return await this._useSession(async a=>{var s,o;const{data:c,error:h}=a;if(h)return{data:null,error:h};const d=Object.assign({friendly_name:i.friendlyName,factor_type:i.factorType},i.factorType==="phone"?{phone:i.phone}:{issuer:i.issuer}),{data:g,error:v}=await je(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(s=c?.session)===null||s===void 0?void 0:s.access_token});return v?{data:null,error:v}:(i.factorType==="totp"&&(!((o=g?.totp)===null||o===void 0)&&o.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(a){if(me(a))return{data:null,error:a};throw a}}async _verify(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;if(c)return{data:null,error:c};const{data:h,error:d}=await je(this.fetch,"POST",`${this.url}/factors/${i.factorId}/verify`,{body:{code:i.code,challenge_id:i.challengeId},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),{data:h,error:d})})}catch(a){if(me(a))return{data:null,error:a};throw a}})}async _challenge(i){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var s;const{data:o,error:c}=a;return c?{data:null,error:c}:await je(this.fetch,"POST",`${this.url}/factors/${i.factorId}/challenge`,{body:{channel:i.channel},headers:this.headers,jwt:(s=o?.session)===null||s===void 0?void 0:s.access_token})})}catch(a){if(me(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(i){const{data:a,error:s}=await this._challenge({factorId:i.factorId});return s?{data:null,error:s}:await this._verify({factorId:i.factorId,challengeId:a.id,code:i.code})}async _listFactors(){const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const s=i?.factors||[],o=s.filter(h=>h.factor_type==="totp"&&h.status==="verified"),c=s.filter(h=>h.factor_type==="phone"&&h.status==="verified");return{data:{all:s,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async i=>{var a,s;const{data:{session:o},error:c}=i;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:h}=cf(o.access_token);let d=null;h.aal&&(d=h.aal);let g=d;((s=(a=o.user.factors)===null||a===void 0?void 0:a.filter(b=>b.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(g="aal2");const p=h.amr||[];return{data:{currentLevel:d,nextLevel:g,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(i,a={keys:[]}){let s=a.keys.find(d=>d.kid===i);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(d=>d.kid===i),s&&this.jwks_cached_at+KS>o)return s;const{data:c,error:h}=await je(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,s=c.keys.find(d=>d.kid===i),!s)?null:s}async getClaims(i,a={}){try{let s=i;if(!s){const{data:S,error:R}=await this.getSession();if(R||!S.session)return{data:null,error:R};s=S.session.access_token}const{header:o,payload:c,signature:h,raw:{header:d,payload:g}}=cf(s);a?.allowExpired||h2(c.exp);const v=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!v){const{error:S}=await this.getUser(s);if(S)throw S;return{data:{claims:c,header:o,signature:h},error:null}}const p=d2(o.alg),b=await crypto.subtle.importKey("jwk",v,p,!0,["verify"]);if(!await crypto.subtle.verify(p,b,h,WS(`${d}.${g}`)))throw new Of("Invalid JWT signature");return{data:{claims:c,header:o,signature:h},error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}}}Ql.nextInstanceID=0;const R2=Ql;class D2 extends R2{constructor(i){super(i)}}var j2=function(l,i,a,s){function o(c){return c instanceof a?c:new a(function(h){h(c)})}return new(a||(a=Promise))(function(c,h){function d(p){try{v(s.next(p))}catch(b){h(b)}}function g(p){try{v(s.throw(p))}catch(b){h(b)}}function v(p){p.done?c(p.value):o(p.value).then(d,g)}v((s=s.apply(l,i||[])).next())})};class k2{constructor(i,a,s){var o,c,h;if(this.supabaseUrl=i,this.supabaseKey=a,!i)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const d=US(i),g=new URL(d);this.realtimeUrl=new URL("realtime/v1",g),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",g),this.storageUrl=new URL("storage/v1",g),this.functionsUrl=new URL("functions/v1",g);const v=`sb-${g.hostname.split(".")[0]}-auth-token`,p={db:CS,realtime:DS,auth:Object.assign(Object.assign({},RS),{storageKey:v}),global:OS},b=zS(s??{},p);this.storageKey=(o=b.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=b.global.headers)!==null&&c!==void 0?c:{},b.accessToken?(this.accessToken=b.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((h=b.auth)!==null&&h!==void 0?h:{},this.headers,b.global.fetch),this.fetch=NS(a,this._getAccessToken.bind(this),b.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},b.realtime)),this.rest=new J_(new URL("rest/v1",g).href,{headers:this.headers,schema:b.db.schema,fetch:this.fetch}),b.accessToken||this._listenForAuthEvents()}get functions(){return new q_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new AS(this.storageUrl.href,this.headers,this.fetch)}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,a={},s={}){return this.rest.rpc(i,a,s)}channel(i,a={config:{}}){return this.realtime.channel(i,a)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var i,a;return j2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:a,detectSessionInUrl:s,storage:o,storageKey:c,flowType:h,lock:d,debug:g},v,p){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new D2({url:this.authUrl.href,headers:Object.assign(Object.assign({},b),v),storageKey:c,autoRefreshToken:i,persistSession:a,detectSessionInUrl:s,storage:o,flowType:h,lock:d,debug:g,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(i){return new fS(this.realtimeUrl.href,Object.assign(Object.assign({},i),{params:Object.assign({apikey:this.supabaseKey},i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,s)=>{this._handleTokenChanged(a,"CLIENT",s?.access_token)})}_handleTokenChanged(i,a,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:i==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M2=(l,i,a)=>new k2(l,i,a),N2=M2("https://jpjxbygtdaxwncmbokzy.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpwanhieWd0ZGF4d25jbWJva3p5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4MzA5MjIsImV4cCI6MjA2ODQwNjkyMn0.pPj2uZ0lQzdWXxHFWV4OzFhPGbYa2XVQvJxlZ-DUcZg");function L2(l){const[i,a]=x.useState([]),[s,o]=x.useState(!0),[c,h]=x.useState(null);return x.useEffect(()=>{if(!l)return;o(!0),h(null);async function d(){const{data:g,error:v}=await N2.from("Move").select("*").eq("fen",l);v?h(v):a(g),o(!1)}d()},[l]),{data:i,loading:s,error:c}}function U2(l,i){const[a,s]=x.useState(""),[o,c]=x.useState({});function h(g){const v=l.moves({square:g,verbose:!0});if(v.length===0)return c({}),!1;const p={};for(const b of v)p[b.to]={background:l.get(b.to)&&l.get(b.to)?.color!==l.get(g)?.color?"radial-gradient(circle, rgba(0,0,0,.1) 85%, transparent 85%)":"radial-gradient(circle, rgba(0,0,0,.1) 25%, transparent 25%)",borderRadius:"50%"};return p[g]={background:"rgba(255, 255, 0, 0.4)"},c(p),!0}function d({square:g,piece:v}){if(!a&&v){h(g)&&s(g);return}const b=l.moves({square:a,verbose:!0}).find(_=>_.from===a&&_.to===g);if(!b){const _=h(g);s(_?g:"");return}try{i(b.san)}catch{h(g)&&s(g);return}s(""),c({})}return{optionSquares:o,onSquareClick:d}}function z2(){const[l,i]=x.useState(new rf),[a,s]=x.useState([l.fen()]),{optionSquares:o,onSquareClick:c}=U2(l,g),{data:h}=L2(l.fen()),d={allowDragging:!1,onSquareClick:c,position:l.fen(),defaultSquareStyle:Hf,squareStyles:o};async function g(p){if(!h.find(_=>_.move===p)){const _=await Rf.openAsync(({isOpen:S,close:R})=>ue.jsx(k_,{isOpen:S,close:R,move:p}));console.log(p,_)}const b=new rf(l.fen());b.move(p),i(b),s(_=>[..._,b.fen()])}function v(){if(a.length>1){const p=a.slice(0,a.length-1),b=new rf(p[p.length-1]);i(b),s(p)}}return ue.jsx("div",{className:"h-screen w-screen flex items-center",children:ue.jsx("div",{className:"h-full w-full flex items-center sm:p-16 p-4",children:ue.jsxs("div",{className:"flex h-full w-full justify-around items-center max-sm:flex-col",children:[ue.jsx("div",{className:"w-1/2 h-fit max-sm:w-full",children:ue.jsx(o_,{options:d})}),ue.jsx("div",{className:"h-3/4 w-2/5 overflow-y-scroll max-sm:w-full max-sm:mt-4",children:ue.jsx(d1,{fen:l.fen(),onMove:g,onUndo:v,moves:h})})]})})})}Vm.createRoot(document.getElementById("root")).render(ue.jsx(r1,{children:ue.jsx(z2,{})}));
